{
  "assign.rb": {
    "filename": "assign.rb",
    "input_code": "# typed: false\n# Should still see at least method def (not body)\ndef test_bad_assign(x)\n  x =\nend # error: unexpected token\n",
    "original_errors": "test/testdata/parser/error_recovery/assign.rb:5: unexpected token \"end\" https://srb.help/2001\n     5 |end # error: unexpected token\n        ^^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/assign.rb:4: expected an expression after `=` https://srb.help/2001\n     4 |  x =\n            ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def test_bad_assign<<todo method>>(x, &<blk>)\n    x = <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def test_bad_assign<<todo method>>(x, &<blk>)\n    x = <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 1.0,
    "tree_emoji": "游릭",
    "tree_diff": "Trees are identical",
    "error_emoji": "游릭",
    "error_assessment": "Prism provides a more accurate error location pointing directly at the incomplete assignment operator and a clearer message about what's missing."
  },
  "begin_1.rb": {
    "filename": "begin_1.rb",
    "input_code": "# typed: false\n\nclass A\n  def test1\n    begin # error: Hint: this \"begin\" token might not be properly closed\n      puts 'inside'\n    rescue\n    puts 'after'\n  end\n\n  def test2\n      begin # error: Hint: this \"begin\" token might not be properly closed\n        puts 'inside'\n    rescue\n    puts 'after'\n  end\n\n  def test3\n    begin # error: Hint: this \"begin\" token might not be properly closed\n      puts 'inside'\n    rescue\n      puts 'after'\n  end\n\n  def test4\n    begin # error: Hint: this \"begin\" token might not be properly closed\n      puts 'inside'\n    rescue\n    puts 'after'\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/begin_1.rb:31: unexpected token \"end of file\" https://srb.help/2001\n    31 |end # error: unexpected token \"end of file\"\n    32 |\n\ntest/testdata/parser/error_recovery/begin_1.rb:5: Hint: this \"begin\" token might not be properly closed https://srb.help/2003\n     5 |    begin # error: Hint: this \"begin\" token might not be properly closed\n            ^^^^^\n    test/testdata/parser/error_recovery/begin_1.rb:9: Matching `end` found here but is not indented as far\n     9 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/begin_1.rb:12: Hint: this \"begin\" token might not be properly closed https://srb.help/2003\n    12 |      begin # error: Hint: this \"begin\" token might not be properly closed\n              ^^^^^\n    test/testdata/parser/error_recovery/begin_1.rb:16: Matching `end` found here but is not indented as far\n    16 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/begin_1.rb:19: Hint: this \"begin\" token might not be properly closed https://srb.help/2003\n    19 |    begin # error: Hint: this \"begin\" token might not be properly closed\n            ^^^^^\n    test/testdata/parser/error_recovery/begin_1.rb:23: Matching `end` found here but is not indented as far\n    23 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/begin_1.rb:26: Hint: this \"begin\" token might not be properly closed https://srb.help/2003\n    26 |    begin # error: Hint: this \"begin\" token might not be properly closed\n            ^^^^^\n    test/testdata/parser/error_recovery/begin_1.rb:30: Matching `end` found here but is not indented as far\n    30 |  end\n          ^^^\nErrors: 5",
    "original_error_count": 5,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/begin_1.rb:32: expected an `end` to close the `def` statement https://srb.help/2001\n    32 |\n        ^\n\ntest/testdata/parser/error_recovery/begin_1.rb:32: expected an `end` to close the `def` statement https://srb.help/2001\n    32 |\n        ^\n\ntest/testdata/parser/error_recovery/begin_1.rb:32: expected an `end` to close the `def` statement https://srb.help/2001\n    32 |\n        ^\n\ntest/testdata/parser/error_recovery/begin_1.rb:32: expected an `end` to close the `class` statement https://srb.help/2001\n    32 |\n        ^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      <self>.puts(\"inside\")\n    rescue => <rescueTemp>$2\n      <self>.puts(\"after\")\n    end\n\n    def test2<<todo method>>(&<blk>)\n      <self>.puts(\"inside\")\n    rescue => <rescueTemp>$2\n      <self>.puts(\"after\")\n    end\n\n    def test3<<todo method>>(&<blk>)\n      <self>.puts(\"inside\")\n    rescue => <rescueTemp>$2\n      <self>.puts(\"after\")\n    end\n\n    def test4<<todo method>>(&<blk>)\n      <self>.puts(\"inside\")\n    rescue => <rescueTemp>$2\n      <self>.puts(\"after\")\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"inside\")\n      rescue => <rescueTemp>$2\n        <self>.puts(\"after\")\n        def test2<<todo method>>(&<blk>)\n          begin\n            <self>.puts(\"inside\")\n          rescue => <rescueTemp>$2\n            <self>.puts(\"after\")\n            def test3<<todo method>>(&<blk>)\n              begin\n                <self>.puts(\"inside\")\n              rescue => <rescueTemp>$2\n                <self>.puts(\"after\")\n                def test4<<todo method>>(&<blk>)\n                  <self>.puts(\"inside\")\n                rescue => <rescueTemp>$2\n                  <self>.puts(\"after\")\n                end\n                <emptyTree>::<C <ErrorNode>>\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.19668508287292819,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,27 +1,31 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     def test1<<todo method>>(&<blk>)\n-      <self>.puts(\"inside\")\n-    rescue => <rescueTemp>$2\n-      <self>.puts(\"after\")\n+      begin\n+        <self>.puts(\"inside\")\n+      rescue => <rescueTemp>$2\n+        <self>.puts(\"after\")\n+        def test2<<todo method>>(&<blk>)\n+          begin\n+            <self>.puts(\"inside\")\n+          rescue => <rescueTemp>$2\n+            <self>.puts(\"after\")\n+            def test3<<todo method>>(&<blk>)\n+              begin\n+                <self>.puts(\"inside\")\n+              rescue => <rescueTemp>$2\n+                <self>.puts(\"after\")\n+                def test4<<todo method>>(&<blk>)\n+                  <self>.puts(\"inside\")\n+                rescue => <rescueTemp>$2\n+                  <self>.puts(\"after\")\n+                end\n+                <emptyTree>::<C <ErrorNode>>\n+              end\n+            end\n+          end\n+        end\n+      end\n     end\n-\n-    def test2<<todo method>>(&<blk>)\n-      <self>.puts(\"inside\")\n-    rescue => <rescueTemp>$2\n-      <self>.puts(\"after\")\n-    end\n-\n-    def test3<<todo method>>(&<blk>)\n-      <self>.puts(\"inside\")\n-    rescue => <rescueTemp>$2\n-      <self>.puts(\"after\")\n-    end\n-\n-    def test4<<todo method>>(&<blk>)\n-      <self>.puts(\"inside\")\n-    rescue => <rescueTemp>$2\n-      <self>.puts(\"after\")\n-    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the root cause (improperly closed begin blocks due to indentation) and only reports generic missing end errors at EOF, while Original correctly identifies all four begin blocks with indentation problems."
  },
  "block_arg_and_block.rb": {
    "filename": "block_arg_and_block.rb",
    "input_code": "# typed: true\n\n[1,2,3].each do |x|\n  foo(&bar) do puts(x) end\n#     ^^^^  error: both block argument and literal block are passed\n#      ^^^  error: Method `bar` does not exist\n# ^^^       error: Method `foo` does not exist\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/block_arg_and_block.rb:4: both block argument and literal block are passed https://srb.help/2001\n     4 |  foo(&bar) do puts(x) end\n              ^^^^\n\ntest/testdata/parser/error_recovery/block_arg_and_block.rb:4: Method `bar` does not exist on `T.class_of(<root>)` https://srb.help/7003\n     4 |  foo(&bar) do puts(x) end\n               ^^^\n  Got `T.class_of(<root>)` originating from:\n    test/testdata/parser/error_recovery/block_arg_and_block.rb:3:\n     3 |[1,2,3].each do |x|\n        ^\n\ntest/testdata/parser/error_recovery/block_arg_and_block.rb:4: Method `foo` does not exist on `T.class_of(<root>)` https://srb.help/7003\n     4 |  foo(&bar) do puts(x) end\n          ^^^\n  Got `T.class_of(<root>)` originating from:\n    test/testdata/parser/error_recovery/block_arg_and_block.rb:3:\n     3 |[1,2,3].each do |x|\n        ^\nErrors: 3",
    "original_error_count": 3,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/block_arg_and_block.rb:4: both block arg and actual block given; only one block is allowed https://srb.help/2001\n     4 |  foo(&bar) do puts(x) end\n                    ^^^^^^^^^^^^^^\n\ntest/testdata/parser/error_recovery/block_arg_and_block.rb:4: Method `bar` does not exist on `T.class_of(<root>)` https://srb.help/7003\n     4 |  foo(&bar) do puts(x) end\n               ^^^\n  Got `T.class_of(<root>)` originating from:\n    test/testdata/parser/error_recovery/block_arg_and_block.rb:3:\n     3 |[1,2,3].each do |x|\n        ^\n\ntest/testdata/parser/error_recovery/block_arg_and_block.rb:4: Method `foo` does not exist on `T.class_of(<root>)` https://srb.help/7003\n     4 |  foo(&bar) do puts(x) end\n          ^^^\n  Got `T.class_of(<root>)` originating from:\n    test/testdata/parser/error_recovery/block_arg_and_block.rb:3:\n     3 |[1,2,3].each do |x|\n        ^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].each() do |x|\n    ::<Magic>.<call-with-block-pass>(<self>, :foo, <self>.bar()) do ||\n      <self>.puts(x)\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].each() do |x|\n    ::<Magic>.<call-with-block-pass>(<self>, :foo, <self>.bar()) do ||\n      <self>.puts(x)\n    end\n  end\nend",
    "tree_similarity": 1.0,
    "tree_emoji": "游릭",
    "tree_diff": "Trees are identical",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all three errors correctly but the first error's location points to the entire block instead of the block argument, making it slightly less precise than Original."
  },
  "block_do_1.rb": {
    "filename": "block_do_1.rb",
    "input_code": "# typed: false\n\nclass A\n  def test1\n    puts 'before'\n    x.f do # error: Hint: this \"do\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test2\n    puts 'before'\n    x.f() do # error: Hint: this \"do\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test3\n    puts 'before'\n    f() do # error: Hint: this \"do\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test4\n    puts 'before'\n    f() do # error: Hint: this \"do\" token might not be properly closed\n    puts 'after'\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/block_do_1.rb:27: unexpected token \"end of file\" https://srb.help/2001\n    27 |end # error: unexpected token \"end of file\"\n    28 |\n\ntest/testdata/parser/error_recovery/block_do_1.rb:6: Hint: this \"do\" token might not be properly closed https://srb.help/2003\n     6 |    x.f do # error: Hint: this \"do\" token might not be properly closed\n                ^^\n    test/testdata/parser/error_recovery/block_do_1.rb:8: Matching `end` found here but is not indented as far\n     8 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/block_do_1.rb:12: Hint: this \"do\" token might not be properly closed https://srb.help/2003\n    12 |    x.f() do # error: Hint: this \"do\" token might not be properly closed\n                  ^^\n    test/testdata/parser/error_recovery/block_do_1.rb:14: Matching `end` found here but is not indented as far\n    14 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/block_do_1.rb:18: Hint: this \"do\" token might not be properly closed https://srb.help/2003\n    18 |    f() do # error: Hint: this \"do\" token might not be properly closed\n                ^^\n    test/testdata/parser/error_recovery/block_do_1.rb:20: Matching `end` found here but is not indented as far\n    20 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/block_do_1.rb:24: Hint: this \"do\" token might not be properly closed https://srb.help/2003\n    24 |    f() do # error: Hint: this \"do\" token might not be properly closed\n                ^^\n    test/testdata/parser/error_recovery/block_do_1.rb:26: Matching `end` found here but is not indented as far\n    26 |  end\n          ^^^\nErrors: 5",
    "original_error_count": 5,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/block_do_1.rb:28: expected an `end` to close the `def` statement https://srb.help/2001\n    28 |\n        ^\n\ntest/testdata/parser/error_recovery/block_do_1.rb:28: expected an `end` to close the `def` statement https://srb.help/2001\n    28 |\n        ^\n\ntest/testdata/parser/error_recovery/block_do_1.rb:28: expected an `end` to close the `def` statement https://srb.help/2001\n    28 |\n        ^\n\ntest/testdata/parser/error_recovery/block_do_1.rb:28: expected an `end` to close the `class` statement https://srb.help/2001\n    28 |\n        ^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.x().f() do ||\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.x().f() do ||\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test3<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.f() do ||\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test4<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.f() do ||\n          <self>.puts(\"after\")\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.x().f() do ||\n          <self>.puts(\"after\")\n        end\n        def test2<<todo method>>(&<blk>)\n          begin\n            <self>.puts(\"before\")\n            <self>.x().f() do ||\n              <self>.puts(\"after\")\n            end\n            def test3<<todo method>>(&<blk>)\n              begin\n                <self>.puts(\"before\")\n                <self>.f() do ||\n                  <self>.puts(\"after\")\n                end\n                def test4<<todo method>>(&<blk>)\n                  begin\n                    <self>.puts(\"before\")\n                    <self>.f() do ||\n                      <self>.puts(\"after\")\n                    end\n                  end\n                end\n                <emptyTree>::<C <ErrorNode>>\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.34476003917727716,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -6,34 +6,32 @@\n         <self>.x().f() do ||\n           <self>.puts(\"after\")\n         end\n-      end\n-    end\n-\n-    def test2<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        <self>.x().f() do ||\n-          <self>.puts(\"after\")\n+        def test2<<todo method>>(&<blk>)\n+          begin\n+            <self>.puts(\"before\")\n+            <self>.x().f() do ||\n+              <self>.puts(\"after\")\n+            end\n+            def test3<<todo method>>(&<blk>)\n+              begin\n+                <self>.puts(\"before\")\n+                <self>.f() do ||\n+                  <self>.puts(\"after\")\n+                end\n+                def test4<<todo method>>(&<blk>)\n+                  begin\n+                    <self>.puts(\"before\")\n+                    <self>.f() do ||\n+                      <self>.puts(\"after\")\n+                    end\n+                  end\n+                end\n+                <emptyTree>::<C <ErrorNode>>\n+              end\n+            end\n+          end\n         end\n       end\n     end\n-\n-    def test3<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        <self>.f() do ||\n-          <self>.puts(\"after\")\n-        end\n-      end\n-    end\n-\n-    def test4<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        <self>.f() do ||\n-          <self>.puts(\"after\")\n-        end\n-      end\n-    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the root cause entirely by not detecting the unclosed do blocks, instead only reporting generic missing end statements at EOF without the helpful indentation hints that pinpoint each problematic do token."
  },
  "case_1.rb": {
    "filename": "case_1.rb",
    "input_code": "# typed: false\n\nclass A\n  def test1\n    # These errors are currently doubled because we actually report this error\n    # on the first and second parse. (Most of the time, e.g. in files where\n    # this is the only parse error, this syntax error alone won't force us into\n    # indentation-aware recovery mode, so I've lazily decided this is good\n    # enough. If you've made it better that's great!)\n    puts 'before'\n    case\n  # ^^^^ error: \"case\" statement must at least have one \"when\" clause\n  # ^^^^ error: Hint: this \"case\" token might not be properly closed\n  # ^^^^ error: Hint: this \"case\" token might not be properly closed\n  end\n\n  def test2\n    puts 'before'\n    case x # error: unexpected token \"case\"\n    puts 'after'\n  end\n\n  def test3\n    puts 'before'\n    case x # error: Hint: this \"case\" token might not be properly closed\n    when\n    puts 'after' # error: unexpected token tSTRING\n  end\n\n  def test4\n    puts 'before'\n    case x # error: Hint: this \"case\" token might not be properly closed\n    when A\n    puts 'after'\n  end\n\n  def test5\n    puts 'before'\n    case x # error: Hint: this \"case\" token might not be properly closed\n    when A then\n    puts 'after'\n  end\n\n  def test6\n    puts 'before'\n    case x # error: Hint: this \"case\" token might not be properly closed\n    when then # error: unexpected token \"then\"\n    puts 'after'\n  end\n\n  def test7\n    puts 'before'\n    case x # error: Hint: this \"case\" token might not be properly closed\n    when A\n    else\n    puts 'after'\n  end\n\n  def test8\n    puts 'before'\n    case # error: Hint: this \"case\" token might not be properly closed\n    when A\n    else\n    puts 'after'\n  end\n\n  def test9\n    puts 'before'\n    case x # error: Hint: this \"case\" token might not be properly closed\n    in A\n    else\n    puts 'after'\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/case_1.rb:11: \"case\" statement must at least have one \"when\" clause https://srb.help/2001\n    11 |    case\n            ^^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:11: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    11 |    case\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:15: Matching `end` found here but is not indented as far\n    15 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:19: unexpected token \"case\" https://srb.help/2001\n    19 |    case x # error: unexpected token \"case\"\n            ^^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:27: unexpected token tSTRING https://srb.help/2001\n    27 |    puts 'after' # error: unexpected token tSTRING\n                 ^^^^^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:47: unexpected token \"then\" https://srb.help/2001\n    47 |    when then # error: unexpected token \"then\"\n                 ^^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:74: unexpected token \"end of file\" https://srb.help/2001\n    74 |end # error: unexpected token \"end of file\"\n    75 |\n\ntest/testdata/parser/error_recovery/case_1.rb:11: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    11 |    case\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:15: Matching `end` found here but is not indented as far\n    15 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:25: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    25 |    case x # error: Hint: this \"case\" token might not be properly closed\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:28: Matching `end` found here but is not indented as far\n    28 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:32: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    32 |    case x # error: Hint: this \"case\" token might not be properly closed\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:35: Matching `end` found here but is not indented as far\n    35 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:39: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    39 |    case x # error: Hint: this \"case\" token might not be properly closed\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:42: Matching `end` found here but is not indented as far\n    42 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:46: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    46 |    case x # error: Hint: this \"case\" token might not be properly closed\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:49: Matching `end` found here but is not indented as far\n    49 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:53: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    53 |    case x # error: Hint: this \"case\" token might not be properly closed\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:57: Matching `end` found here but is not indented as far\n    57 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:61: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    61 |    case # error: Hint: this \"case\" token might not be properly closed\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:65: Matching `end` found here but is not indented as far\n    65 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:69: Hint: this \"case\" token might not be properly closed https://srb.help/2003\n    69 |    case x # error: Hint: this \"case\" token might not be properly closed\n            ^^^^\n    test/testdata/parser/error_recovery/case_1.rb:73: Matching `end` found here but is not indented as far\n    73 |  end\n          ^^^\nErrors: 14",
    "original_error_count": 14,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/case_1.rb:11: expected a `when` or `in` clause after `case` https://srb.help/2001\n    11 |    case\n            ^^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:19: expected a `when` or `in` clause after `case` https://srb.help/2001\n    19 |    case x # error: unexpected token \"case\"\n            ^^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:20: expected an `end` to close the `case` statement https://srb.help/2001\n    20 |    puts 'after'\n        ^\n\ntest/testdata/parser/error_recovery/case_1.rb:20: unexpected local variable or method, expecting end-of-input https://srb.help/2001\n    20 |    puts 'after'\n            ^^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:27: expected a delimiter after the predicates of a `when` clause https://srb.help/2001\n    27 |    puts 'after' # error: unexpected token tSTRING\n                ^\n\ntest/testdata/parser/error_recovery/case_1.rb:47: expected an expression after `when` https://srb.help/2001\n    47 |    when then # error: unexpected token \"then\"\n            ^^^^\n\ntest/testdata/parser/error_recovery/case_1.rb:75: expected an `end` to close the `def` statement https://srb.help/2001\n    75 |\n        ^\n\ntest/testdata/parser/error_recovery/case_1.rb:75: expected an `end` to close the `def` statement https://srb.help/2001\n    75 |\n        ^\n\ntest/testdata/parser/error_recovery/case_1.rb:75: expected an `end` to close the `def` statement https://srb.help/2001\n    75 |\n        ^\n\ntest/testdata/parser/error_recovery/case_1.rb:75: expected an `end` to close the `def` statement https://srb.help/2001\n    75 |\n        ^\n\ntest/testdata/parser/error_recovery/case_1.rb:75: expected an `end` to close the `def` statement https://srb.help/2001\n    75 |\n        ^\n\ntest/testdata/parser/error_recovery/case_1.rb:75: expected an `end` to close the `def` statement https://srb.help/2001\n    75 |\n        ^\n\ntest/testdata/parser/error_recovery/case_1.rb:75: expected an `end` to close the `def` statement https://srb.help/2001\n    75 |\n        ^\n\ntest/testdata/parser/error_recovery/case_1.rb:75: expected an `end` to close the `class` statement https://srb.help/2001\n    75 |\n        ^\nErrors: 14",
    "prism_error_count": 14,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        begin\n          <assignTemp>$2 = <emptyTree>::<C <ErrorNode>>\n          if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n            <emptyTree>\n          else\n            <emptyTree>\n          end\n        end\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def test3<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        begin\n          <assignTemp>$2 = <self>.x()\n          if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n            <emptyTree>\n          else\n            <emptyTree>\n          end\n        end\n      end\n    end\n\n    def test4<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        begin\n          <assignTemp>$2 = <self>.x()\n          if <emptyTree>::<C A>.===(<assignTemp>$2)\n            <self>.puts(\"after\")\n          else\n            <emptyTree>\n          end\n        end\n      end\n    end\n\n    def test5<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        begin\n          <assignTemp>$2 = <self>.x()\n          if <emptyTree>::<C A>.===(<assignTemp>$2)\n            <self>.puts(\"after\")\n          else\n            <emptyTree>\n          end\n        end\n      end\n    end\n\n    def test6<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        begin\n          <assignTemp>$2 = <self>.x()\n          if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n            <self>.puts(\"after\")\n          else\n            <emptyTree>\n          end\n        end\n      end\n    end\n\n    def test7<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        begin\n          <assignTemp>$2 = <self>.x()\n          if <emptyTree>::<C A>.===(<assignTemp>$2)\n            <emptyTree>\n          else\n            <self>.puts(\"after\")\n          end\n        end\n      end\n    end\n\n    def test8<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        if <emptyTree>::<C A>\n          <emptyTree>\n        else\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test9<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        begin\n          <assignTemp>$2 = <self>.x()\n          if ::T.unsafe(::Kernel).raise(\"Sorbet rewriter pass partially unimplemented\")\n            <emptyTree>\n          else\n            <self>.puts(\"after\")\n          end\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <emptyTree>\n        def test2<<todo method>>(&<blk>)\n          begin\n            <self>.puts(\"before\")\n            begin\n              <assignTemp>$1 = <self>.x()\n              <emptyTree>\n            end\n            <self>.puts(\"after\")\n          end\n        end\n        def test3<<todo method>>(&<blk>)\n          begin\n            <self>.puts(\"before\")\n            begin\n              <assignTemp>$1 = <self>.x()\n              if <self>.puts().===(<assignTemp>$1)\n                \"after\"\n              else\n                <emptyTree>\n              end\n            end\n            def test4<<todo method>>(&<blk>)\n              begin\n                <self>.puts(\"before\")\n                begin\n                  <assignTemp>$1 = <self>.x()\n                  if <emptyTree>::<C A>.===(<assignTemp>$1)\n                    <self>.puts(\"after\")\n                  else\n                    <emptyTree>\n                  end\n                end\n                def test5<<todo method>>(&<blk>)\n                  begin\n                    <self>.puts(\"before\")\n                    begin\n                      <assignTemp>$1 = <self>.x()\n                      if <emptyTree>::<C A>.===(<assignTemp>$1)\n                        <self>.puts(\"after\")\n                      else\n                        <emptyTree>\n                      end\n                    end\n                    def test6<<todo method>>(&<blk>)\n                      begin\n                        <self>.puts(\"before\")\n                        begin\n                          <assignTemp>$2 = <self>.x()\n                          if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n                            <self>.puts(\"after\")\n                          else\n                            <emptyTree>\n                          end\n                        end\n                        def test7<<todo method>>(&<blk>)\n                          begin\n                            <self>.puts(\"before\")\n                            begin\n                              <assignTemp>$1 = <self>.x()\n                              if <emptyTree>::<C A>.===(<assignTemp>$1)\n                                <emptyTree>\n                              else\n                                <self>.puts(\"after\")\n                              end\n                            end\n                            def test8<<todo method>>(&<blk>)\n                              begin\n                                <self>.puts(\"before\")\n                                if <emptyTree>::<C A>\n                                  <emptyTree>\n                                else\n                                  <self>.puts(\"after\")\n                                end\n                                def test9<<todo method>>(&<blk>)\n                                  begin\n                                    <self>.puts(\"before\")\n                                    begin\n                                      <assignTemp>$1 = <self>.x()\n                                      if ::T.unsafe(::Kernel).raise(\"Sorbet rewriter pass partially unimplemented\")\n                                        <emptyTree>\n                                      else\n                                        <self>.puts(\"after\")\n                                      end\n                                    end\n                                  end\n                                end\n                                <emptyTree>::<C <ErrorNode>>\n                              end\n                            end\n                          end\n                        end\n                      end\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.18119787717968158,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -3,114 +3,107 @@\n     def test1<<todo method>>(&<blk>)\n       begin\n         <self>.puts(\"before\")\n-        begin\n-          <assignTemp>$2 = <emptyTree>::<C <ErrorNode>>\n-          if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n-            <emptyTree>\n-          else\n-            <emptyTree>\n-          end\n-        end\n-      end\n-    end\n-\n-    def test2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n-\n-    def test3<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        begin\n-          <assignTemp>$2 = <self>.x()\n-          if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n-            <emptyTree>\n-          else\n-            <emptyTree>\n-          end\n-        end\n-      end\n-    end\n-\n-    def test4<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        begin\n-          <assignTemp>$2 = <self>.x()\n-          if <emptyTree>::<C A>.===(<assignTemp>$2)\n+        <emptyTree>\n+        def test2<<todo method>>(&<blk>)\n+          begin\n+            <self>.puts(\"before\")\n+            begin\n+              <assignTemp>$1 = <self>.x()\n+              <emptyTree>\n+            end\n             <self>.puts(\"after\")\n-          else\n-            <emptyTree>\n           end\n         end\n-      end\n-    end\n-\n-    def test5<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        begin\n-          <assignTemp>$2 = <self>.x()\n-          if <emptyTree>::<C A>.===(<assignTemp>$2)\n-            <self>.puts(\"after\")\n-          else\n-            <emptyTree>\n+        def test3<<todo method>>(&<blk>)\n+          begin\n+            <self>.puts(\"before\")\n+            begin\n+              <assignTemp>$1 = <self>.x()\n+              if <self>.puts().===(<assignTemp>$1)\n+                \"after\"\n+              else\n+                <emptyTree>\n+              end\n+            end\n+            def test4<<todo method>>(&<blk>)\n+              begin\n+                <self>.puts(\"before\")\n+                begin\n+                  <assignTemp>$1 = <self>.x()\n+                  if <emptyTree>::<C A>.===(<assignTemp>$1)\n+                    <self>.puts(\"after\")\n+                  else\n+                    <emptyTree>\n+                  end\n+                end\n+                def test5<<todo method>>(&<blk>)\n+                  begin\n+                    <self>.puts(\"before\")\n+                    begin\n+                      <assignTemp>$1 = <self>.x()\n+                      if <emptyTree>::<C A>.===(<assignTemp>$1)\n+                        <self>.puts(\"after\")\n+                      else\n+                        <emptyTree>\n+                      end\n+                    end\n+                    def test6<<todo method>>(&<blk>)\n+                      begin\n+                        <self>.puts(\"before\")\n+                        begin\n+                          <assignTemp>$2 = <self>.x()\n+                          if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n+                            <self>.puts(\"after\")\n+                          else\n+                            <emptyTree>\n+                          end\n+                        end\n+                        def test7<<todo method>>(&<blk>)\n+                          begin\n+                            <self>.puts(\"before\")\n+                            begin\n+                              <assignTemp>$1 = <self>.x()\n+                              if <emptyTree>::<C A>.===(<assignTemp>$1)\n+                                <emptyTree>\n+                              else\n+                                <self>.puts(\"after\")\n+                              end\n+                            end\n+                            def test8<<todo method>>(&<blk>)\n+                              begin\n+                                <self>.puts(\"before\")\n+                                if <emptyTree>::<C A>\n+                                  <emptyTree>\n+                                else\n+                                  <self>.puts(\"after\")\n+                                end\n+                                def test9<<todo method>>(&<blk>)\n+                                  begin\n+                                    <self>.puts(\"before\")\n+                                    begin\n+                                      <assignTemp>$1 = <self>.x()\n+                                      if ::T.unsafe(::Kernel).raise(\"Sorbet rewriter pass partially unimplemented\")\n+                                        <emptyTree>\n+                                      else\n+                                        <self>.puts(\"after\")\n+                                      end\n+                                    end\n+                                  end\n+                                end\n+                                <emptyTree>::<C <ErrorNode>>\n+                              end\n+                            end\n+                          end\n+                        end\n+                      end\n+                    end\n+                  end\n+                end\n+              end\n+            end\n           end\n         end\n       end\n     end\n-\n-    def test6<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        begin\n-          <assignTemp>$2 = <self>.x()\n-          if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n-            <self>.puts(\"after\")\n-          else\n-            <emptyTree>\n-          end\n-        end\n-      end\n-    end\n-\n-    def test7<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        begin\n-          <assignTemp>$2 = <self>.x()\n-          if <emptyTree>::<C A>.===(<assignTemp>$2)\n-            <emptyTree>\n-          else\n-            <self>.puts(\"after\")\n-          end\n-        end\n-      end\n-    end\n-\n-    def test8<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        if <emptyTree>::<C A>\n-          <emptyTree>\n-        else\n-          <self>.puts(\"after\")\n-        end\n-      end\n-    end\n-\n-    def test9<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        begin\n-          <assignTemp>$2 = <self>.x()\n-          if ::T.unsafe(::Kernel).raise(\"Sorbet rewriter pass partially unimplemented\")\n-            <emptyTree>\n-          else\n-            <self>.puts(\"after\")\n-          end\n-        end\n-      end\n-    end\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches the same number of errors with clearer messages for case statement issues, but points to EOF for multiple missing ends instead of the problematic case tokens, making it harder to locate the actual source of problems."
  },
  "case_2.rb": {
    "filename": "case_2.rb",
    "input_code": "# typed: false\n\nclass A\n  puts 'before'\n\n  def test1\n    case # error: \"case\" statement must at least have one \"when\" clause\n    end\n  end\n\n  def test2\n    case x # error: \"case\" statement must at least have one \"when\" clause\n    end\n  end\n\n  puts 'after'\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/case_2.rb:7: \"case\" statement must at least have one \"when\" clause https://srb.help/2001\n     7 |    case # error: \"case\" statement must at least have one \"when\" clause\n            ^^^^\n\ntest/testdata/parser/error_recovery/case_2.rb:12: \"case\" statement must at least have one \"when\" clause https://srb.help/2001\n    12 |    case x # error: \"case\" statement must at least have one \"when\" clause\n            ^^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/case_2.rb:7: expected a `when` or `in` clause after `case` https://srb.help/2001\n     7 |    case # error: \"case\" statement must at least have one \"when\" clause\n            ^^^^\n\ntest/testdata/parser/error_recovery/case_2.rb:12: expected a `when` or `in` clause after `case` https://srb.help/2001\n    12 |    case x # error: \"case\" statement must at least have one \"when\" clause\n            ^^^^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.puts(\"before\")\n\n    def test1<<todo method>>(&<blk>)\n      begin\n        <assignTemp>$2 = <emptyTree>::<C <ErrorNode>>\n        if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        <assignTemp>$2 = <self>.x()\n        if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    <self>.puts(\"after\")\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.puts(\"before\")\n\n    def test1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        <assignTemp>$1 = <self>.x()\n        <emptyTree>\n      end\n    end\n\n    <self>.puts(\"after\")\n  end\nend",
    "tree_similarity": 0.299079754601227,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -3,24 +3,13 @@\n     <self>.puts(\"before\")\n \n     def test1<<todo method>>(&<blk>)\n-      begin\n-        <assignTemp>$2 = <emptyTree>::<C <ErrorNode>>\n-        if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-      end\n+      <emptyTree>\n     end\n \n     def test2<<todo method>>(&<blk>)\n       begin\n-        <assignTemp>$2 = <self>.x()\n-        if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$2)\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n+        <assignTemp>$1 = <self>.x()\n+        <emptyTree>\n       end\n     end\n ",
    "error_emoji": "游릭",
    "error_assessment": "Prism errors are excellent with accurate locations and clearer, more specific error messages that mention both when and in clauses."
  },
  "circular_argument_reference.rb": {
    "filename": "circular_argument_reference.rb",
    "input_code": "# typed: true\n\n[1,2,3].each do |x = x + 1|\n              #      ^      error: circular argument reference x\n              # ^           error: unmatched \"|\"\n              #           ^ error: missing arg to \"|\" operator\n              #        ^    error: Method `+` does not exist\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/circular_argument_reference.rb:3: circular argument reference x https://srb.help/2001\n     3 |[1,2,3].each do |x = x + 1|\n                             ^\n\ntest/testdata/parser/error_recovery/circular_argument_reference.rb:3: unmatched \"|\" in block argument list https://srb.help/2001\n     3 |[1,2,3].each do |x = x + 1|\n                        ^\n\ntest/testdata/parser/error_recovery/circular_argument_reference.rb:3: missing arg to \"|\" operator https://srb.help/2001\n     3 |[1,2,3].each do |x = x + 1|\n                                  ^\n\ntest/testdata/parser/error_recovery/circular_argument_reference.rb:3: Method `+` does not exist on `NilClass` https://srb.help/7003\n     3 |[1,2,3].each do |x = x + 1|\n                               ^\n  Got `NilClass` originating from:\n    test/testdata/parser/error_recovery/circular_argument_reference.rb:3: Possibly uninitialized (`NilClass`) in:\n     3 |[1,2,3].each do |x = x + 1|\n     4 |              #      ^      error: circular argument reference x\n     5 |              # ^           error: unmatched \"|\"\n     6 |              #           ^ error: missing arg to \"|\" operator\n     7 |              #        ^    error: Method `+` does not exist\n     8 |end\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/circular_argument_reference.rb:3: circular argument reference - x https://srb.help/2001\n     3 |[1,2,3].each do |x = x + 1|\n                         ^\n\ntest/testdata/parser/error_recovery/circular_argument_reference.rb:3: expected the block parameters to end with `|` https://srb.help/2001\n     3 |[1,2,3].each do |x = x + 1|\n                              ^\n\ntest/testdata/parser/error_recovery/circular_argument_reference.rb:3: unexpected '+', ignoring it https://srb.help/2001\n     3 |[1,2,3].each do |x = x + 1|\n                               ^\n\ntest/testdata/parser/error_recovery/circular_argument_reference.rb:8: unexpected 'end'; expected an expression after the operator https://srb.help/2001\n     8 |end\n        ^^^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].each() do ||\n    x = x.+(1).|(<emptyTree>::<C <ErrorNode>>)\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].each() do |x = x|\n    begin\n      <emptyTree>::<C <ErrorNode>>\n      1.|(<emptyTree>::<C <ErrorNode>>)\n    end\n  end\nend",
    "tree_similarity": 0.40782122905027934,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,8 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  [1, 2, 3].each() do ||\n-    x = x.+(1).|(<emptyTree>::<C <ErrorNode>>)\n+  [1, 2, 3].each() do |x = x|\n+    begin\n+      <emptyTree>::<C <ErrorNode>>\n+      1.|(<emptyTree>::<C <ErrorNode>>)\n+    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical type error about Method + not existing on NilClass and reports a confusing error at line 8 end instead of properly recovering from the malformed block parameter syntax."
  },
  "class_indent_1.rb": {
    "filename": "class_indent_1.rb",
    "input_code": "# typed: false\nclass A\n  class Inner\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/class_indent_1.rb:8: unexpected token \"end of file\" https://srb.help/2001\n     8 |end # error: unexpected token \"end of file\"\n     9 |\n\ntest/testdata/parser/error_recovery/class_indent_1.rb:3: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n     3 |  class Inner\n          ^^^^^\n    test/testdata/parser/error_recovery/class_indent_1.rb:8: Matching `end` found here but is not indented as far\n     8 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/class_indent_1.rb:9: expected an `end` to close the `class` statement https://srb.help/2001\n     9 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.6237288135593221,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,11 +1,11 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n-      <emptyTree>\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism correctly identifies the missing end but points to EOF instead of the problematic class token and provides less helpful context than Original's indentation hint."
  },
  "class_indent_2.rb": {
    "filename": "class_indent_2.rb",
    "input_code": "# typed: false\nclass B\n  class Inner\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n    puts 'hello'\n    puts 'hello'\n\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/class_indent_2.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/class_indent_2.rb:3: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n     3 |  class Inner\n          ^^^^^\n    test/testdata/parser/error_recovery/class_indent_2.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/class_indent_2.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <self>.puts(\"hello\")\n\n      <self>.puts(\"hello\")\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <self>.puts(\"hello\")\n\n      <self>.puts(\"hello\")\n\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.698005698005698,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -4,10 +4,12 @@\n       <self>.puts(\"hello\")\n \n       <self>.puts(\"hello\")\n-    end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism correctly identifies the missing end but points to EOF instead of the problematic class token and lacks the helpful indentation hint that Original provides."
  },
  "class_indent_3.rb": {
    "filename": "class_indent_3.rb",
    "input_code": "# typed: false\nclass C\n  class Inner\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n\n  sig {void}\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/class_indent_3.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/class_indent_3.rb:3: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n     3 |  class Inner\n          ^^^^^\n    test/testdata/parser/error_recovery/class_indent_3.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/class_indent_3.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <emptyTree>\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <self>.sig() do ||\n        <self>.void()\n      end\n\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.5694050991501416,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,15 +1,15 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n     class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n-      <emptyTree>\n-    end\n+      <self>.sig() do ||\n+        <self>.void()\n+      end\n \n-    <self>.sig() do ||\n-      <self>.void()\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism correctly identifies the missing end but points to EOF instead of the problematic class token, and provides less helpful context than Original's indentation hint."
  },
  "class_indent_4.rb": {
    "filename": "class_indent_4.rb",
    "input_code": "# typed: false\nclass D\n  class Inner\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n    puts 'hello'\n\n  sig {void}\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/class_indent_4.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/class_indent_4.rb:3: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n     3 |  class Inner\n          ^^^^^\n    test/testdata/parser/error_recovery/class_indent_4.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/class_indent_4.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <self>.puts(\"hello\")\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <self>.puts(\"hello\")\n\n      <self>.sig() do ||\n        <self>.void()\n      end\n\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.6719160104986877,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -2,14 +2,16 @@\n   class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n     class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n       <self>.puts(\"hello\")\n-    end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n+      <self>.sig() do ||\n+        <self>.void()\n+      end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism correctly identifies the missing end but provides less helpful context by pointing to EOF rather than the problematic class token and its mismatched end location like Original does."
  },
  "class_indent_5.rb": {
    "filename": "class_indent_5.rb",
    "input_code": "# typed: false\nclass E\n  sig {void}\n  def method1\n  end\n\n  class Inner\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/class_indent_5.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/class_indent_5.rb:7: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n     7 |  class Inner\n          ^^^^^\n    test/testdata/parser/error_recovery/class_indent_5.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/class_indent_5.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <emptyTree>\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8861111111111111,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,5 +11,7 @@\n     class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n       <emptyTree>\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism correctly identifies the missing end but points to EOF instead of the problematic class token and lacks the helpful indentation hint that Original provides."
  },
  "class_indent_6.rb": {
    "filename": "class_indent_6.rb",
    "input_code": "# typed: false\nclass F\n  sig {void}\n  def method1\n  end\n\n  class Inner\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n    puts 'hello'\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/class_indent_6.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/class_indent_6.rb:7: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n     7 |  class Inner\n          ^^^^^\n    test/testdata/parser/error_recovery/class_indent_6.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/class_indent_6.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <self>.puts(\"hello\")\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <self>.puts(\"hello\")\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8888888888888888,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,5 +11,7 @@\n     class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n       <self>.puts(\"hello\")\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism correctly identifies the missing end but points to EOF instead of the problematic class token and provides less helpful context about indentation mismatch compared to Original's detailed hint system."
  },
  "class_weird_newline_indent.rb": {
    "filename": "class_weird_newline_indent.rb",
    "input_code": "# typed: false\n\nclass A\n  class Inner < Object\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n\n  def method2\n  end\nend\n\nclass B\n  class Inner <\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n    Object\n\n  def method2\n  end\nend\n\nclass C\n  class Inner <\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n    Object\n    puts 'hello'\n\n  def method2\n  end\nend\n\nclass D\n  class\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n    Inner\n\n  def method2\n  end\nend\n\nclass E\n  class\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n    Inner\n    puts 'hello'\n\n  def method2\n  end\nend\n\nclass F\n  class\n# ^^^^^ error: Hint: this \"class\" token might not be properly closed\n    Inner <\n      Object\n    puts 'hello'\n\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/class_weird_newline_indent.rb:58: unexpected token \"end of file\" https://srb.help/2001\n    58 |end # error: unexpected token \"end of file\"\n    59 |\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:4: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n     4 |  class Inner < Object\n          ^^^^^\n    test/testdata/parser/error_recovery/class_weird_newline_indent.rb:9: Matching `end` found here but is not indented as far\n     9 |end\n        ^^^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:12: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n    12 |  class Inner <\n          ^^^^^\n    test/testdata/parser/error_recovery/class_weird_newline_indent.rb:18: Matching `end` found here but is not indented as far\n    18 |end\n        ^^^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:21: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n    21 |  class Inner <\n          ^^^^^\n    test/testdata/parser/error_recovery/class_weird_newline_indent.rb:28: Matching `end` found here but is not indented as far\n    28 |end\n        ^^^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:31: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n    31 |  class\n          ^^^^^\n    test/testdata/parser/error_recovery/class_weird_newline_indent.rb:37: Matching `end` found here but is not indented as far\n    37 |end\n        ^^^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:40: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n    40 |  class\n          ^^^^^\n    test/testdata/parser/error_recovery/class_weird_newline_indent.rb:47: Matching `end` found here but is not indented as far\n    47 |end\n        ^^^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:50: Hint: this \"class\" token might not be properly closed https://srb.help/2003\n    50 |  class\n          ^^^^^\n    test/testdata/parser/error_recovery/class_weird_newline_indent.rb:58: Matching `end` found here but is not indented as far\n    58 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 7",
    "original_error_count": 7,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/class_weird_newline_indent.rb:59: expected an `end` to close the `class` statement https://srb.help/2001\n    59 |\n        ^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:59: expected an `end` to close the `class` statement https://srb.help/2001\n    59 |\n        ^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:59: expected an `end` to close the `class` statement https://srb.help/2001\n    59 |\n        ^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:59: expected an `end` to close the `class` statement https://srb.help/2001\n    59 |\n        ^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:59: expected an `end` to close the `class` statement https://srb.help/2001\n    59 |\n        ^\n\ntest/testdata/parser/error_recovery/class_weird_newline_indent.rb:59: expected an `end` to close the `class` statement https://srb.help/2001\n    59 |\n        ^\nErrors: 6",
    "prism_error_count": 6,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n      <self>.puts(\"hello\")\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n      <self>.puts(\"hello\")\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n      <self>.puts(\"hello\")\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n      class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n        def method2<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n\n      class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n        class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n          <self>.puts(\"hello\")\n\n          def method2<<todo method>>(&<blk>)\n            <emptyTree>\n          end\n        end\n\n        class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n          class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n            def method2<<todo method>>(&<blk>)\n              <emptyTree>\n            end\n          end\n\n          class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n            class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n              <self>.puts(\"hello\")\n\n              def method2<<todo method>>(&<blk>)\n                <emptyTree>\n              end\n            end\n\n            class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n              class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n                <self>.puts(\"hello\")\n\n                def method2<<todo method>>(&<blk>)\n                  <emptyTree>\n                end\n              end\n\n              <emptyTree>::<C <ErrorNode>>\n            end\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.17507246376811594,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,61 +1,57 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n-      <emptyTree>\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n-  end\n+    class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n+      class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n+        def method2<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n+      end\n \n-  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n-    class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n-      <emptyTree>\n-    end\n+      class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n+        class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n+          <self>.puts(\"hello\")\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n-  end\n+          def method2<<todo method>>(&<blk>)\n+            <emptyTree>\n+          end\n+        end\n \n-  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n-    class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n-      <self>.puts(\"hello\")\n-    end\n+        class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n+          class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n+            def method2<<todo method>>(&<blk>)\n+              <emptyTree>\n+            end\n+          end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n-  end\n+          class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n+            class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n+              <self>.puts(\"hello\")\n \n-  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n-    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n-      <emptyTree>\n-    end\n+              def method2<<todo method>>(&<blk>)\n+                <emptyTree>\n+              end\n+            end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n-  end\n+            class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n+              class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n+                <self>.puts(\"hello\")\n \n-  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n-    class <emptyTree>::<C Inner><<C <todo sym>>> < (::<todo sym>)\n-      <self>.puts(\"hello\")\n-    end\n+                def method2<<todo method>>(&<blk>)\n+                  <emptyTree>\n+                end\n+              end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n+              <emptyTree>::<C <ErrorNode>>\n+            end\n+          end\n+        end\n+      end\n     end\n   end\n-\n-  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n-    class <emptyTree>::<C Inner><<C <todo sym>>> < (<emptyTree>::<C Object>)\n-      <self>.puts(\"hello\")\n-    end\n-\n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n-  end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism reports all 6 errors at EOF line 59 instead of pointing to the actual problematic class tokens, making it much harder to locate and fix the issues compared to Original's precise error locations."
  },
  "const_case.rb": {
    "filename": "const_case.rb",
    "input_code": "# typed: false\n\ndef foo(x)\n  Integer::\n #       ^^ error: expected constant name following \"::\"\n  case x\n  when Integer\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/const_case.rb:4: expected constant name following \"::\" https://srb.help/2001\n     4 |  Integer::\n                 ^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/const_case.rb:7: unexpected 'when', ignoring it https://srb.help/2001\n     7 |  when Integer\n          ^^^^\n\ntest/testdata/parser/error_recovery/const_case.rb:9: unexpected 'end', ignoring it https://srb.help/2001\n     9 |end\n        ^^^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(x, &<blk>)\n    begin\n      <emptyTree>::<C Integer>::<C <ConstantNameMissing>>\n      begin\n        <assignTemp>$2 = x\n        if <emptyTree>::<C Integer>.===(<assignTemp>$2)\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(x, &<blk>)\n    begin\n      <emptyTree>::<C Integer>.case(x)\n      <emptyTree>::<C <ErrorNode>>\n      <emptyTree>::<C Integer>\n    end\n  end\n\n  <emptyTree>::<C <ErrorNode>>\nend",
    "tree_similarity": 0.3888888888888889,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,15 +1,11 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   def foo<<todo method>>(x, &<blk>)\n     begin\n-      <emptyTree>::<C Integer>::<C <ConstantNameMissing>>\n-      begin\n-        <assignTemp>$2 = x\n-        if <emptyTree>::<C Integer>.===(<assignTemp>$2)\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-      end\n+      <emptyTree>::<C Integer>.case(x)\n+      <emptyTree>::<C <ErrorNode>>\n+      <emptyTree>::<C Integer>\n     end\n   end\n+\n+  <emptyTree>::<C <ErrorNode>>\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual error (incomplete constant reference on line 4) and instead reports cascading errors on valid case/when/end syntax."
  },
  "constant_only_scope.rb": {
    "filename": "constant_only_scope.rb",
    "input_code": "# typed: false\nclass A; end\ndef test_constant_only_scope\n  A::\n  #^^ error: expected constant name following \"::\"\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/constant_only_scope.rb:4: expected constant name following \"::\" https://srb.help/2001\n     4 |  A::\n           ^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/constant_only_scope.rb:7: expected an `end` to close the `def` statement https://srb.help/2001\n     7 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <emptyTree>\n  end\n\n  def test_constant_only_scope<<todo method>>(&<blk>)\n    <emptyTree>::<C A>::<C <ConstantNameMissing>>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <emptyTree>\n  end\n\n  def test_constant_only_scope<<todo method>>(&<blk>)\n    begin\n      <emptyTree>::<C A>.end()\n      <emptyTree>::<C <ErrorNode>>\n    end\n  end\nend",
    "tree_similarity": 0.6859205776173285,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -4,6 +4,9 @@\n   end\n \n   def test_constant_only_scope<<todo method>>(&<blk>)\n-    <emptyTree>::<C A>::<C <ConstantNameMissing>>\n+    begin\n+      <emptyTree>::<C A>.end()\n+      <emptyTree>::<C <ErrorNode>>\n+    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual error (incomplete constant scope resolution A::) and instead reports a misleading missing end error at EOF, while Original correctly identifies and locates the incomplete constant expression."
  },
  "csend_masgn.rb": {
    "filename": "csend_masgn.rb",
    "input_code": "# typed: true\n\n[1,2,3].each do |x|\n  x&.y, = 10\n # ^^  error: &. inside multiple assignment\n # ^^  error: Used `&.` operator on `Integer`\n #   ^ error: Setter method `y=` does not exist\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/csend_masgn.rb:4: &. inside multiple assignment destination https://srb.help/2001\n     4 |  x&.y, = 10\n           ^^\n\ntest/testdata/parser/error_recovery/csend_masgn.rb:4: Used `&.` operator on `Integer`, which can never be nil https://srb.help/7034\n     4 |  x&.y, = 10\n           ^^\n  Got `Integer` originating from:\n    test/testdata/parser/error_recovery/csend_masgn.rb:3:\n     3 |[1,2,3].each do |x|\n                         ^\n  Autocorrect: Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/csend_masgn.rb:4: Replace with `.`\n     4 |  x&.y, = 10\n           ^^\n\ntest/testdata/parser/error_recovery/csend_masgn.rb:4: Setter method `y=` does not exist on `Integer` https://srb.help/7003\n     4 |  x&.y, = 10\n             ^\n  Got `Integer` originating from:\n    test/testdata/parser/error_recovery/csend_masgn.rb:3:\n     3 |[1,2,3].each do |x|\n                         ^\n    test/testdata/parser/error_recovery/csend_masgn.rb:4:\n     4 |  x&.y, = 10\n          ^\n  Did you mean `<=`? Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/csend_masgn.rb:4: Replace with `<=`\n     4 |  x&.y, = 10\n             ^\n    https://github.com/sorbet/sorbet/tree/master/rbi/core/integer.rbi#L334: Defined here\n     334 |  def <=(arg0); end\n            ^^^^^^^^^^^^\nErrors: 3",
    "original_error_count": 3,
    "original_autocorrects": 1,
    "prism_errors": "test/testdata/parser/error_recovery/csend_masgn.rb:4: &. inside multiple assignment destination https://srb.help/2001\n     4 |  x&.y, = 10\n          ^^^^\n\ntest/testdata/parser/error_recovery/csend_masgn.rb:4: Used `&.` operator on `Integer`, which can never be nil https://srb.help/7034\n     4 |  x&.y, = 10\n           ^^\n  Got `Integer` originating from:\n    test/testdata/parser/error_recovery/csend_masgn.rb:3:\n     3 |[1,2,3].each do |x|\n                         ^\n  Autocorrect: Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/csend_masgn.rb:4: Replace with `.`\n     4 |  x&.y, = 10\n           ^^\n\ntest/testdata/parser/error_recovery/csend_masgn.rb:4: Setter method `y=` does not exist on `Integer` https://srb.help/7003\n     4 |  x&.y, = 10\n             ^\n  Got `Integer` originating from:\n    test/testdata/parser/error_recovery/csend_masgn.rb:3:\n     3 |[1,2,3].each do |x|\n                         ^\n    test/testdata/parser/error_recovery/csend_masgn.rb:4:\n     4 |  x&.y, = 10\n          ^\n  Did you mean `<=`? Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/csend_masgn.rb:4: Replace with `<=`\n     4 |  x&.y, = 10\n             ^\n    https://github.com/sorbet/sorbet/tree/master/rbi/core/integer.rbi#L334: Defined here\n     334 |  def <=(arg0); end\n            ^^^^^^^^^^^^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 1,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].each() do |x|\n    begin\n      <assignTemp>$2 = 10\n      <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 1, 0)\n      begin\n        <assignTemp>$4 = x\n        if ::NilClass.===(<assignTemp>$4)\n          ::<Magic>.<nil-for-safe-navigation>(<assignTemp>$4)\n        else\n          <assignTemp>$4.y=(<assignTemp>$3.[](0))\n        end\n      end\n      <assignTemp>$2\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].each() do |x|\n    begin\n      <assignTemp>$2 = 10\n      <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 1, 0)\n      begin\n        <assignTemp>$4 = x\n        if ::NilClass.===(<assignTemp>$4)\n          ::<Magic>.<nil-for-safe-navigation>(<assignTemp>$4)\n        else\n          <assignTemp>$4.y=(<assignTemp>$3.[](0))\n        end\n      end\n      <assignTemp>$2\n    end\n  end\nend",
    "tree_similarity": 1.0,
    "tree_emoji": "游릭",
    "tree_diff": "Trees are identical",
    "autocorrect_code_diff": "--- Original\n+++ Autocorrected\n@@ -1,7 +1,7 @@\n # typed: true\n \n [1,2,3].each do |x|\n-  x&.y, = 10\n+  x.<=, = 10\n  # ^^  error: &. inside multiple assignment\n  # ^^  error: Used `&.` operator on `Integer`\n  #   ^ error: Setter method `y=` does not exist",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all the same errors but the first error underlines the entire expression x&.y instead of just the &. operator, making it slightly less precise than Original."
  },
  "def_missing_end_1.rb": {
    "filename": "def_missing_end_1.rb",
    "input_code": "# typed: false\n\nclass A\n  def test1\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n    if x.f\n    end\n\n  def test2\n    if x.f\n    end\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/def_missing_end_1.rb:13: unexpected token \"end of file\" https://srb.help/2001\n    13 |end # error: unexpected token \"end of file\"\n    14 |\n\ntest/testdata/parser/error_recovery/def_missing_end_1.rb:4: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     4 |  def test1\n          ^^^\n    test/testdata/parser/error_recovery/def_missing_end_1.rb:13: Matching `end` found here but is not indented as far\n    13 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/def_missing_end_1.rb:14: expected an `end` to close the `class` statement https://srb.help/2001\n    14 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      if <self>.x().f()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      if <self>.x().f()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        if <self>.x().f()\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n        def test2<<todo method>>(&<blk>)\n          if <self>.x().f()\n            <emptyTree>\n          else\n            <emptyTree>\n          end\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.4127659574468085,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,19 +1,22 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     def test1<<todo method>>(&<blk>)\n-      if <self>.x().f()\n-        <emptyTree>\n-      else\n-        <emptyTree>\n+      begin\n+        if <self>.x().f()\n+          <emptyTree>\n+        else\n+          <emptyTree>\n+        end\n+        def test2<<todo method>>(&<blk>)\n+          if <self>.x().f()\n+            <emptyTree>\n+          else\n+            <emptyTree>\n+          end\n+        end\n       end\n     end\n \n-    def test2<<todo method>>(&<blk>)\n-      if <self>.x().f()\n-        <emptyTree>\n-      else\n-        <emptyTree>\n-      end\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual problem (missing end for test1 method) and only reports the class-level issue, providing less helpful diagnostics than Original which correctly identifies the unclosed def token."
  },
  "def_missing_end_2.rb": {
    "filename": "def_missing_end_2.rb",
    "input_code": "# typed: false\n\nclass A\n  def test1\n    if x.f\n    end\n  end\n\n  def test2\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n    puts 'before'\n    if x\n  # ^^ error: Hint: this \"if\" token might not be properly closed\n    puts 'after'\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/def_missing_end_2.rb:15: unexpected token \"end of file\" https://srb.help/2001\n    15 |end # error: unexpected token \"end of file\"\n    16 |\n\ntest/testdata/parser/error_recovery/def_missing_end_2.rb:12: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    12 |    if x\n            ^^\n    test/testdata/parser/error_recovery/def_missing_end_2.rb:15: Matching `end` found here but is not indented as far\n    15 |end # error: unexpected token \"end of file\"\n        ^^^\n\ntest/testdata/parser/error_recovery/def_missing_end_2.rb:9: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     9 |  def test2\n          ^^^\n    test/testdata/parser/error_recovery/def_missing_end_2.rb:15: Matching `end` found here but is not indented as far\n    15 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 3",
    "original_error_count": 3,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/def_missing_end_2.rb:16: expected an `end` to close the `def` statement https://srb.help/2001\n    16 |\n        ^\n\ntest/testdata/parser/error_recovery/def_missing_end_2.rb:16: expected an `end` to close the `class` statement https://srb.help/2001\n    16 |\n        ^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      if <self>.x().f()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        if <self>.x()\n          <self>.puts(\"after\")\n        else\n          <emptyTree>\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      if <self>.x().f()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        if <self>.x()\n          <self>.puts(\"after\")\n        else\n          <emptyTree>\n        end\n        <emptyTree>::<C <ErrorNode>>\n      end\n    end\n  end\nend",
    "tree_similarity": 0.8794178794178794,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -16,6 +16,7 @@\n         else\n           <emptyTree>\n         end\n+        <emptyTree>::<C <ErrorNode>>\n       end\n     end\n   end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical unclosed if statement error and provides less helpful diagnostics by only pointing to EOF instead of identifying the specific problematic tokens with indentation hints."
  },
  "defn_indent_1.rb": {
    "filename": "defn_indent_1.rb",
    "input_code": "# typed: false\nclass A\n  def method1\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defn_indent_1.rb:8: unexpected token \"end of file\" https://srb.help/2001\n     8 |end # error: unexpected token \"end of file\"\n     9 |\n\ntest/testdata/parser/error_recovery/defn_indent_1.rb:3: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     3 |  def method1\n          ^^^\n    test/testdata/parser/error_recovery/defn_indent_1.rb:8: Matching `end` found here but is not indented as far\n     8 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defn_indent_1.rb:9: expected an `end` to close the `class` statement https://srb.help/2001\n     9 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def method1<<todo method>>(&<blk>)\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.585820895522388,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,11 +1,11 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     def method1<<todo method>>(&<blk>)\n-      <emptyTree>\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual problem (unclosed method1 definition) and only reports the missing class end, providing less helpful diagnostics than Original which correctly identifies the improperly closed def token with indentation hints."
  },
  "defn_indent_2.rb": {
    "filename": "defn_indent_2.rb",
    "input_code": "# typed: false\nclass B\n  def method1(abc, xyz)\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n    puts 'hello'\n    puts 'hello'\n\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defn_indent_2.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/defn_indent_2.rb:3: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     3 |  def method1(abc, xyz)\n          ^^^\n    test/testdata/parser/error_recovery/defn_indent_2.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defn_indent_2.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    def method1<<todo method>>(abc, xyz, &<blk>)\n      begin\n        <self>.puts(\"hello\")\n        <self>.puts(\"hello\")\n      end\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    def method1<<todo method>>(abc, xyz, &<blk>)\n      begin\n        <self>.puts(\"hello\")\n        <self>.puts(\"hello\")\n        def method2<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.6565934065934066,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -4,11 +4,12 @@\n       begin\n         <self>.puts(\"hello\")\n         <self>.puts(\"hello\")\n+        def method2<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n       end\n     end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical indentation hint about the unclosed def token and only reports a generic missing end error, providing less actionable debugging information than Original."
  },
  "defn_indent_3.rb": {
    "filename": "defn_indent_3.rb",
    "input_code": "# typed: false\nclass C\n  def method1\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n\n  sig {void}\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defn_indent_3.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/defn_indent_3.rb:3: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     3 |  def method1\n          ^^^\n    test/testdata/parser/error_recovery/defn_indent_3.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defn_indent_3.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    def method1<<todo method>>(&<blk>)\n      begin\n        <self>.sig() do ||\n          <self>.void()\n        end\n        def method2<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.5738161559888579,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,15 +1,16 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n     def method1<<todo method>>(&<blk>)\n-      <emptyTree>\n+      begin\n+        <self>.sig() do ||\n+          <self>.void()\n+        end\n+        def method2<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n+      end\n     end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n-\n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the primary issue (unclosed method1) and only reports the secondary consequence (unclosed class), providing less actionable debugging information than Original."
  },
  "defn_indent_4.rb": {
    "filename": "defn_indent_4.rb",
    "input_code": "# typed: false\nclass D\n  def method1\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n    puts 'hello'\n\n  sig {void}\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defn_indent_4.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/defn_indent_4.rb:3: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     3 |  def method1\n          ^^^\n    test/testdata/parser/error_recovery/defn_indent_4.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defn_indent_4.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    def method1<<todo method>>(&<blk>)\n      <self>.puts(\"hello\")\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    def method1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"hello\")\n        <self>.sig() do ||\n          <self>.void()\n        end\n        def method2<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.41494845360824745,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,15 +1,17 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n     def method1<<todo method>>(&<blk>)\n-      <self>.puts(\"hello\")\n+      begin\n+        <self>.puts(\"hello\")\n+        <self>.sig() do ||\n+          <self>.void()\n+        end\n+        def method2<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n+      end\n     end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n-\n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical indentation mismatch error for method1's unclosed def and only reports a generic missing end for the class, providing less actionable debugging information than Original."
  },
  "defn_indent_5.rb": {
    "filename": "defn_indent_5.rb",
    "input_code": "# typed: false\nclass E\n  sig {void}\n  def method1\n  end\n\n  def method2\n# ^^^ error: Hint: this \"def\" token might not be properly closed\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defn_indent_5.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/defn_indent_5.rb:7: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     7 |  def method2\n          ^^^\n    test/testdata/parser/error_recovery/defn_indent_5.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defn_indent_5.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8768768768768769,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,5 +11,7 @@\n     def method2<<todo method>>(&<blk>)\n       <emptyTree>\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual problem (unclosed method2 definition) and only reports the missing class end, while Original correctly identifies the improperly closed def token with helpful indentation hints."
  },
  "defn_indent_6.rb": {
    "filename": "defn_indent_6.rb",
    "input_code": "# typed: false\nclass F\n  sig {void}\n  def method1\n  end\n\n  def method2\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n    puts 'hello'\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defn_indent_6.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/defn_indent_6.rb:7: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     7 |  def method2\n          ^^^\n    test/testdata/parser/error_recovery/defn_indent_6.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defn_indent_6.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <self>.puts(\"hello\")\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <self>.puts(\"hello\")\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8801169590643275,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,5 +11,7 @@\n     def method2<<todo method>>(&<blk>)\n       <self>.puts(\"hello\")\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual problem (method2 not properly closed) and only reports the class-level issue, while Original correctly identifies the unclosed def and provides helpful indentation hints."
  },
  "defs_indent_1.rb": {
    "filename": "defs_indent_1.rb",
    "input_code": "# typed: false\nclass A\n  def self.method1\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n\n  def self.method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defs_indent_1.rb:8: unexpected token \"end of file\" https://srb.help/2001\n     8 |end # error: unexpected token \"end of file\"\n     9 |\n\ntest/testdata/parser/error_recovery/defs_indent_1.rb:3: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     3 |  def self.method1\n          ^^^\n    test/testdata/parser/error_recovery/defs_indent_1.rb:8: Matching `end` found here but is not indented as far\n     8 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defs_indent_1.rb:9: expected an `end` to close the `class` statement https://srb.help/2001\n     9 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def self.method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def self.method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def self.method1<<todo method>>(&<blk>)\n      def self.method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.5863309352517986,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,11 +1,11 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     def self.method1<<todo method>>(&<blk>)\n-      <emptyTree>\n+      def self.method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n \n-    def self.method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the key indentation hint about the unclosed def on line 3 and only reports the missing class end, providing less helpful diagnostic information than Original."
  },
  "defs_indent_2.rb": {
    "filename": "defs_indent_2.rb",
    "input_code": "# typed: false\nclass B\n  def self.method1(abc, xyz)\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n    puts 'hello'\n    puts 'hello'\n\n  def self.method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defs_indent_2.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/defs_indent_2.rb:3: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     3 |  def self.method1(abc, xyz)\n          ^^^\n    test/testdata/parser/error_recovery/defs_indent_2.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defs_indent_2.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    def self.method1<<todo method>>(abc, xyz, &<blk>)\n      begin\n        <self>.puts(\"hello\")\n        <self>.puts(\"hello\")\n      end\n    end\n\n    def self.method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    def self.method1<<todo method>>(abc, xyz, &<blk>)\n      begin\n        <self>.puts(\"hello\")\n        <self>.puts(\"hello\")\n        def self.method2<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.6497326203208557,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -4,11 +4,12 @@\n       begin\n         <self>.puts(\"hello\")\n         <self>.puts(\"hello\")\n+        def self.method2<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n       end\n     end\n \n-    def self.method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical indentation mismatch error that identifies the actual problem (method1 missing its end), only reporting a generic class end missing error."
  },
  "defs_indent_3.rb": {
    "filename": "defs_indent_3.rb",
    "input_code": "# typed: false\nclass C\n  def self.method1\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n\n  sig {void}\n  def self.method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defs_indent_3.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/defs_indent_3.rb:3: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     3 |  def self.method1\n          ^^^\n    test/testdata/parser/error_recovery/defs_indent_3.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defs_indent_3.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    def self.method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self.method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    def self.method1<<todo method>>(&<blk>)\n      begin\n        <self>.sig() do ||\n          <self>.void()\n        end\n        def self.method2<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.5853658536585366,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,15 +1,16 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n     def self.method1<<todo method>>(&<blk>)\n-      <emptyTree>\n+      begin\n+        <self>.sig() do ||\n+          <self>.void()\n+        end\n+        def self.method2<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n+      end\n     end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n-\n-    def self.method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical indentation hint about the unclosed def on line 3 and only reports the missing class end, providing less actionable debugging information than Original."
  },
  "defs_indent_4.rb": {
    "filename": "defs_indent_4.rb",
    "input_code": "# typed: false\nclass D\n  def self.method1\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n    puts 'hello'\n\n  sig {void}\n  def self.method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defs_indent_4.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/defs_indent_4.rb:3: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     3 |  def self.method1\n          ^^^\n    test/testdata/parser/error_recovery/defs_indent_4.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defs_indent_4.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    def self.method1<<todo method>>(&<blk>)\n      <self>.puts(\"hello\")\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self.method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    def self.method1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"hello\")\n        <self>.sig() do ||\n          <self>.void()\n        end\n        def self.method2<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.41708542713567837,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,15 +1,17 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n     def self.method1<<todo method>>(&<blk>)\n-      <self>.puts(\"hello\")\n+      begin\n+        <self>.puts(\"hello\")\n+        <self>.sig() do ||\n+          <self>.void()\n+        end\n+        def self.method2<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n+      end\n     end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n-\n-    def self.method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical indentation mismatch error that identifies the actual problem with method1's unclosed def statement, only reporting a generic missing end error."
  },
  "defs_indent_5.rb": {
    "filename": "defs_indent_5.rb",
    "input_code": "# typed: false\nclass E\n  sig {void}\n  def self.method1\n  end\n\n  def self.method2\n# ^^^ error: Hint: this \"def\" token might not be properly closed\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defs_indent_5.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/defs_indent_5.rb:7: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     7 |  def self.method2\n          ^^^\n    test/testdata/parser/error_recovery/defs_indent_5.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defs_indent_5.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self.method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def self.method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self.method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def self.method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.880466472303207,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,5 +11,7 @@\n     def self.method2<<todo method>>(&<blk>)\n       <emptyTree>\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual problem (unclosed method2 definition) and only reports the missing class end, while Original correctly identifies the improperly closed def token with helpful indentation hints."
  },
  "defs_indent_6.rb": {
    "filename": "defs_indent_6.rb",
    "input_code": "# typed: false\nclass F\n  sig {void}\n  def self.method1\n  end\n\n  def self.method2\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n    puts 'hello'\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/defs_indent_6.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/defs_indent_6.rb:7: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     7 |  def self.method2\n          ^^^\n    test/testdata/parser/error_recovery/defs_indent_6.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/defs_indent_6.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self.method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def self.method2<<todo method>>(&<blk>)\n      <self>.puts(\"hello\")\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self.method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def self.method2<<todo method>>(&<blk>)\n      <self>.puts(\"hello\")\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8835227272727273,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,5 +11,7 @@\n     def self.method2<<todo method>>(&<blk>)\n       <self>.puts(\"hello\")\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical indentation mismatch error that Original correctly identifies, only reporting the missing class end without diagnosing the actual def/end pairing problem."
  },
  "eof_1.rb": {
    "filename": "eof_1.rb",
    "input_code": "# typed: true\n\nclass A # error: Hint: this \"class\" token is not closed before the end of the file\n  extend T::Sig\n\n  sig {params(x: Integer).void}\n  def foo(x) # error: Hint: this \"def\" token is not closed before the end of the file\n    puts(x)\n\n  # We get a double-reported error here because of the naive/greedy\n  # backtracking that we do to recover. The `def bar` is parsed, then we\n  # attempt to parse the `def foo`, end up backtracking to just after the\n  # puts(x), and then we parse the `def bar` a second time.\n  #\n  # Reporting an error twice seems less bad than failing to parse entirely.\n  sig {void}\n  def bar\n# ^^^ error: Hint: this \"def\" token is not closed before the end of the file\n# ^^^ error: Hint: this \"def\" token is not closed before the end of the file\n\n  puts 'after' # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_1.rb:21: unexpected token \"end of file\" https://srb.help/2001\n    21 |  puts 'after' # error: unexpected token \"end of file\"\n    22 |\n\ntest/testdata/parser/error_recovery/eof_1.rb:17: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n    17 |  def bar\n          ^^^\n\ntest/testdata/parser/error_recovery/eof_1.rb:7: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     7 |  def foo(x) # error: Hint: this \"def\" token is not closed before the end of the file\n          ^^^\n\ntest/testdata/parser/error_recovery/eof_1.rb:17: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n    17 |  def bar\n          ^^^\n\ntest/testdata/parser/error_recovery/eof_1.rb:3: Hint: this \"class\" token is not closed before the end of the file https://srb.help/2003\n     3 |class A # error: Hint: this \"class\" token is not closed before the end of the file\n        ^^^^^\nErrors: 5",
    "original_error_count": 5,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_1.rb:22: expected an `end` to close the `def` statement https://srb.help/2001\n    22 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_1.rb:22: expected an `end` to close the `def` statement https://srb.help/2001\n    22 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_1.rb:22: expected an `end` to close the `class` statement https://srb.help/2001\n    22 |\n        ^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.extend(<emptyTree>::<C T>::<C Sig>)\n\n    <self>.sig() do ||\n      <self>.params(:x, <emptyTree>::<C Integer>).void()\n    end\n\n    def foo<<todo method>>(x, &<blk>)\n      <self>.puts(x)\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def bar<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <self>.puts(\"after\")\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.extend(<emptyTree>::<C T>::<C Sig>)\n\n    <self>.sig() do ||\n      <self>.params(:x, <emptyTree>::<C Integer>).void()\n    end\n\n    def foo<<todo method>>(x, &<blk>)\n      begin\n        <self>.puts(x)\n        <self>.sig() do ||\n          <self>.void()\n        end\n        def bar<<todo method>>(&<blk>)\n          begin\n            <self>.puts(\"after\")\n            <emptyTree>::<C <ErrorNode>>\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.5302491103202847,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -7,17 +7,18 @@\n     end\n \n     def foo<<todo method>>(x, &<blk>)\n-      <self>.puts(x)\n+      begin\n+        <self>.puts(x)\n+        <self>.sig() do ||\n+          <self>.void()\n+        end\n+        def bar<<todo method>>(&<blk>)\n+          begin\n+            <self>.puts(\"after\")\n+            <emptyTree>::<C <ErrorNode>>\n+          end\n+        end\n+      end\n     end\n-\n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n-\n-    def bar<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n-\n-    <self>.puts(\"after\")\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all unclosed tokens but points to EOF instead of the actual opening tokens, making errors less actionable than Original's hints that identify the specific problematic lines."
  },
  "eof_2.rb": {
    "filename": "eof_2.rb",
    "input_code": "# typed: true\n\ndef foo # error: Hint: this \"def\" token is not closed before the end of the file\n  def bar # error: Hint: this \"def\" token is not closed before the end\n    def qux # error: Hint: this \"def\" token is not closed before the end\n      puts('inside qux')\n\n    puts('inside bar')\n\n  puts('inside foo') # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_2.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |  puts('inside foo') # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/eof_2.rb:5: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     5 |    def qux # error: Hint: this \"def\" token is not closed before the end\n            ^^^\n\ntest/testdata/parser/error_recovery/eof_2.rb:4: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     4 |  def bar # error: Hint: this \"def\" token is not closed before the end\n          ^^^\n\ntest/testdata/parser/error_recovery/eof_2.rb:3: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     3 |def foo # error: Hint: this \"def\" token is not closed before the end of the file\n        ^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_2.rb:11: expected an `end` to close the `def` statement https://srb.help/2001\n    11 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_2.rb:11: expected an `end` to close the `def` statement https://srb.help/2001\n    11 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_2.rb:11: expected an `end` to close the `def` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(&<blk>)\n    begin\n      def bar<<todo method>>(&<blk>)\n        begin\n          def qux<<todo method>>(&<blk>)\n            <self>.puts(\"inside qux\")\n          end\n          <self>.puts(\"inside bar\")\n        end\n      end\n      <self>.puts(\"inside foo\")\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(&<blk>)\n    def bar<<todo method>>(&<blk>)\n      def qux<<todo method>>(&<blk>)\n        begin\n          <self>.puts(\"inside qux\")\n          <self>.puts(\"inside bar\")\n          <self>.puts(\"inside foo\")\n          <emptyTree>::<C <ErrorNode>>\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.29829545454545453,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,15 +1,14 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   def foo<<todo method>>(&<blk>)\n-    begin\n-      def bar<<todo method>>(&<blk>)\n+    def bar<<todo method>>(&<blk>)\n+      def qux<<todo method>>(&<blk>)\n         begin\n-          def qux<<todo method>>(&<blk>)\n-            <self>.puts(\"inside qux\")\n-          end\n+          <self>.puts(\"inside qux\")\n           <self>.puts(\"inside bar\")\n+          <self>.puts(\"inside foo\")\n+          <emptyTree>::<C <ErrorNode>>\n         end\n       end\n-      <self>.puts(\"inside foo\")\n     end\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all three missing end tokens but points to EOF for all errors instead of the specific def tokens, and the identical messages make it harder to distinguish which def is unclosed."
  },
  "eof_3.rb": {
    "filename": "eof_3.rb",
    "input_code": "# typed: true\n\nmodule A # error: Hint: this \"module\" token is not closed before the end of the file\n  module B # error: Hint: this \"module\" token is not closed before the end of the file\n    module # error: Hint: this \"module\" token is not closed before the end of the file\n      C # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_3.rb:6: unexpected token \"end of file\" https://srb.help/2001\n     6 |      C # error: unexpected token \"end of file\"\n     7 |\n\ntest/testdata/parser/error_recovery/eof_3.rb:5: Hint: this \"module\" token is not closed before the end of the file https://srb.help/2003\n     5 |    module # error: Hint: this \"module\" token is not closed before the end of the file\n            ^^^^^^\n\ntest/testdata/parser/error_recovery/eof_3.rb:4: Hint: this \"module\" token is not closed before the end of the file https://srb.help/2003\n     4 |  module B # error: Hint: this \"module\" token is not closed before the end of the file\n          ^^^^^^\n\ntest/testdata/parser/error_recovery/eof_3.rb:3: Hint: this \"module\" token is not closed before the end of the file https://srb.help/2003\n     3 |module A # error: Hint: this \"module\" token is not closed before the end of the file\n        ^^^^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_3.rb:7: expected an `end` to close the `module` statement https://srb.help/2001\n     7 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_3.rb:7: expected an `end` to close the `module` statement https://srb.help/2001\n     7 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_3.rb:7: expected an `end` to close the `module` statement https://srb.help/2001\n     7 |\n        ^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C A><<C <todo sym>>> < ()\n    module <emptyTree>::<C B><<C <todo sym>>> < ()\n      module <emptyTree>::<C C><<C <todo sym>>> < ()\n        <emptyTree>\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C A><<C <todo sym>>> < ()\n    module <emptyTree>::<C B><<C <todo sym>>> < ()\n      module <emptyTree>::<C C><<C <todo sym>>> < ()\n        <emptyTree>::<C <ErrorNode>>\n      end\n    end\n  end\nend",
    "tree_similarity": 0.8409090909090909,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -2,7 +2,7 @@\n   module <emptyTree>::<C A><<C <todo sym>>> < ()\n     module <emptyTree>::<C B><<C <todo sym>>> < ()\n       module <emptyTree>::<C C><<C <todo sym>>> < ()\n-        <emptyTree>\n+        <emptyTree>::<C <ErrorNode>>\n       end\n     end\n   end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all three unclosed modules but points to EOF for all errors instead of the specific module tokens, and lacks the helpful context of which line C appears on that Original provides."
  },
  "eof_4.rb": {
    "filename": "eof_4.rb",
    "input_code": "# typed: true\n\nmodule A # error: Hint: this \"module\" token is not closed before the end of the file\n  module B\n    module C\n    end\n  end # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_4.rb:7: unexpected token \"end of file\" https://srb.help/2001\n     7 |  end # error: unexpected token \"end of file\"\n     8 |\n\ntest/testdata/parser/error_recovery/eof_4.rb:3: Hint: this \"module\" token is not closed before the end of the file https://srb.help/2003\n     3 |module A # error: Hint: this \"module\" token is not closed before the end of the file\n        ^^^^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_4.rb:8: expected an `end` to close the `module` statement https://srb.help/2001\n     8 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C A><<C <todo sym>>> < ()\n    module <emptyTree>::<C B><<C <todo sym>>> < ()\n      module <emptyTree>::<C C><<C <todo sym>>> < ()\n        <emptyTree>\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C A><<C <todo sym>>> < ()\n    module <emptyTree>::<C B><<C <todo sym>>> < ()\n      module <emptyTree>::<C C><<C <todo sym>>> < ()\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8540925266903915,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -5,5 +5,7 @@\n         <emptyTree>\n       end\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism correctly identifies the missing end but only reports one error at EOF instead of two errors with a helpful hint pointing to the unclosed module A token."
  },
  "eof_5.rb": {
    "filename": "eof_5.rb",
    "input_code": "# typed: true\n\nclass A # error: Hint: this \"class\" token is not closed before the end of the file\n  module B # error: Hint: this \"module\" token is not closed before the end of the file\n    def self.foo # error: Hint: this \"def\" token is not closed before the end of the file\n      def bar # error: Hint: this \"def\" token is not closed before the end of the file\n\n      puts('inside foo')\n  # This is currently nested in the wrong scope.\n  puts('inside A') # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_5.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |  puts('inside A') # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/eof_5.rb:6: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     6 |      def bar # error: Hint: this \"def\" token is not closed before the end of the file\n              ^^^\n\ntest/testdata/parser/error_recovery/eof_5.rb:5: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     5 |    def self.foo # error: Hint: this \"def\" token is not closed before the end of the file\n            ^^^\n\ntest/testdata/parser/error_recovery/eof_5.rb:4: Hint: this \"module\" token is not closed before the end of the file https://srb.help/2003\n     4 |  module B # error: Hint: this \"module\" token is not closed before the end of the file\n          ^^^^^^\n\ntest/testdata/parser/error_recovery/eof_5.rb:3: Hint: this \"class\" token is not closed before the end of the file https://srb.help/2003\n     3 |class A # error: Hint: this \"class\" token is not closed before the end of the file\n        ^^^^^\nErrors: 5",
    "original_error_count": 5,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_5.rb:11: expected an `end` to close the `def` statement https://srb.help/2001\n    11 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_5.rb:11: expected an `end` to close the `def` statement https://srb.help/2001\n    11 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_5.rb:11: expected an `end` to close the `module` statement https://srb.help/2001\n    11 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_5.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_5.rb:8: Method `puts` does not exist on `A::B` https://srb.help/7003\n     8 |      puts('inside foo')\n              ^^^^\n  Got `A::B` originating from:\n    test/testdata/parser/error_recovery/eof_5.rb:6:\n     6 |      def bar # error: Hint: this \"def\" token is not closed before the end of the file\n              ^\n  Note:\n    `puts` is actually defined as a method on `Kernel`. To call it,\n    `include Kernel` in this module to ensure the method is always there, or\n    call the method using `Kernel.puts` instead.\n  Autocorrect: Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/eof_5.rb:8: Insert `Kernel.`\n     8 |      puts('inside foo')\n              ^\n\ntest/testdata/parser/error_recovery/eof_5.rb:10: Method `puts` does not exist on `A::B` https://srb.help/7003\n    10 |  puts('inside A') # error: unexpected token \"end of file\"\n          ^^^^\n  Got `A::B` originating from:\n    test/testdata/parser/error_recovery/eof_5.rb:6:\n     6 |      def bar # error: Hint: this \"def\" token is not closed before the end of the file\n              ^\n  Note:\n    `puts` is actually defined as a method on `Kernel`. To call it,\n    `include Kernel` in this module to ensure the method is always there, or\n    call the method using `Kernel.puts` instead.\n  Autocorrect: Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/eof_5.rb:10: Insert `Kernel.`\n    10 |  puts('inside A') # error: unexpected token \"end of file\"\n          ^\nErrors: 6",
    "prism_error_count": 6,
    "prism_autocorrects": 2,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C B><<C <todo sym>>> < ()\n      def self.foo<<todo method>>(&<blk>)\n        begin\n          def bar<<todo method>>(&<blk>)\n            <emptyTree>\n          end\n          <self>.puts(\"inside foo\")\n        end\n      end\n\n      <self>.puts(\"inside A\")\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C B><<C <todo sym>>> < ()\n      def self.foo<<todo method>>(&<blk>)\n        def bar<<todo method>>(&<blk>)\n          begin\n            <self>.puts(\"inside foo\")\n            <self>.puts(\"inside A\")\n            <emptyTree>::<C <ErrorNode>>\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.6122931442080378,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -2,15 +2,14 @@\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     module <emptyTree>::<C B><<C <todo sym>>> < ()\n       def self.foo<<todo method>>(&<blk>)\n-        begin\n-          def bar<<todo method>>(&<blk>)\n-            <emptyTree>\n+        def bar<<todo method>>(&<blk>)\n+          begin\n+            <self>.puts(\"inside foo\")\n+            <self>.puts(\"inside A\")\n+            <emptyTree>::<C <ErrorNode>>\n           end\n-          <self>.puts(\"inside foo\")\n         end\n       end\n-\n-      <self>.puts(\"inside A\")\n     end\n   end\n end",
    "autocorrect_code_diff": "--- Original\n+++ Autocorrected\n@@ -5,6 +5,6 @@\n     def self.foo # error: Hint: this \"def\" token is not closed before the end of the file\n       def bar # error: Hint: this \"def\" token is not closed before the end of the file\n \n-      puts('inside foo')\n+      Kernel.puts('inside foo')\n   # This is currently nested in the wrong scope.\n-  puts('inside A') # error: unexpected token \"end of file\"\n+  Kernel.puts('inside A') # error: unexpected token \"end of file\"",
    "error_emoji": "游댮",
    "error_assessment": "Prism incorrectly nests both puts calls inside def bar instead of their intended scopes, causing spurious type errors about puts not existing on A::B."
  },
  "eof_6.rb": {
    "filename": "eof_6.rb",
    "input_code": "# typed: true\n\nclass A # error: Hint: this \"class\" token is not closed before the end of the file\n  def foo(x) # error: Hint: this \"def\" token is not closed before the end of the file\n    if x # error: Hint: this \"if\" token is not closed before the end of the file\n      puts(x) # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_6.rb:6: unexpected token \"end of file\" https://srb.help/2001\n     6 |      puts(x) # error: unexpected token \"end of file\"\n     7 |\n\ntest/testdata/parser/error_recovery/eof_6.rb:5: Hint: this \"if\" token is not closed before the end of the file https://srb.help/2003\n     5 |    if x # error: Hint: this \"if\" token is not closed before the end of the file\n            ^^\n\ntest/testdata/parser/error_recovery/eof_6.rb:4: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     4 |  def foo(x) # error: Hint: this \"def\" token is not closed before the end of the file\n          ^^^\n\ntest/testdata/parser/error_recovery/eof_6.rb:3: Hint: this \"class\" token is not closed before the end of the file https://srb.help/2003\n     3 |class A # error: Hint: this \"class\" token is not closed before the end of the file\n        ^^^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_6.rb:7: expected an `end` to close the conditional clause https://srb.help/2001\n     7 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_6.rb:7: expected an `end` to close the `def` statement https://srb.help/2001\n     7 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_6.rb:7: expected an `end` to close the `class` statement https://srb.help/2001\n     7 |\n        ^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(x, &<blk>)\n      if x\n        <self>.puts(x)\n      else\n        <emptyTree>\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(x, &<blk>)\n      if x\n        begin\n          <self>.puts(x)\n          <emptyTree>::<C <ErrorNode>>\n        end\n      else\n        <emptyTree>\n      end\n    end\n  end\nend",
    "tree_similarity": 0.5657894736842105,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -2,7 +2,10 @@\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     def foo<<todo method>>(x, &<blk>)\n       if x\n-        <self>.puts(x)\n+        begin\n+          <self>.puts(x)\n+          <emptyTree>::<C <ErrorNode>>\n+        end\n       else\n         <emptyTree>\n       end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all three unclosed constructs but points to EOF line 7 instead of the actual problematic tokens, and misses the specific error on line 6 where the issue manifests."
  },
  "eof_7.rb": {
    "filename": "eof_7.rb",
    "input_code": "# typed: true\n\n# TODO(jez) We don't do the same rewinding for begin/end blocks that we do for\n# class/method blocks, so the indentation levels in the body of the begin are\n# not used for the sake of backtracking at the moment.\n\nclass A # error: Hint: this \"class\" token is not closed before the end of the file\n  def foo(x) # error: Hint: this \"def\" token is not closed before the end of the file\n    puts('outside begin')\n    begin # error: Hint: this \"begin\" token is not closed before the end of the file\n      puts('inside begin')\n\n    puts('between')\n\n    begin # error: Hint: this \"begin\" token is not closed before the end of the file\n      puts('second begin')\n    rescue\n      puts('inside rescue') # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_7.rb:18: unexpected token \"end of file\" https://srb.help/2001\n    18 |      puts('inside rescue') # error: unexpected token \"end of file\"\n    19 |\n\ntest/testdata/parser/error_recovery/eof_7.rb:15: Hint: this \"begin\" token is not closed before the end of the file https://srb.help/2003\n    15 |    begin # error: Hint: this \"begin\" token is not closed before the end of the file\n            ^^^^^\n\ntest/testdata/parser/error_recovery/eof_7.rb:10: Hint: this \"begin\" token is not closed before the end of the file https://srb.help/2003\n    10 |    begin # error: Hint: this \"begin\" token is not closed before the end of the file\n            ^^^^^\n\ntest/testdata/parser/error_recovery/eof_7.rb:8: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     8 |  def foo(x) # error: Hint: this \"def\" token is not closed before the end of the file\n          ^^^\n\ntest/testdata/parser/error_recovery/eof_7.rb:7: Hint: this \"class\" token is not closed before the end of the file https://srb.help/2003\n     7 |class A # error: Hint: this \"class\" token is not closed before the end of the file\n        ^^^^^\nErrors: 5",
    "original_error_count": 5,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_7.rb:19: expected an `end` to close the `begin` statement https://srb.help/2001\n    19 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_7.rb:19: expected an `end` to close the `begin` statement https://srb.help/2001\n    19 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_7.rb:19: expected an `end` to close the `def` statement https://srb.help/2001\n    19 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_7.rb:19: expected an `end` to close the `class` statement https://srb.help/2001\n    19 |\n        ^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(x, &<blk>)\n      begin\n        <self>.puts(\"outside begin\")\n        begin\n          <self>.puts(\"inside begin\")\n          <self>.puts(\"between\")\n          <self>.puts(\"second begin\")\n        rescue => <rescueTemp>$2\n          <self>.puts(\"inside rescue\")\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(x, &<blk>)\n      begin\n        <self>.puts(\"outside begin\")\n        begin\n          <self>.puts(\"inside begin\")\n          <self>.puts(\"between\")\n          <self>.puts(\"second begin\")\n        rescue => <rescueTemp>$2\n          begin\n            <self>.puts(\"inside rescue\")\n            <emptyTree>::<C <ErrorNode>>\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.7265469061876247,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -8,7 +8,10 @@\n           <self>.puts(\"between\")\n           <self>.puts(\"second begin\")\n         rescue => <rescueTemp>$2\n-          <self>.puts(\"inside rescue\")\n+          begin\n+            <self>.puts(\"inside rescue\")\n+            <emptyTree>::<C <ErrorNode>>\n+          end\n         end\n       end\n     end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all unclosed constructs but points all errors to EOF line 19 instead of the actual problematic token locations, and misses the primary error about the rescue block issue."
  },
  "eof_8.rb": {
    "filename": "eof_8.rb",
    "input_code": "# typed: false\n#        ^ to silence the dead code errors\n\n# TODO(jez) We don't do the same rewinding for these constructs that we do for\n# class/method blocks, so the indentation levels are not used for the sake of\n# backtracking at the moment.\n\nclass A # error: Hint: this \"class\" token is not closed before the end of the file\n  def foo(x, y) # error: Hint: this \"def\" token is not closed before the end of the file\n    unless x # error: Hint: this \"unless\" token is not closed before the end of the file\n    while x # error: Hint: this \"while\" token is not closed before the end of the file\n    until x # error: Hint: this \"until\" token is not closed before the end of the file\n    1.times do # error: Hint: this \"do\" token is not closed before the end of the file\n    -> do # error: Hint: this kDO_LAMBDA token is not closed before the end of the file\n    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n    # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_8.rb:16: unexpected token \"end of file\" https://srb.help/2001\n    16 |    # error: unexpected token \"end of file\"\n    17 |\n\ntest/testdata/parser/error_recovery/eof_8.rb:15: Hint: this kDO_BLOCK token is not closed before the end of the file https://srb.help/2003\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                ^^\n\ntest/testdata/parser/error_recovery/eof_8.rb:14: Hint: this kDO_LAMBDA token is not closed before the end of the file https://srb.help/2003\n    14 |    -> do # error: Hint: this kDO_LAMBDA token is not closed before the end of the file\n               ^^\n\ntest/testdata/parser/error_recovery/eof_8.rb:13: Hint: this \"do\" token is not closed before the end of the file https://srb.help/2003\n    13 |    1.times do # error: Hint: this \"do\" token is not closed before the end of the file\n                    ^^\n\ntest/testdata/parser/error_recovery/eof_8.rb:12: Hint: this \"until\" token is not closed before the end of the file https://srb.help/2003\n    12 |    until x # error: Hint: this \"until\" token is not closed before the end of the file\n            ^^^^^\n\ntest/testdata/parser/error_recovery/eof_8.rb:11: Hint: this \"while\" token is not closed before the end of the file https://srb.help/2003\n    11 |    while x # error: Hint: this \"while\" token is not closed before the end of the file\n            ^^^^^\n\ntest/testdata/parser/error_recovery/eof_8.rb:10: Hint: this \"unless\" token is not closed before the end of the file https://srb.help/2003\n    10 |    unless x # error: Hint: this \"unless\" token is not closed before the end of the file\n            ^^^^^^\n\ntest/testdata/parser/error_recovery/eof_8.rb:9: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     9 |  def foo(x, y) # error: Hint: this \"def\" token is not closed before the end of the file\n          ^^^\n\ntest/testdata/parser/error_recovery/eof_8.rb:8: Hint: this \"class\" token is not closed before the end of the file https://srb.help/2003\n     8 |class A # error: Hint: this \"class\" token is not closed before the end of the file\n        ^^^^^\nErrors: 9",
    "original_error_count": 9,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_8.rb:15: expected a block beginning with `do` to end with `end` https://srb.help/2001\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                  ^\n\ntest/testdata/parser/error_recovery/eof_8.rb:15: expected a lambda block beginning with `do` to end with `end` https://srb.help/2001\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                  ^\n\ntest/testdata/parser/error_recovery/eof_8.rb:15: expected a block beginning with `do` to end with `end` https://srb.help/2001\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                  ^\n\ntest/testdata/parser/error_recovery/eof_8.rb:15: expected an `end` to close the `until` statement https://srb.help/2001\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                  ^\n\ntest/testdata/parser/error_recovery/eof_8.rb:15: expected an `end` to close the `while` statement https://srb.help/2001\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                  ^\n\ntest/testdata/parser/error_recovery/eof_8.rb:15: expected an `end` to close the conditional clause https://srb.help/2001\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                  ^\n\ntest/testdata/parser/error_recovery/eof_8.rb:15: expected an `end` to close the `def` statement https://srb.help/2001\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                  ^\n\ntest/testdata/parser/error_recovery/eof_8.rb:15: expected an `end` to close the `class` statement https://srb.help/2001\n    15 |    x y do # error: Hint: this kDO_BLOCK token is not closed before the end of the file\n                  ^\nErrors: 8",
    "prism_error_count": 8,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(x, y, &<blk>)\n      if x\n        <emptyTree>\n      else\n        while x\n          while x.!()\n            1.times() do ||\n              <emptyTree>::<C Kernel>.lambda() do ||\n                <self>.x(y) do ||\n                  <emptyTree>\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(x, y, &<blk>)\n      if x\n        <emptyTree>\n      else\n        while x\n          while x.!()\n            1.times() do ||\n              <emptyTree>::<C Kernel>.lambda() do ||\n                <self>.x(y) do ||\n                  <emptyTree>::<C <ErrorNode>>\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.8430583501006036,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -9,7 +9,7 @@\n             1.times() do ||\n               <emptyTree>::<C Kernel>.lambda() do ||\n                 <self>.x(y) do ||\n-                  <emptyTree>\n+                  <emptyTree>::<C <ErrorNode>>\n                 end\n               end\n             end",
    "error_emoji": "游댮",
    "error_assessment": "Prism reports all 8 errors at line 15 (the last line) instead of pointing to each unclosed construct's actual location, making it much harder to identify which tokens need closing."
  },
  "eof_9.rb": {
    "filename": "eof_9.rb",
    "input_code": "# typed: false\n\ncase x # error: Hint: this \"case\" token is not closed before the end of the file\nwhen true\n\ncase # error: Hint: this \"case\" token is not closed before the end of the file\nwhen x\n\n  case x # error: Hint: this \"case\" token is not closed before the end of the file\n# ^^^^ error: unexpected token \"case\"\n\n",
    "original_errors": "test/testdata/parser/error_recovery/eof_9.rb:9: unexpected token \"case\" https://srb.help/2001\n     9 |  case x # error: Hint: this \"case\" token is not closed before the end of the file\n          ^^^^\n\ntest/testdata/parser/error_recovery/eof_9.rb:9: Hint: this \"case\" token is not closed before the end of the file https://srb.help/2003\n     9 |  case x # error: Hint: this \"case\" token is not closed before the end of the file\n          ^^^^\n\ntest/testdata/parser/error_recovery/eof_9.rb:6: Hint: this \"case\" token is not closed before the end of the file https://srb.help/2003\n     6 |case # error: Hint: this \"case\" token is not closed before the end of the file\n        ^^^^\n\ntest/testdata/parser/error_recovery/eof_9.rb:3: Hint: this \"case\" token is not closed before the end of the file https://srb.help/2003\n     3 |case x # error: Hint: this \"case\" token is not closed before the end of the file\n        ^^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/eof_9.rb:9: expected a `when` or `in` clause after `case` https://srb.help/2001\n     9 |  case x # error: Hint: this \"case\" token is not closed before the end of the file\n          ^^^^\n\ntest/testdata/parser/error_recovery/eof_9.rb:10: expected an `end` to close the `case` statement https://srb.help/2001\n    10 |# ^^^^ error: unexpected token \"case\"\n        ^\n\ntest/testdata/parser/error_recovery/eof_9.rb:12: expected an `end` to close the `case` statement https://srb.help/2001\n    12 |\n        ^\n\ntest/testdata/parser/error_recovery/eof_9.rb:12: expected an `end` to close the `case` statement https://srb.help/2001\n    12 |\n        ^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <assignTemp>$2 = <self>.x()\n\n  if true.===(<assignTemp>$2)\n    if <self>.x()\n      begin\n        <assignTemp>$3 = <self>.x()\n        if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$3)\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    else\n      <emptyTree>\n    end\n  else\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <assignTemp>$2 = <self>.x()\n\n  if true.===(<assignTemp>$2)\n    if <self>.x()\n      begin\n        begin\n          <assignTemp>$2 = <self>.x()\n          <emptyTree>\n        end\n        <emptyTree>::<C <ErrorNode>>\n      end\n    else\n      <emptyTree>\n    end\n  else\n    <emptyTree>\n  end\nend",
    "tree_similarity": 0.44473684210526315,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -4,12 +4,11 @@\n   if true.===(<assignTemp>$2)\n     if <self>.x()\n       begin\n-        <assignTemp>$3 = <self>.x()\n-        if <emptyTree>::<C <ErrorNode>>.===(<assignTemp>$3)\n+        begin\n+          <assignTemp>$2 = <self>.x()\n           <emptyTree>\n-        else\n-          <emptyTree>\n         end\n+        <emptyTree>::<C <ErrorNode>>\n       end\n     else\n       <emptyTree>",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the critical nested case error on line 9 and points to EOF/comments instead of the actual problem locations, making errors less actionable than Original."
  },
  "forward_args.rb": {
    "filename": "forward_args.rb",
    "input_code": "# typed: true\n\ndef foo(*, ...)\n      # ^ error: ... after rest argument\n  [1,2,3].each { |x| _1 }\n                   # ^^ error: numbered parameters are not allowed when an ordinary parameter is defined\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/forward_args.rb:3: ... after rest argument https://srb.help/2001\n     3 |def foo(*, ...)\n                ^\n\ntest/testdata/parser/error_recovery/forward_args.rb:5: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     5 |  [1,2,3].each { |x| _1 }\n                             ^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/forward_args.rb:3: ... after rest argument https://srb.help/2001\n     3 |def foo(*, ...)\n                   ^^^\n\ntest/testdata/parser/error_recovery/forward_args.rb:5: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     5 |  [1,2,3].each { |x| _1 }\n                             ^^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(**, *<fwd-args>, *<fwd-kwargs>:, &<fwd-block>)\n    [1, 2, 3].each() do |_1|\n      _1\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(**, *<fwd-args>, *<fwd-kwargs>:, &<fwd-block>)\n    [1, 2, 3].each() do |x|\n      _1\n    end\n  end\nend",
    "tree_similarity": 0.8793103448275862,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,6 +1,6 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   def foo<<todo method>>(**, *<fwd-args>, *<fwd-kwargs>:, &<fwd-block>)\n-    [1, 2, 3].each() do |_1|\n+    [1, 2, 3].each() do |x|\n       _1\n     end\n   end",
    "error_emoji": "游릭",
    "error_assessment": "Prism errors are accurate and slightly better, pointing to the full ... token instead of just the first character, while catching both issues correctly."
  },
  "forward_args_with_block.rb": {
    "filename": "forward_args_with_block.rb",
    "input_code": "# typed: true\n\ndef test(...)\n  [1,2,3].each do\n    foo(...) do end\n  #     ^^^         error: both block argument and literal block are passed\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/forward_args_with_block.rb:5: both block argument and literal block are passed https://srb.help/2001\n     5 |    foo(...) do end\n                ^^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/forward_args_with_block.rb:5: both block arg and actual block given; only one block is allowed https://srb.help/2001\n     5 |    foo(...) do end\n                     ^^^^^^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def test<<todo method>>(*<fwd-args>, *<fwd-kwargs>:, &<fwd-block>)\n    [1, 2, 3].each() do ||\n      ::<Magic>.<call-with-splat-and-block-pass>(<self>, :foo, ::<Magic>.<splat>(<fwd-args>).concat([::<Magic>.<to-hash-dup>(<fwd-kwargs>)]), nil, <fwd-block>) do ||\n        <emptyTree>\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def test<<todo method>>(*<fwd-args>, *<fwd-kwargs>:, &<fwd-block>)\n    [1, 2, 3].each() do ||\n      ::<Magic>.<call-with-splat-and-block-pass>(<self>, :foo, ::<Magic>.<splat>(<fwd-args>).concat([::<Magic>.<to-hash-dup>(<fwd-kwargs>)]), nil, <fwd-block>)\n    end\n  end\nend",
    "tree_similarity": 0.8567415730337079,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,9 +1,7 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   def test<<todo method>>(*<fwd-args>, *<fwd-kwargs>:, &<fwd-block>)\n     [1, 2, 3].each() do ||\n-      ::<Magic>.<call-with-splat-and-block-pass>(<self>, :foo, ::<Magic>.<splat>(<fwd-args>).concat([::<Magic>.<to-hash-dup>(<fwd-kwargs>)]), nil, <fwd-block>) do ||\n-        <emptyTree>\n-      end\n+      ::<Magic>.<call-with-splat-and-block-pass>(<self>, :foo, ::<Magic>.<splat>(<fwd-args>).concat([::<Magic>.<to-hash-dup>(<fwd-kwargs>)]), nil, <fwd-block>)\n     end\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches the same error with a clearer message, but points to the entire block instead of the forwarding arguments which is less precise than Original's location."
  },
  "hash_pair_value_omission.rb": {
    "filename": "hash_pair_value_omission.rb",
    "input_code": "# typed: true\n\n[1,2,3].map do |x|\n  { foo?: }\n  # ^^^^^ error: Method `foo?` does not exist\n  # ^^^^^ error: identifier foo? is not valid to get\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/hash_pair_value_omission.rb:4: identifier foo? is not valid to get https://srb.help/2001\n     4 |  { foo?: }\n            ^^^^^\n\ntest/testdata/parser/error_recovery/hash_pair_value_omission.rb:4: Method `foo?` does not exist on `T.class_of(<root>)` https://srb.help/7003\n     4 |  { foo?: }\n            ^^^^^\n  Got `T.class_of(<root>)` originating from:\n    test/testdata/parser/error_recovery/hash_pair_value_omission.rb:3:\n     3 |[1,2,3].map do |x|\n        ^\n    https://github.com/sorbet/sorbet/tree/master/rbi/core/kernel.rbi#L473: Did you mean: `Kernel#fork`\n     473 |  def fork(&blk); end\n            ^^^^^^^^^^^^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/hash_pair_value_omission.rb:4: identifier foo? is not valid to get https://srb.help/2001\n     4 |  { foo?: }\n            ^^^^\n\ntest/testdata/parser/error_recovery/hash_pair_value_omission.rb:4: Method `foo?` does not exist on `T.class_of(<root>)` https://srb.help/7003\n     4 |  { foo?: }\n            ^^^^^\n  Got `T.class_of(<root>)` originating from:\n    test/testdata/parser/error_recovery/hash_pair_value_omission.rb:3:\n     3 |[1,2,3].map do |x|\n        ^\n    https://github.com/sorbet/sorbet/tree/master/rbi/core/kernel.rbi#L473: Did you mean: `Kernel#fork`\n     473 |  def fork(&blk); end\n            ^^^^^^^^^^^^^^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].map() do |x|\n    {:foo? => <self>.foo?()}\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].map() do |x|\n    {:foo? => <self>.foo?()}\n  end\nend",
    "tree_similarity": 1.0,
    "tree_emoji": "游릭",
    "tree_diff": "Trees are identical",
    "error_emoji": "游리",
    "error_assessment": "Prism catches the same errors but underlines one fewer character in the first error (4 carets vs 5), a minor cosmetic difference in error location precision."
  },
  "if_do_1.rb": {
    "filename": "if_do_1.rb",
    "input_code": "# typed: true\n\nclass A\n  if 'thing' do\n# ^^ error: Unexpected token \"if\"; did you mean \"it\"?\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/if_do_1.rb:4: Unexpected token \"if\"; did you mean \"it\"? https://srb.help/2001\n     4 |  if 'thing' do\n          ^^\n  Autocorrect: Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/if_do_1.rb:4: Replace with `it`\n     4 |  if 'thing' do\n          ^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 1,
    "prism_errors": "test/testdata/parser/error_recovery/if_do_1.rb:4: expected `then` or `;` or '\\n' https://srb.help/2001\n     4 |  if 'thing' do\n                     ^^\n\ntest/testdata/parser/error_recovery/if_do_1.rb:4: unexpected 'do', ignoring it https://srb.help/2001\n     4 |  if 'thing' do\n                     ^^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    if \"thing\"\n      <emptyTree>\n    else\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    if \"thing\"\n      <emptyTree>::<C <ErrorNode>>\n    else\n      <emptyTree>\n    end\n  end\nend",
    "tree_similarity": 0.7263681592039801,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,7 +1,7 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     if \"thing\"\n-      <emptyTree>\n+      <emptyTree>::<C <ErrorNode>>\n     else\n       <emptyTree>\n     end",
    "error_emoji": "游릭",
    "error_assessment": "Prism correctly identifies the syntax error with accurate location pointing to the problematic 'do' keyword, providing clear technical error messages about the missing separator in the if statement."
  },
  "if_do_2.rb": {
    "filename": "if_do_2.rb",
    "input_code": "# typed: false\n\nclass A\n  def test1\n    puts 'before'\n    # TODO(jez) Better error would be to point to the `do` keyword here\n    if x.y do # error: Hint: this \"if\" token might not be properly closed\n      puts 'then'\n    end\n    Integer.class\n  end\n\n  def test2\n    puts 'before'\n    # TODO(jez) Better error would be to point to the `do` keyword here\n    if x.y do # error: Hint: this \"if\" token might not be properly closed\n      puts 'then'\n    else # error: else without rescue is useless\n      # TODO(jez) better parse would drop the `do` keyword and put this branch in the else\n      puts 'else'\n    end\n    Integer.class\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/if_do_2.rb:18: else without rescue is useless https://srb.help/2001\n    18 |    else # error: else without rescue is useless\n            ^^^^\n\ntest/testdata/parser/error_recovery/if_do_2.rb:24: unexpected token \"end of file\" https://srb.help/2001\n    24 |end # error: unexpected token \"end of file\"\n    25 |\n\ntest/testdata/parser/error_recovery/if_do_2.rb:7: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n     7 |    if x.y do # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_do_2.rb:11: Matching `end` found here but is not indented as far\n    11 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_do_2.rb:16: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    16 |    if x.y do # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_do_2.rb:23: Matching `end` found here but is not indented as far\n    23 |  end\n          ^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/if_do_2.rb:18: unexpected 'else', ignoring it https://srb.help/2001\n    18 |    else # error: else without rescue is useless\n            ^^^^\n\ntest/testdata/parser/error_recovery/if_do_2.rb:25: expected an `end` to close the `def` statement https://srb.help/2001\n    25 |\n        ^\n\ntest/testdata/parser/error_recovery/if_do_2.rb:25: expected an `end` to close the `class` statement https://srb.help/2001\n    25 |\n        ^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        if <self>.x().y() do ||\n            <self>.puts(\"then\")\n          end\n          <emptyTree>::<C Integer>.class()\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        if <self>.x().y() do ||\n            begin\n              <self>.puts(\"then\")\n              <self>.puts(\"else\")\n            end\n          end\n          <emptyTree>::<C Integer>.class()\n        else\n          <emptyTree>\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        if <self>.x().y() do ||\n            <self>.puts(\"then\")\n          end\n          <emptyTree>::<C Integer>.class()\n        else\n          <emptyTree>\n        end\n        def test2<<todo method>>(&<blk>)\n          begin\n            <self>.puts(\"before\")\n            if <self>.x().y() do ||\n                begin\n                  <self>.puts(\"then\")\n                  <emptyTree>::<C <ErrorNode>>\n                  <self>.puts(\"else\")\n                end\n              end\n              <emptyTree>::<C Integer>.class()\n            else\n              <emptyTree>\n            end\n          end\n        end\n        <emptyTree>::<C <ErrorNode>>\n      end\n    end\n  end\nend",
    "tree_similarity": 0.5127906976744186,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -10,22 +10,23 @@\n         else\n           <emptyTree>\n         end\n-      end\n-    end\n-\n-    def test2<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        if <self>.x().y() do ||\n-            begin\n-              <self>.puts(\"then\")\n-              <self>.puts(\"else\")\n+        def test2<<todo method>>(&<blk>)\n+          begin\n+            <self>.puts(\"before\")\n+            if <self>.x().y() do ||\n+                begin\n+                  <self>.puts(\"then\")\n+                  <emptyTree>::<C <ErrorNode>>\n+                  <self>.puts(\"else\")\n+                end\n+              end\n+              <emptyTree>::<C Integer>.class()\n+            else\n+              <emptyTree>\n             end\n           end\n-          <emptyTree>::<C Integer>.class()\n-        else\n-          <emptyTree>\n         end\n+        <emptyTree>::<C <ErrorNode>>\n       end\n     end\n   end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the key diagnostic hints about unclosed if statements and points to EOF instead of the actual problematic do keywords, making it harder to identify the root cause."
  },
  "if_indent_1.rb": {
    "filename": "if_indent_1.rb",
    "input_code": "# typed: false\n\nclass A\n  def test0\n    x = nil\n    if # error: unexpected token \"if\"\n  end\n\n  def test1\n    x = nil\n    if x # error: Hint: this \"if\" token might not be properly closed\n  end\n\n  def test2\n    x = nil\n    if x. # error: Hint: this \"if\" token might not be properly closed\n  end\n# ^^^ error: unexpected token \"end\"\n\n  def test3\n    x = nil\n    if x.f # error: Hint: this \"if\" token might not be properly closed\n  end\n\n  # -- These should still have no errors even in indentationAware mode --\n\n  def no_syntax_error_1\n    x = if y\n    end\n  end\n\n  def no_syntax_error_2\n    x = if y\n        end\n  end\n\n  def no_syntax_error_3\n      # this is a comment with weird indent\n    x = if y\n    end\n    puts 'after'\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/if_indent_1.rb:6: unexpected token \"if\" https://srb.help/2001\n     6 |    if # error: unexpected token \"if\"\n            ^^\n\ntest/testdata/parser/error_recovery/if_indent_1.rb:17: unexpected token \"end\" https://srb.help/2001\n    17 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_1.rb:43: unexpected token \"end of file\" https://srb.help/2001\n    43 |end # error: unexpected token \"end of file\"\n    44 |\n\ntest/testdata/parser/error_recovery/if_indent_1.rb:11: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    11 |    if x # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_1.rb:12: Matching `end` found here but is not indented as far\n    12 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_1.rb:16: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    16 |    if x. # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_1.rb:17: Matching `end` found here but is not indented as far\n    17 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_1.rb:22: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    22 |    if x.f # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_1.rb:23: Matching `end` found here but is not indented as far\n    23 |  end\n          ^^^\nErrors: 6",
    "original_error_count": 6,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/if_indent_1.rb:6: expected a predicate expression for the `if` statement https://srb.help/2001\n     6 |    if # error: unexpected token \"if\"\n            ^^\n\ntest/testdata/parser/error_recovery/if_indent_1.rb:7: expected `then` or `;` or '\\n' https://srb.help/2001\n     7 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_1.rb:7: expected an `end` to close the `def` statement https://srb.help/2001\n     7 |  end\n             ^\n\ntest/testdata/parser/error_recovery/if_indent_1.rb:7: expected an `end` to close the `class` statement https://srb.help/2001\n     7 |  end\n             ^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test0<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if <emptyTree>::<C <ErrorNode>>\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test1<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if x\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if x.<method-name-missing>()\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test3<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if x.f()\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def no_syntax_error_1<<todo method>>(&<blk>)\n      x = if <self>.y()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def no_syntax_error_2<<todo method>>(&<blk>)\n      x = if <self>.y()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def no_syntax_error_3<<todo method>>(&<blk>)\n      begin\n        x = if <self>.y()\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n        <self>.puts(\"after\")\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test0<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if <emptyTree>::<C <ErrorNode>>\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.22734138972809667,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -10,65 +10,5 @@\n         end\n       end\n     end\n-\n-    def test1<<todo method>>(&<blk>)\n-      begin\n-        x = nil\n-        if x\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-      end\n-    end\n-\n-    def test2<<todo method>>(&<blk>)\n-      begin\n-        x = nil\n-        if x.<method-name-missing>()\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-      end\n-    end\n-\n-    def test3<<todo method>>(&<blk>)\n-      begin\n-        x = nil\n-        if x.f()\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-      end\n-    end\n-\n-    def no_syntax_error_1<<todo method>>(&<blk>)\n-      x = if <self>.y()\n-        <emptyTree>\n-      else\n-        <emptyTree>\n-      end\n-    end\n-\n-    def no_syntax_error_2<<todo method>>(&<blk>)\n-      x = if <self>.y()\n-        <emptyTree>\n-      else\n-        <emptyTree>\n-      end\n-    end\n-\n-    def no_syntax_error_3<<todo method>>(&<blk>)\n-      begin\n-        x = if <self>.y()\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-        <self>.puts(\"after\")\n-      end\n-    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism only catches the first syntax error and cascades incorrectly, missing all the indentation-based hints for test1, test2, and test3 that Original properly detects."
  },
  "if_indent_2.rb": {
    "filename": "if_indent_2.rb",
    "input_code": "# typed: false\n\nclass A\n  def test0\n    x = nil\n    if # error: Hint: this \"if\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test1\n    x = nil\n    if x # error: Hint: this \"if\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test2\n    x = nil\n    if x. # error: Hint: this \"if\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test3\n    x = nil\n    if x.f # error: Hint: this \"if\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test4\n    x = nil\n    if x.f() # error: Hint: this \"if\" token might not be properly closed\n    puts 'after'\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/if_indent_2.rb:33: unexpected token \"end of file\" https://srb.help/2001\n    33 |end # error: unexpected token \"end of file\"\n    34 |\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:6: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n     6 |    if # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_2.rb:8: Matching `end` found here but is not indented as far\n     8 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:12: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    12 |    if x # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_2.rb:14: Matching `end` found here but is not indented as far\n    14 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:18: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    18 |    if x. # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_2.rb:20: Matching `end` found here but is not indented as far\n    20 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:24: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    24 |    if x.f # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_2.rb:26: Matching `end` found here but is not indented as far\n    26 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:30: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    30 |    if x.f() # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_2.rb:32: Matching `end` found here but is not indented as far\n    32 |  end\n          ^^^\nErrors: 6",
    "original_error_count": 6,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/if_indent_2.rb:34: expected an `end` to close the `def` statement https://srb.help/2001\n    34 |\n        ^\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:34: expected an `end` to close the `def` statement https://srb.help/2001\n    34 |\n        ^\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:34: expected an `end` to close the `def` statement https://srb.help/2001\n    34 |\n        ^\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:34: expected an `end` to close the `def` statement https://srb.help/2001\n    34 |\n        ^\n\ntest/testdata/parser/error_recovery/if_indent_2.rb:34: expected an `end` to close the `class` statement https://srb.help/2001\n    34 |\n        ^\nErrors: 5",
    "prism_error_count": 5,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test0<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if <self>.puts(\"after\")\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test1<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if x\n          <self>.puts(\"after\")\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if x.puts(\"after\")\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test3<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if x.f()\n          <self>.puts(\"after\")\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test4<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if x.f()\n          <self>.puts(\"after\")\n        else\n          <emptyTree>\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test0<<todo method>>(&<blk>)\n      begin\n        x = nil\n        if <self>.puts(\"after\")\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n        def test1<<todo method>>(&<blk>)\n          begin\n            x = nil\n            if x\n              <self>.puts(\"after\")\n            else\n              <emptyTree>\n            end\n            def test2<<todo method>>(&<blk>)\n              begin\n                x = nil\n                if x.puts(\"after\")\n                  <emptyTree>\n                else\n                  <emptyTree>\n                end\n                def test3<<todo method>>(&<blk>)\n                  begin\n                    x = nil\n                    if x.f()\n                      <self>.puts(\"after\")\n                    else\n                      <emptyTree>\n                    end\n                    def test4<<todo method>>(&<blk>)\n                      begin\n                        x = nil\n                        if x.f()\n                          <self>.puts(\"after\")\n                        else\n                          <emptyTree>\n                        end\n                      end\n                    end\n                    <emptyTree>::<C <ErrorNode>>\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.33607681755829905,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -8,51 +8,48 @@\n         else\n           <emptyTree>\n         end\n-      end\n-    end\n-\n-    def test1<<todo method>>(&<blk>)\n-      begin\n-        x = nil\n-        if x\n-          <self>.puts(\"after\")\n-        else\n-          <emptyTree>\n+        def test1<<todo method>>(&<blk>)\n+          begin\n+            x = nil\n+            if x\n+              <self>.puts(\"after\")\n+            else\n+              <emptyTree>\n+            end\n+            def test2<<todo method>>(&<blk>)\n+              begin\n+                x = nil\n+                if x.puts(\"after\")\n+                  <emptyTree>\n+                else\n+                  <emptyTree>\n+                end\n+                def test3<<todo method>>(&<blk>)\n+                  begin\n+                    x = nil\n+                    if x.f()\n+                      <self>.puts(\"after\")\n+                    else\n+                      <emptyTree>\n+                    end\n+                    def test4<<todo method>>(&<blk>)\n+                      begin\n+                        x = nil\n+                        if x.f()\n+                          <self>.puts(\"after\")\n+                        else\n+                          <emptyTree>\n+                        end\n+                      end\n+                    end\n+                    <emptyTree>::<C <ErrorNode>>\n+                  end\n+                end\n+              end\n+            end\n+          end\n         end\n       end\n     end\n-\n-    def test2<<todo method>>(&<blk>)\n-      begin\n-        x = nil\n-        if x.puts(\"after\")\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-      end\n-    end\n-\n-    def test3<<todo method>>(&<blk>)\n-      begin\n-        x = nil\n-        if x.f()\n-          <self>.puts(\"after\")\n-        else\n-          <emptyTree>\n-        end\n-      end\n-    end\n-\n-    def test4<<todo method>>(&<blk>)\n-      begin\n-        x = nil\n-        if x.f()\n-          <self>.puts(\"after\")\n-        else\n-          <emptyTree>\n-        end\n-      end\n-    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the core indentation mismatch issues that Original catches and provides less helpful generic EOF errors instead of pinpointing the specific if-end indentation problems."
  },
  "if_indent_3.rb": {
    "filename": "if_indent_3.rb",
    "input_code": "# typed: false\n\nclass A\n  def test0\n    x = if # error: unexpected token \"if\"\n  end\n\n  def test1\n    x = if x # error: Hint: this \"if\" token might not be properly closed\n  end\n\n  def test2\n    x = if x. # error: Hint: this \"if\" token might not be properly closed\n  end\n# ^^^ error: unexpected token \"end\"\n\n  def test3\n    x = if x.f # error: Hint: this \"if\" token might not be properly closed\n  end\n\n  def test3\n    x = if x.f() # error: Hint: this \"if\" token might not be properly closed\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/if_indent_3.rb:5: unexpected token \"if\" https://srb.help/2001\n     5 |    x = if # error: unexpected token \"if\"\n                ^^\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:14: unexpected token \"end\" https://srb.help/2001\n    14 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:24: unexpected token \"end of file\" https://srb.help/2001\n    24 |end # error: unexpected token \"end of file\"\n    25 |\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:9: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n     9 |    x = if x # error: Hint: this \"if\" token might not be properly closed\n                ^^\n    test/testdata/parser/error_recovery/if_indent_3.rb:10: Matching `end` found here but is not indented as far\n    10 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:13: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    13 |    x = if x. # error: Hint: this \"if\" token might not be properly closed\n                ^^\n    test/testdata/parser/error_recovery/if_indent_3.rb:14: Matching `end` found here but is not indented as far\n    14 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:18: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    18 |    x = if x.f # error: Hint: this \"if\" token might not be properly closed\n                ^^\n    test/testdata/parser/error_recovery/if_indent_3.rb:19: Matching `end` found here but is not indented as far\n    19 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:22: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    22 |    x = if x.f() # error: Hint: this \"if\" token might not be properly closed\n                ^^\n    test/testdata/parser/error_recovery/if_indent_3.rb:23: Matching `end` found here but is not indented as far\n    23 |  end\n          ^^^\nErrors: 7",
    "original_error_count": 7,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/if_indent_3.rb:5: expected a predicate expression for the `if` statement https://srb.help/2001\n     5 |    x = if # error: unexpected token \"if\"\n                ^^\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:6: expected `then` or `;` or '\\n' https://srb.help/2001\n     6 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:6: expected an `end` to close the `def` statement https://srb.help/2001\n     6 |  end\n             ^\n\ntest/testdata/parser/error_recovery/if_indent_3.rb:6: expected an `end` to close the `class` statement https://srb.help/2001\n     6 |  end\n             ^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test0<<todo method>>(&<blk>)\n      x = if <emptyTree>::<C <ErrorNode>>\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def test1<<todo method>>(&<blk>)\n      x = if x\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      x = if x.<method-name-missing>()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def test3<<todo method>>(&<blk>)\n      x = if x.f()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    def test3<<todo method>>(&<blk>)\n      x = if x.f()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test0<<todo method>>(&<blk>)\n      x = if <emptyTree>::<C <ErrorNode>>\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n  end\nend",
    "tree_similarity": 0.3278061224489796,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -7,37 +7,5 @@\n         <emptyTree>\n       end\n     end\n-\n-    def test1<<todo method>>(&<blk>)\n-      x = if x\n-        <emptyTree>\n-      else\n-        <emptyTree>\n-      end\n-    end\n-\n-    def test2<<todo method>>(&<blk>)\n-      x = if x.<method-name-missing>()\n-        <emptyTree>\n-      else\n-        <emptyTree>\n-      end\n-    end\n-\n-    def test3<<todo method>>(&<blk>)\n-      x = if x.f()\n-        <emptyTree>\n-      else\n-        <emptyTree>\n-      end\n-    end\n-\n-    def test3<<todo method>>(&<blk>)\n-      x = if x.f()\n-        <emptyTree>\n-      else\n-        <emptyTree>\n-      end\n-    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism only catches the first error and cascades into incorrect recovery, missing 6 out of 7 errors that Original correctly identifies including all the helpful indentation hints for unclosed if statements."
  },
  "if_indent_4.rb": {
    "filename": "if_indent_4.rb",
    "input_code": "# typed: false\n\nclass A\n  # This method actually parses normally, but because there was a syntax error\n  # *somewhere* in the file, we eagerly report an error here attempting to\n  # recover from it.\n  def test1\n    if x.f # error: Hint: this \"if\" token might not be properly closed\n    puts 'inside if'\n  end\n    # We this ends up at the class top-level, not inside test1\n    puts 'after if but inside test1'\n  end\n\n  # This ends up outside of `A`, but maybe it's better than showing nothing in\n  # the whole file.\n  def test2\n    if x.f # error: Hint: this \"if\" token might not be properly closed\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/if_indent_4.rb:20: unexpected token \"end of file\" https://srb.help/2001\n    20 |end # error: unexpected token \"end of file\"\n    21 |\n\ntest/testdata/parser/error_recovery/if_indent_4.rb:8: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n     8 |    if x.f # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_4.rb:10: Matching `end` found here but is not indented as far\n    10 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/if_indent_4.rb:18: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    18 |    if x.f # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_indent_4.rb:19: Matching `end` found here but is not indented as far\n    19 |  end\n          ^^^\nErrors: 3",
    "original_error_count": 3,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/if_indent_4.rb:21: expected an `end` to close the `class` statement https://srb.help/2001\n    21 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      if <self>.x().f()\n        <self>.puts(\"inside if\")\n      else\n        <emptyTree>\n      end\n    end\n\n    <self>.puts(\"after if but inside test1\")\n  end\n\n  def test2<<todo method>>(&<blk>)\n    if <self>.x().f()\n      <emptyTree>\n    else\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        if <self>.x().f()\n          <self>.puts(\"inside if\")\n        else\n          <emptyTree>\n        end\n        <self>.puts(\"after if but inside test1\")\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      if <self>.x().f()\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.3504950495049505,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,21 +1,24 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     def test1<<todo method>>(&<blk>)\n+      begin\n+        if <self>.x().f()\n+          <self>.puts(\"inside if\")\n+        else\n+          <emptyTree>\n+        end\n+        <self>.puts(\"after if but inside test1\")\n+      end\n+    end\n+\n+    def test2<<todo method>>(&<blk>)\n       if <self>.x().f()\n-        <self>.puts(\"inside if\")\n+        <emptyTree>\n       else\n         <emptyTree>\n       end\n     end\n \n-    <self>.puts(\"after if but inside test1\")\n+    <emptyTree>::<C <ErrorNode>>\n   end\n-\n-  def test2<<todo method>>(&<blk>)\n-    if <self>.x().f()\n-      <emptyTree>\n-    else\n-      <emptyTree>\n-    end\n-  end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism only reports a generic missing end error at EOF while Original correctly identifies both problematic if statements with indentation mismatches at their actual locations"
  },
  "if_indent_5.rb": {
    "filename": "if_indent_5.rb",
    "input_code": "# typed: false\n\nmodule A::B\n  class C1\n    def foo\n      if # error: unexpected token \"if\"\n    end\n\n    sig {void}\n    private def bar; end\n  end\n\n  class C2\n    def foo\n      if x # error: Hint: this \"if\" token might not be properly closed\n    end\n\n    sig {void}\n    private def bar; end\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/if_indent_5.rb:6: unexpected token \"if\" https://srb.help/2001\n     6 |      if # error: unexpected token \"if\"\n              ^^\n\ntest/testdata/parser/error_recovery/if_indent_5.rb:21: unexpected token \"end of file\" https://srb.help/2001\n    21 |end # error: unexpected token \"end of file\"\n    22 |\n\ntest/testdata/parser/error_recovery/if_indent_5.rb:15: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n    15 |      if x # error: Hint: this \"if\" token might not be properly closed\n              ^^\n    test/testdata/parser/error_recovery/if_indent_5.rb:16: Matching `end` found here but is not indented as far\n    16 |    end\n            ^^^\nErrors: 3",
    "original_error_count": 3,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/if_indent_5.rb:6: expected a predicate expression for the `if` statement https://srb.help/2001\n     6 |      if # error: unexpected token \"if\"\n              ^^\n\ntest/testdata/parser/error_recovery/if_indent_5.rb:7: expected `then` or `;` or '\\n' https://srb.help/2001\n     7 |    end\n            ^^^\n\ntest/testdata/parser/error_recovery/if_indent_5.rb:7: expected an `end` to close the `def` statement https://srb.help/2001\n     7 |    end\n               ^\n\ntest/testdata/parser/error_recovery/if_indent_5.rb:7: expected an `end` to close the `class` statement https://srb.help/2001\n     7 |    end\n               ^\n\ntest/testdata/parser/error_recovery/if_indent_5.rb:7: expected an `end` to close the `module` statement https://srb.help/2001\n     7 |    end\n               ^\nErrors: 5",
    "prism_error_count": 5,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C A>::<C B><<C <todo sym>>> < ()\n    class <emptyTree>::<C C1><<C <todo sym>>> < (::<todo sym>)\n      def foo<<todo method>>(&<blk>)\n        if <emptyTree>::<C <ErrorNode>>\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n\n      <self>.sig() do ||\n        <self>.void()\n      end\n\n      <self>.private(def bar<<todo method>>(&<blk>)\n          <emptyTree>\n        end)\n    end\n\n    class <emptyTree>::<C C2><<C <todo sym>>> < (::<todo sym>)\n      def foo<<todo method>>(&<blk>)\n        if <self>.x()\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n\n      <self>.sig() do ||\n        <self>.void()\n      end\n\n      <self>.private(def bar<<todo method>>(&<blk>)\n          <emptyTree>\n        end)\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C A>::<C B><<C <todo sym>>> < ()\n    class <emptyTree>::<C C1><<C <todo sym>>> < (::<todo sym>)\n      def foo<<todo method>>(&<blk>)\n        if <emptyTree>::<C <ErrorNode>>\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.3864447086801427,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -8,32 +8,6 @@\n           <emptyTree>\n         end\n       end\n-\n-      <self>.sig() do ||\n-        <self>.void()\n-      end\n-\n-      <self>.private(def bar<<todo method>>(&<blk>)\n-          <emptyTree>\n-        end)\n     end\n-\n-    class <emptyTree>::<C C2><<C <todo sym>>> < (::<todo sym>)\n-      def foo<<todo method>>(&<blk>)\n-        if <self>.x()\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-      end\n-\n-      <self>.sig() do ||\n-        <self>.void()\n-      end\n-\n-      <self>.private(def bar<<todo method>>(&<blk>)\n-          <emptyTree>\n-        end)\n-    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism generates a cascade of 5 confusing errors all pointing to line 7 for the first malformed if statement, while missing the second malformed if statement on line 15 entirely that Original correctly identifies with a helpful indentation hint."
  },
  "if_no_end.rb": {
    "filename": "if_no_end.rb",
    "input_code": "# typed: false\n\nclass A\n  def foo\n    if true # error: Hint: this \"if\" token might not be properly closed\n  end\nend\n\nclass B\n  def bar\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/if_no_end.rb:12: unexpected token \"end of file\" https://srb.help/2001\n    12 |end # error: unexpected token \"end of file\"\n    13 |\n\ntest/testdata/parser/error_recovery/if_no_end.rb:5: Hint: this \"if\" token might not be properly closed https://srb.help/2003\n     5 |    if true # error: Hint: this \"if\" token might not be properly closed\n            ^^\n    test/testdata/parser/error_recovery/if_no_end.rb:6: Matching `end` found here but is not indented as far\n     6 |  end\n          ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/if_no_end.rb:13: expected an `end` to close the `class` statement https://srb.help/2001\n    13 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(&<blk>)\n      if true\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n  end\n\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    def bar<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(&<blk>)\n      if true\n        <emptyTree>\n      else\n        <emptyTree>\n      end\n    end\n\n    class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n      def bar<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.6280788177339901,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -7,11 +7,13 @@\n         <emptyTree>\n       end\n     end\n-  end\n \n-  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n-    def bar<<todo method>>(&<blk>)\n-      <emptyTree>\n+    class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n+      def bar<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual problem (unclosed if statement on line 5) and only reports a generic class end error, while Original correctly identifies both the unclosed if and provides helpful indentation hints."
  },
  "lonely_def_01.rb": {
    "filename": "lonely_def_01.rb",
    "input_code": "# typed: false\nclass A # error: class definition in method body\n  sig {void}\n  def\n# ^^^ error: Hint: this \"def\" token might not be followed by a method name\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n\n  sig {void} # error: unexpected token tLCURLY\n  def example; end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_01.rb:8: unexpected token tLCURLY https://srb.help/2001\n     8 |  sig {void} # error: unexpected token tLCURLY\n              ^\n\ntest/testdata/parser/error_recovery/lonely_def_01.rb:2: class definition in method body https://srb.help/2001\n     2 |class A # error: class definition in method body\n        ^^^^^\n\ntest/testdata/parser/error_recovery/lonely_def_01.rb:4: Hint: this \"def\" token might not be followed by a method name https://srb.help/2003\n     4 |  def\n          ^^^\n\ntest/testdata/parser/error_recovery/lonely_def_01.rb:4: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     4 |  def\n          ^^^\n    test/testdata/parser/error_recovery/lonely_def_01.rb:10: Matching `end` found here but is not indented as far\n    10 |end\n        ^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_01.rb:8: expected a delimiter to close the parameters https://srb.help/2001\n     8 |  sig {void} # error: unexpected token tLCURLY\n             ^\n\ntest/testdata/parser/error_recovery/lonely_def_01.rb:8: expected a `=>` between the hash key and value https://srb.help/2001\n     8 |  sig {void} # error: unexpected token tLCURLY\n                   ^\n\ntest/testdata/parser/error_recovery/lonely_def_01.rb:8: unexpected '}'; expected a value in the hash literal https://srb.help/2001\n     8 |  sig {void} # error: unexpected token tLCURLY\n                   ^\n\ntest/testdata/parser/error_recovery/lonely_def_01.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def <method-def-name-missing><<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def example<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def sig<<todo method>>(&<blk>)\n      begin\n        {<self>.void() => <emptyTree>::<C <ErrorNode>>}\n        def example<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.4575,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -4,16 +4,15 @@\n       <self>.void()\n     end\n \n-    def <method-def-name-missing><<todo method>>(&<blk>)\n-      <emptyTree>\n+    def sig<<todo method>>(&<blk>)\n+      begin\n+        {<self>.void() => <emptyTree>::<C <ErrorNode>>}\n+        def example<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n+      end\n     end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n-\n-    def example<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism completely misses the core issue of the lonely def without a method name and instead produces confusing hash-related errors that don't reflect the actual problem."
  },
  "lonely_def_02.rb": {
    "filename": "lonely_def_02.rb",
    "input_code": "# typed: true\nclass A\n  extend T::Sig\n  sig {params(x: Integer).void}\n  #           ^ error: Unknown parameter name `x`\n  def\n# ^^^ error: Hint: this \"def\" token might not be followed by a method name\n# ^^^ error: Hint: this \"def\" token might not be properly closed\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_02.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/lonely_def_02.rb:6: Hint: this \"def\" token might not be followed by a method name https://srb.help/2003\n     6 |  def\n          ^^^\n\ntest/testdata/parser/error_recovery/lonely_def_02.rb:6: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     6 |  def\n          ^^^\n    test/testdata/parser/error_recovery/lonely_def_02.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\n\ntest/testdata/parser/error_recovery/lonely_def_02.rb:4: Unknown parameter name `x` https://srb.help/5003\n     4 |  sig {params(x: Integer).void}\n                      ^\n    test/testdata/parser/error_recovery/lonely_def_02.rb:6: Parameter not in method definition here\n     6 |  def\n          ^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_02.rb:10: expected an `end` to close the `def` statement https://srb.help/2001\n    10 |\n        ^\n\ntest/testdata/parser/error_recovery/lonely_def_02.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\n\ntest/testdata/parser/error_recovery/lonely_def_02.rb:4: Unknown parameter name `x` https://srb.help/5003\n     4 |  sig {params(x: Integer).void}\n                      ^\n    test/testdata/parser/error_recovery/lonely_def_02.rb:6: Parameter not in method definition here\n     6 |  def\n     7 |# ^^^ error: Hint: this \"def\" token might not be followed by a method name\n     8 |# ^^^ error: Hint: this \"def\" token might not be properly closed\n     9 |end # error: unexpected token \"end of file\"\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.extend(<emptyTree>::<C T>::<C Sig>)\n\n    <self>.sig() do ||\n      <self>.params(:x, <emptyTree>::<C Integer>).void()\n    end\n\n    def <method-def-name-missing><<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.extend(<emptyTree>::<C T>::<C Sig>)\n\n    <self>.sig() do ||\n      <self>.params(:x, <emptyTree>::<C Integer>).void()\n    end\n\n    def end<<todo method>>(&<blk>)\n      <emptyTree>::<C <ErrorNode>>\n    end\n  end\nend",
    "tree_similarity": 0.7589285714285714,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -6,8 +6,8 @@\n       <self>.params(:x, <emptyTree>::<C Integer>).void()\n     end\n \n-    def <method-def-name-missing><<todo method>>(&<blk>)\n-      <emptyTree>\n+    def end<<todo method>>(&<blk>)\n+      <emptyTree>::<C <ErrorNode>>\n     end\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches the same issues but points to EOF instead of the problematic def token and end token, making error locations less precise than Original."
  },
  "lonely_def_03.rb": {
    "filename": "lonely_def_03.rb",
    "input_code": "# typed: true\ndef # error: Hint: this \"def\" token is not closed before the end of the file\n# error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_03.rb:3: unexpected token \"end of file\" https://srb.help/2001\n     3 |# error: unexpected token \"end of file\"\n     4 |\n\ntest/testdata/parser/error_recovery/lonely_def_03.rb:2: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     2 |def # error: Hint: this \"def\" token is not closed before the end of the file\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_03.rb:3: unexpected end-of-input; expected a method name https://srb.help/2001\n     3 |# error: unexpected token \"end of file\"\n     4 |\n\ntest/testdata/parser/error_recovery/lonely_def_03.rb:2: expected a delimiter to close the parameters https://srb.help/2001\n     2 |def # error: Hint: this \"def\" token is not closed before the end of the file\n           ^\n\ntest/testdata/parser/error_recovery/lonely_def_03.rb:2: expected an `end` to close the `def` statement https://srb.help/2001\n     2 |def # error: Hint: this \"def\" token is not closed before the end of the file\n           ^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def <method-def-name-missing><<todo method>>(&<blk>)\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def \n<<todo method>>(&<blk>)\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.4566929133858268,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,6 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  def <method-def-name-missing><<todo method>>(&<blk>)\n-    <emptyTree>\n+  def \n+<<todo method>>(&<blk>)\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism provides more detailed error messages but reports 3 errors instead of 2, with some pointing to less helpful locations (column after def) rather than the def token itself."
  },
  "lonely_def_04.rb": {
    "filename": "lonely_def_04.rb",
    "input_code": "# typed: false\ndef # error: Hint: this \"def\" token might not be followed by a method name\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_04.rb:3: unexpected token \"end of file\" https://srb.help/2001\n     3 |end # error: unexpected token \"end of file\"\n     4 |\n\ntest/testdata/parser/error_recovery/lonely_def_04.rb:2: Hint: this \"def\" token might not be followed by a method name https://srb.help/2003\n     2 |def # error: Hint: this \"def\" token might not be followed by a method name\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_04.rb:4: expected an `end` to close the `def` statement https://srb.help/2001\n     4 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def <method-def-name-missing><<todo method>>(&<blk>)\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def end<<todo method>>(&<blk>)\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.4330708661417323,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,5 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  def <method-def-name-missing><<todo method>>(&<blk>)\n-    <emptyTree>\n+  def end<<todo method>>(&<blk>)\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the core issue that def has no method name, only reporting a missing end instead of identifying the malformed def statement like Original does."
  },
  "lonely_def_05.rb": {
    "filename": "lonely_def_05.rb",
    "input_code": "# typed: false\n\nclass A\n  def # error: Hint: this \"def\" token might not be followed by a method name\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_05.rb:6: unexpected token \"end of file\" https://srb.help/2001\n     6 |end # error: unexpected token \"end of file\"\n     7 |\n\ntest/testdata/parser/error_recovery/lonely_def_05.rb:4: Hint: this \"def\" token might not be followed by a method name https://srb.help/2003\n     4 |  def # error: Hint: this \"def\" token might not be followed by a method name\n          ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_05.rb:7: expected an `end` to close the `class` statement https://srb.help/2001\n     7 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def <method-def-name-missing><<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def end<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.5592417061611374,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,7 +1,9 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n-    def <method-def-name-missing><<todo method>>(&<blk>)\n+    def end<<todo method>>(&<blk>)\n       <emptyTree>\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the core issue of the malformed def statement and only reports a generic missing end error, while Original correctly identifies the lonely def token as the root problem."
  },
  "lonely_def_06.rb": {
    "filename": "lonely_def_06.rb",
    "input_code": "# typed: false\nclass A\n  sig {void}\n  def self # error: Hint: this \"def\" token might not be properly closed\n\n  sig {void}\n  def example; end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_06.rb:8: unexpected token \"end of file\" https://srb.help/2001\n     8 |end # error: unexpected token \"end of file\"\n     9 |\n\ntest/testdata/parser/error_recovery/lonely_def_06.rb:4: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     4 |  def self # error: Hint: this \"def\" token might not be properly closed\n          ^^^\n    test/testdata/parser/error_recovery/lonely_def_06.rb:8: Matching `end` found here but is not indented as far\n     8 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_06.rb:9: expected an `end` to close the `class` statement https://srb.help/2001\n     9 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def example<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self<<todo method>>(&<blk>)\n      begin\n        <self>.sig() do ||\n          <self>.void()\n        end\n        def example<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.625,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -5,15 +5,16 @@\n     end\n \n     def self<<todo method>>(&<blk>)\n-      <emptyTree>\n+      begin\n+        <self>.sig() do ||\n+          <self>.void()\n+        end\n+        def example<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n+      end\n     end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n-\n-    def example<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual syntax error on line 4 where def self is incomplete, only reporting a generic missing end for the class instead of identifying the malformed method definition."
  },
  "lonely_def_07.rb": {
    "filename": "lonely_def_07.rb",
    "input_code": "# typed: false\nclass A # error: class definition in method body\n  sig {void}\n  def self.\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n  #       ^ error: Hint: this \".\" token might not be followed by a method name\n\n  sig {void} # error: unexpected token tLCURLY\n  def example; end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_07.rb:8: unexpected token tLCURLY https://srb.help/2001\n     8 |  sig {void} # error: unexpected token tLCURLY\n              ^\n\ntest/testdata/parser/error_recovery/lonely_def_07.rb:2: class definition in method body https://srb.help/2001\n     2 |class A # error: class definition in method body\n        ^^^^^\n\ntest/testdata/parser/error_recovery/lonely_def_07.rb:4: Hint: this \".\" token might not be followed by a method name https://srb.help/2003\n     4 |  def self.\n                  ^\n\ntest/testdata/parser/error_recovery/lonely_def_07.rb:4: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     4 |  def self.\n          ^^^\n    test/testdata/parser/error_recovery/lonely_def_07.rb:10: Matching `end` found here but is not indented as far\n    10 |end\n        ^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_07.rb:8: expected a delimiter to close the parameters https://srb.help/2001\n     8 |  sig {void} # error: unexpected token tLCURLY\n             ^\n\ntest/testdata/parser/error_recovery/lonely_def_07.rb:8: expected a `=>` between the hash key and value https://srb.help/2001\n     8 |  sig {void} # error: unexpected token tLCURLY\n                   ^\n\ntest/testdata/parser/error_recovery/lonely_def_07.rb:8: unexpected '}'; expected a value in the hash literal https://srb.help/2001\n     8 |  sig {void} # error: unexpected token tLCURLY\n                   ^\n\ntest/testdata/parser/error_recovery/lonely_def_07.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self.<method-def-name-missing><<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def example<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def self.sig<<todo method>>(&<blk>)\n      begin\n        {<self>.void() => <emptyTree>::<C <ErrorNode>>}\n        def example<<todo method>>(&<blk>)\n          <emptyTree>\n        end\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.4641975308641975,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -4,16 +4,15 @@\n       <self>.void()\n     end\n \n-    def self.<method-def-name-missing><<todo method>>(&<blk>)\n-      <emptyTree>\n+    def self.sig<<todo method>>(&<blk>)\n+      begin\n+        {<self>.void() => <emptyTree>::<C <ErrorNode>>}\n+        def example<<todo method>>(&<blk>)\n+          <emptyTree>\n+        end\n+      end\n     end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n-\n-    def example<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism completely misses the actual lonely def error and instead produces confusing hash-related errors on the wrong line, failing to identify the core problem that Original correctly diagnoses."
  },
  "lonely_def_08.rb": {
    "filename": "lonely_def_08.rb",
    "input_code": "# typed: true\nclass A\n  extend T::Sig\n  sig {params(x: Integer).void}\n  #           ^ error: Unknown parameter name `x`\n  def self # error: Hint: this \"def\" token might not be properly closed\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_08.rb:7: unexpected token \"end of file\" https://srb.help/2001\n     7 |end # error: unexpected token \"end of file\"\n     8 |\n\ntest/testdata/parser/error_recovery/lonely_def_08.rb:6: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     6 |  def self # error: Hint: this \"def\" token might not be properly closed\n          ^^^\n    test/testdata/parser/error_recovery/lonely_def_08.rb:7: Matching `end` found here but is not indented as far\n     7 |end # error: unexpected token \"end of file\"\n        ^^^\n\ntest/testdata/parser/error_recovery/lonely_def_08.rb:4: Unknown parameter name `x` https://srb.help/5003\n     4 |  sig {params(x: Integer).void}\n                      ^\n    test/testdata/parser/error_recovery/lonely_def_08.rb:6: Parameter not in method definition here\n     6 |  def self # error: Hint: this \"def\" token might not be properly closed\n          ^^^^^^^^\nErrors: 3",
    "original_error_count": 3,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_08.rb:8: expected an `end` to close the `class` statement https://srb.help/2001\n     8 |\n        ^\n\ntest/testdata/parser/error_recovery/lonely_def_08.rb:4: Unknown parameter name `x` https://srb.help/5003\n     4 |  sig {params(x: Integer).void}\n                      ^\n    test/testdata/parser/error_recovery/lonely_def_08.rb:6: Parameter not in method definition here\n     6 |  def self # error: Hint: this \"def\" token might not be properly closed\n          ^^^^^^^^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.extend(<emptyTree>::<C T>::<C Sig>)\n\n    <self>.sig() do ||\n      <self>.params(:x, <emptyTree>::<C Integer>).void()\n    end\n\n    def self<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.extend(<emptyTree>::<C T>::<C Sig>)\n\n    <self>.sig() do ||\n      <self>.params(:x, <emptyTree>::<C Integer>).void()\n    end\n\n    def self<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8825214899713467,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -9,5 +9,7 @@\n     def self<<todo method>>(&<blk>)\n       <emptyTree>\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches the same semantic error but misses the helpful hint about the unclosed def token, instead only reporting the missing class end at EOF which is less actionable for the actual syntax error."
  },
  "lonely_def_09.rb": {
    "filename": "lonely_def_09.rb",
    "input_code": "# typed: true\nclass A\n  extend T::Sig\n  sig {params(x: Integer).void}\n  #           ^ error: Unknown parameter name `x`\n  def self.\n# ^^^ error: Hint: this \"def\" token might not be properly closed\n  #       ^ error: Hint: this \".\" token might not be followed by a method name\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_09.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/lonely_def_09.rb:6: Hint: this \".\" token might not be followed by a method name https://srb.help/2003\n     6 |  def self.\n                  ^\n\ntest/testdata/parser/error_recovery/lonely_def_09.rb:6: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n     6 |  def self.\n          ^^^\n    test/testdata/parser/error_recovery/lonely_def_09.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\n\ntest/testdata/parser/error_recovery/lonely_def_09.rb:4: Unknown parameter name `x` https://srb.help/5003\n     4 |  sig {params(x: Integer).void}\n                      ^\n    test/testdata/parser/error_recovery/lonely_def_09.rb:6: Parameter not in method definition here\n     6 |  def self.\n          ^^^^^^^^^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_09.rb:10: expected an `end` to close the `def` statement https://srb.help/2001\n    10 |\n        ^\n\ntest/testdata/parser/error_recovery/lonely_def_09.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\n\ntest/testdata/parser/error_recovery/lonely_def_09.rb:4: Unknown parameter name `x` https://srb.help/5003\n     4 |  sig {params(x: Integer).void}\n                      ^\n    test/testdata/parser/error_recovery/lonely_def_09.rb:6: Parameter not in method definition here\n     6 |  def self.\n     7 |# ^^^ error: Hint: this \"def\" token might not be properly closed\n     8 |  #       ^ error: Hint: this \".\" token might not be followed by a method name\n     9 |end # error: unexpected token \"end of file\"\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.extend(<emptyTree>::<C T>::<C Sig>)\n\n    <self>.sig() do ||\n      <self>.params(:x, <emptyTree>::<C Integer>).void()\n    end\n\n    def self.<method-def-name-missing><<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <self>.extend(<emptyTree>::<C T>::<C Sig>)\n\n    <self>.sig() do ||\n      <self>.params(:x, <emptyTree>::<C Integer>).void()\n    end\n\n    def self.end<<todo method>>(&<blk>)\n      <emptyTree>::<C <ErrorNode>>\n    end\n  end\nend",
    "tree_similarity": 0.7624633431085044,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -6,8 +6,8 @@\n       <self>.params(:x, <emptyTree>::<C Integer>).void()\n     end\n \n-    def self.<method-def-name-missing><<todo method>>(&<blk>)\n-      <emptyTree>\n+    def self.end<<todo method>>(&<blk>)\n+      <emptyTree>::<C <ErrorNode>>\n     end\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches the same semantic error but points to EOF for syntax errors instead of the problematic def/dot tokens, making the errors less actionable than Original's specific hints about the unclosed def and missing method name."
  },
  "lonely_def_10.rb": {
    "filename": "lonely_def_10.rb",
    "input_code": "# typed: false\ndef self # error: Hint: this \"def\" token is not closed before the end of the file\n# error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_10.rb:3: unexpected token \"end of file\" https://srb.help/2001\n     3 |# error: unexpected token \"end of file\"\n     4 |\n\ntest/testdata/parser/error_recovery/lonely_def_10.rb:2: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     2 |def self # error: Hint: this \"def\" token is not closed before the end of the file\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_10.rb:3: expected an `end` to close the `def` statement https://srb.help/2001\n     3 |# error: unexpected token \"end of file\"\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def self<<todo method>>(&<blk>)\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def self<<todo method>>(&<blk>)\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.7804878048780488,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,5 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   def self<<todo method>>(&<blk>)\n-    <emptyTree>\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游릭",
    "error_assessment": "Prism provides a clearer, more concise error message that accurately identifies the missing end for the def statement, which is more helpful than Original's two separate errors."
  },
  "lonely_def_11.rb": {
    "filename": "lonely_def_11.rb",
    "input_code": "# typed: true\ndef self. # error: Hint: this \"def\" token is not closed before the end of the file\n# error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_11.rb:3: unexpected token \"end of file\" https://srb.help/2001\n     3 |# error: unexpected token \"end of file\"\n     4 |\n\ntest/testdata/parser/error_recovery/lonely_def_11.rb:2: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     2 |def self. # error: Hint: this \"def\" token is not closed before the end of the file\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_11.rb:3: unexpected end-of-input; expected a method name https://srb.help/2001\n     3 |# error: unexpected token \"end of file\"\n     4 |\n\ntest/testdata/parser/error_recovery/lonely_def_11.rb:2: expected a delimiter to close the parameters https://srb.help/2001\n     2 |def self. # error: Hint: this \"def\" token is not closed before the end of the file\n                 ^\n\ntest/testdata/parser/error_recovery/lonely_def_11.rb:2: expected an `end` to close the `def` statement https://srb.help/2001\n     2 |def self. # error: Hint: this \"def\" token is not closed before the end of the file\n                 ^\nErrors: 3",
    "prism_error_count": 3,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def self.<method-def-name-missing><<todo method>>(&<blk>)\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def self.\n<<todo method>>(&<blk>)\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.4772727272727273,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,6 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  def self.<method-def-name-missing><<todo method>>(&<blk>)\n-    <emptyTree>\n+  def self.\n+<<todo method>>(&<blk>)\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism provides more detailed errors but points to EOF for the first error instead of the actual problem location on line 2, and introduces an unnecessary parameters delimiter error."
  },
  "lonely_def_12.rb": {
    "filename": "lonely_def_12.rb",
    "input_code": "# typed: false\ndef self.\n  #     ^ error: Hint: this \".\" token might not be followed by a method name\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_12.rb:4: unexpected token \"end of file\" https://srb.help/2001\n     4 |end # error: unexpected token \"end of file\"\n     5 |\n\ntest/testdata/parser/error_recovery/lonely_def_12.rb:2: Hint: this \".\" token might not be followed by a method name https://srb.help/2003\n     2 |def self.\n                ^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_12.rb:5: expected an `end` to close the `def` statement https://srb.help/2001\n     5 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def self.<method-def-name-missing><<todo method>>(&<blk>)\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def self.end<<todo method>>(&<blk>)\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.45454545454545453,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,5 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  def self.<method-def-name-missing><<todo method>>(&<blk>)\n-    <emptyTree>\n+  def self.end<<todo method>>(&<blk>)\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the key error about the lonely dot operator and only reports a generic missing end, while Original correctly identifies both the problematic dot token and the unexpected EOF."
  },
  "lonely_def_13.rb": {
    "filename": "lonely_def_13.rb",
    "input_code": "# typed: false\n\nclass A\n  def self.# error: Hint: this \".\" token might not be followed by a method name\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_13.rb:6: unexpected token \"end of file\" https://srb.help/2001\n     6 |end # error: unexpected token \"end of file\"\n     7 |\n\ntest/testdata/parser/error_recovery/lonely_def_13.rb:4: Hint: this \".\" token might not be followed by a method name https://srb.help/2003\n     4 |  def self.# error: Hint: this \".\" token might not be followed by a method name\n                  ^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_13.rb:7: expected an `end` to close the `class` statement https://srb.help/2001\n     7 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def self.<method-def-name-missing><<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def self.end<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.5694444444444444,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,7 +1,9 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n-    def self.<method-def-name-missing><<todo method>>(&<blk>)\n+    def self.end<<todo method>>(&<blk>)\n       <emptyTree>\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the primary syntax error (incomplete method definition with lonely dot operator) and only reports a generic missing end error, while Original correctly identifies both the problematic dot token and the resulting parse failure."
  },
  "lonely_def_14.rb": {
    "filename": "lonely_def_14.rb",
    "input_code": "# typed: true\n\n# This is an example of where our greedy heuristic can sometimes do the wrong\n# thing. If `def bar` had been properly closed, the `def foo` would have parsed\n# ok, despite being on a new line.\n#\n# When we enter recovery mode, we greedily assume that seeing `def` and `foo`\n# on different lines must be the cause of the syntax error, which is why the\n# snapshot test shows that Sorbet recovers from this parse error by treating\n# `foo` as a call in a method with a missing name, instead of as the method\n# name itself.\n#\n# It's tests like this why all the `Hint` errors say \"might,\" because they can\n# sometimes be wrong.\n\nclass A\n  def # error: Hint: this \"def\" token might not be followed by a method name\n    foo # error: Method `foo` does not exist on `A`\n  end\n  def bar # error: Hint: this \"def\" token might not be properly closed\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/lonely_def_14.rb:21: unexpected token \"end of file\" https://srb.help/2001\n    21 |end # error: unexpected token \"end of file\"\n    22 |\n\ntest/testdata/parser/error_recovery/lonely_def_14.rb:17: Hint: this \"def\" token might not be followed by a method name https://srb.help/2003\n    17 |  def # error: Hint: this \"def\" token might not be followed by a method name\n          ^^^\n\ntest/testdata/parser/error_recovery/lonely_def_14.rb:20: Hint: this \"def\" token might not be properly closed https://srb.help/2003\n    20 |  def bar # error: Hint: this \"def\" token might not be properly closed\n          ^^^\n    test/testdata/parser/error_recovery/lonely_def_14.rb:21: Matching `end` found here but is not indented as far\n    21 |end # error: unexpected token \"end of file\"\n        ^^^\n\ntest/testdata/parser/error_recovery/lonely_def_14.rb:18: Method `foo` does not exist on `A` https://srb.help/7003\n    18 |    foo # error: Method `foo` does not exist on `A`\n            ^^^\n  Got `A` originating from:\n    test/testdata/parser/error_recovery/lonely_def_14.rb:17:\n    17 |  def # error: Hint: this \"def\" token might not be followed by a method name\n          ^\nErrors: 4",
    "original_error_count": 4,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/lonely_def_14.rb:22: expected an `end` to close the `class` statement https://srb.help/2001\n    22 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def <method-def-name-missing><<todo method>>(&<blk>)\n      <self>.foo()\n    end\n\n    def bar<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def foo<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    def bar<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.45054945054945056,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,11 +1,13 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n-    def <method-def-name-missing><<todo method>>(&<blk>)\n-      <self>.foo()\n+    def foo<<todo method>>(&<blk>)\n+      <emptyTree>\n     end\n \n     def bar<<todo method>>(&<blk>)\n       <emptyTree>\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism only reports a generic missing end error at EOF, completely missing the actual syntax issues with the malformed def statements that Original correctly identifies with helpful hints."
  },
  "long_line_indent.rb": {
    "filename": "long_line_indent.rb",
    "input_code": "# typed: false\ndef foo\n  really_long_method_________________________________________________________________________________________________________ do\n  #                                                                                                                           ^^ error: Hint: this \"do\" token might not be properly closed\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/long_line_indent.rb:5: unexpected token \"end of file\" https://srb.help/2001\n     5 |end # error: unexpected token \"end of file\"\n     6 |\n\ntest/testdata/parser/error_recovery/long_line_indent.rb:3: Hint: this \"do\" token might not be properly closed https://srb.help/2003\n     3 |  really_long_method_________________________________________________________________________________________________________ do\n                                                                                                                                      ^^\n    test/testdata/parser/error_recovery/long_line_indent.rb:5: Matching `end` found here but is not indented as far\n     5 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/long_line_indent.rb:6: expected an `end` to close the `def` statement https://srb.help/2001\n     6 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(&<blk>)\n    <self>.really_long_method_________________________________________________________________________________________________________() do ||\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(&<blk>)\n    begin\n      <self>.really_long_method_________________________________________________________________________________________________________() do ||\n        <emptyTree>\n      end\n      <emptyTree>::<C <ErrorNode>>\n    end\n  end\nend",
    "tree_similarity": 0.583596214511041,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,7 +1,10 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   def foo<<todo method>>(&<blk>)\n-    <self>.really_long_method_________________________________________________________________________________________________________() do ||\n-      <emptyTree>\n+    begin\n+      <self>.really_long_method_________________________________________________________________________________________________________() do ||\n+        <emptyTree>\n+      end\n+      <emptyTree>::<C <ErrorNode>>\n     end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual problem (unclosed do block) and only reports the missing end for def, while Original correctly identifies both the unclosed do block and provides helpful indentation hints."
  },
  "long_prefix_indent.rb": {
    "filename": "long_prefix_indent.rb",
    "input_code": "# typed: false\n# next line is indented 101 spaces\n                                                                                                     def foo # error: Hint: this \"def\" token is not closed before the end of the file\n                                                                                                       1.times do\n                                                                                                     end # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/long_prefix_indent.rb:5: unexpected token \"end of file\" https://srb.help/2001\n     5 |                                                                                                     end # error: unexpected token \"end of file\"\n     6 |\n\ntest/testdata/parser/error_recovery/long_prefix_indent.rb:3: Hint: this \"def\" token is not closed before the end of the file https://srb.help/2003\n     3 |                                                                                                     def foo # error: Hint: this \"def\" token is not closed before the end of the file\n                                                                                                             ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/long_prefix_indent.rb:6: expected an `end` to close the `def` statement https://srb.help/2001\n     6 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  1.times() do ||\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(&<blk>)\n    begin\n      1.times() do ||\n        <emptyTree>\n      end\n      <emptyTree>::<C <ErrorNode>>\n    end\n  end\nend",
    "tree_similarity": 0.26804123711340205,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,10 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  1.times() do ||\n-    <emptyTree>\n+  def foo<<todo method>>(&<blk>)\n+    begin\n+      1.times() do ||\n+        <emptyTree>\n+      end\n+      <emptyTree>::<C <ErrorNode>>\n+    end\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches the unclosed def but points to EOF instead of the actual def token location, and misses the mismatched end token error that Original reports."
  },
  "missing_fun.rb": {
    "filename": "missing_fun.rb",
    "input_code": "# typed: false\n\ndef test_method_without_fun_name(x)\n  x.\nend # error: unexpected token\n\ndef test_method_without_fun_name_plus_before(x)\n  before = 1\n  x.\nend # error: unexpected token\n\ndef test_method_without_fun_name_plus_after(x)\n  x.\n  after = 1\nend\n\ndef test_method_without_fun_name_before_and_after(x)\n  before = 1\n  x.\n  after = 1\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/missing_fun.rb:5: unexpected token \"end\" https://srb.help/2001\n     5 |end # error: unexpected token\n        ^^^\n\ntest/testdata/parser/error_recovery/missing_fun.rb:10: unexpected token \"end\" https://srb.help/2001\n    10 |end # error: unexpected token\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/missing_fun.rb:22: expected an `end` to close the `def` statement https://srb.help/2001\n    22 |\n        ^\n\ntest/testdata/parser/error_recovery/missing_fun.rb:22: expected an `end` to close the `def` statement https://srb.help/2001\n    22 |\n        ^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def test_method_without_fun_name<<todo method>>(x, &<blk>)\n    x.<method-name-missing>()\n  end\n\n  def test_method_without_fun_name_plus_before<<todo method>>(x, &<blk>)\n    begin\n      before = 1\n      x.<method-name-missing>()\n    end\n  end\n\n  def test_method_without_fun_name_plus_after<<todo method>>(x, &<blk>)\n    x.after=(1)\n  end\n\n  def test_method_without_fun_name_before_and_after<<todo method>>(x, &<blk>)\n    begin\n      before = 1\n      x.after=(1)\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def test_method_without_fun_name<<todo method>>(x, &<blk>)\n    begin\n      x.end()\n      def test_method_without_fun_name_plus_before<<todo method>>(x, &<blk>)\n        begin\n          before = 1\n          x.end()\n          def test_method_without_fun_name_plus_after<<todo method>>(x, &<blk>)\n            x.after=(1)\n          end\n          def test_method_without_fun_name_before_and_after<<todo method>>(x, &<blk>)\n            begin\n              before = 1\n              x.after=(1)\n            end\n          end\n          <emptyTree>::<C <ErrorNode>>\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.2534992223950233,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,23 +1,23 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   def test_method_without_fun_name<<todo method>>(x, &<blk>)\n-    x.<method-name-missing>()\n-  end\n-\n-  def test_method_without_fun_name_plus_before<<todo method>>(x, &<blk>)\n     begin\n-      before = 1\n-      x.<method-name-missing>()\n+      x.end()\n+      def test_method_without_fun_name_plus_before<<todo method>>(x, &<blk>)\n+        begin\n+          before = 1\n+          x.end()\n+          def test_method_without_fun_name_plus_after<<todo method>>(x, &<blk>)\n+            x.after=(1)\n+          end\n+          def test_method_without_fun_name_before_and_after<<todo method>>(x, &<blk>)\n+            begin\n+              before = 1\n+              x.after=(1)\n+            end\n+          end\n+          <emptyTree>::<C <ErrorNode>>\n+        end\n+      end\n     end\n   end\n-\n-  def test_method_without_fun_name_plus_after<<todo method>>(x, &<blk>)\n-    x.after=(1)\n-  end\n-\n-  def test_method_without_fun_name_before_and_after<<todo method>>(x, &<blk>)\n-    begin\n-      before = 1\n-      x.after=(1)\n-    end\n-  end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the actual syntax errors on lines 4 and 9 where incomplete method calls exist, instead reporting generic missing end errors at EOF, while Original correctly identifies the problematic incomplete expressions."
  },
  "missing_operator.rb": {
    "filename": "missing_operator.rb",
    "input_code": "# typed: false\n\nmodule Opus::Log\n  def self.info; end\nend\n\nclass A\n  def g\n    t = T.let(true, T::Boolean)\n    f = T.let(false, T::Boolean)\n    puts(0 .. 0)\n    puts(0 .. )\n    if 0 .. # error: unexpected token \"if\"\n    end\n    if 0 .. # error: Unsupported node type `IFlipflop`\n      #  ^^ error: missing arg to \"..\" operator\n      puts 'hello'\n    end\n    puts(1 ... 1)\n    puts(1 ... )\n    if 1... # error: unexpected token \"if\"\n    end\n    if 1... # error: Unsupported node type `EFlipflop`\n      # ^^^ error: missing arg to \"...\" operator\n      puts 'hello'\n    end\n    puts(2 + 2)\n    puts(2 + ) # error: missing arg to \"+\" operator\n    if 2 + # error: missing arg to \"+\" operator\n    end\n    if 2 + # error: missing arg to \"+\" operator\n      puts 'hello'\n    end\n    puts(3 - 3)\n    puts(3 - ) # error: missing arg to \"-\" operator\n    if 3 - # error: missing arg to \"-\" operator\n    end\n    if 3 - # error: missing arg to \"-\" operator\n      puts 'hello'\n    end\n    puts(4 * 4)\n    puts(4 * ) # error: missing arg to \"*\" operator\n    if 4 * # error: missing arg to \"*\" operator\n    end\n    if 4 * # error: missing arg to \"*\" operator\n      puts 'hello'\n    end\n    puts(5 / 5)\n    puts(5 / ) # error: missing arg to \"/\" operator\n    if 5 / # error: missing arg to \"/\" operator\n    end\n    if 5 / # error: missing arg to \"/\" operator\n      puts 'hello'\n    end\n    puts(6 % 6)\n    puts(6 % ) # error: missing arg to \"%\" operator\n    if 6 % # error: missing arg to \"%\" operator\n    end\n    if 6 % # error: missing arg to \"%\" operator\n      puts 'hello'\n    end\n    puts(7 ** 7)\n    puts(7 ** ) # error: missing arg to \"**\" operator\n    if 7 ** # error: missing arg to \"**\" operator\n    end\n    if 7 ** # error: missing arg to \"**\" operator\n      puts 'hello'\n    end\n    puts(-8 ** 8)\n    puts(-8 ** ) # error: missing arg to \"**\" operator\n    if -8 ** # error: missing arg to \"**\" operator\n    end\n    if -8 ** # error: missing arg to \"**\" operator\n      puts 'hello'\n    end\n    puts(+9 ** 9)\n    puts(+9 ** ) # error: missing arg to \"**\" operator\n    if +9 ** # error: missing arg to \"**\" operator\n    end\n    if +9 ** # error: missing arg to \"**\" operator\n      puts 'hello'\n    end\n    puts(-10)\n    puts(-) # error: missing arg to \"unary -\" operator\n    if - # error: missing arg to \"unary -\" operator\n    end\n    if - # error: missing arg to \"unary -\" operator\n      puts 'hello'\n    end\n    puts(+10)\n    puts(+) # error: missing arg to \"unary +\" operator\n    if + # error: missing arg to \"unary +\" operator\n    end\n    if + # error: missing arg to \"unary +\" operator\n      puts 'hello'\n    end\n    puts(10 | 10)\n    puts(10 | ) # error: missing arg to \"|\" operator\n    if 10 | # error: missing arg to \"|\" operator\n    end\n    if 10 | # error: missing arg to \"|\" operator\n      puts 'hello'\n    end\n    puts(11 ^ 11)\n    puts(11 ^ ) # error: missing arg to \"^\" operator\n    if 11 ^ # error: missing arg to \"^\" operator\n    end\n    if 11 ^ # error: missing arg to \"^\" operator\n      puts 'hello'\n    end\n    puts(12 & 12)\n    puts(12 & ) # error: missing arg to \"&\" operator\n    if 12 & # error: missing arg to \"&\" operator\n    end\n    if 12 & # error: missing arg to \"&\" operator\n      puts 'hello'\n    end\n    puts(13 <=> 13)\n    puts(13 <=> ) # error: missing arg to \"<=>\" operator\n    if 13 <=> # error: missing arg to \"<=>\" operator\n    end\n    if 13 <=> # error: missing arg to \"<=>\" operator\n      puts 'hello'\n    end\n    puts(14 == 14)\n    puts(14 == ) # error: missing arg to \"==\" operator\n    if 14 == # error: missing arg to \"==\" operator\n    end\n    if 14 == # error: missing arg to \"==\" operator\n      puts 'hello'\n    end\n    puts(15 === 15)\n    puts(15 === ) # error: missing arg to \"===\" operator\n    if 15 === # error: missing arg to \"===\" operator\n    end\n    if 15 === # error: missing arg to \"===\" operator\n      puts 'hello'\n    end\n    puts(16 != 16)\n    puts(16 != ) # error: missing arg to \"!=\" operator\n    if 16 != # error: missing arg to \"!=\" operator\n    end\n    if 16 != # error: missing arg to \"!=\" operator\n      puts 'hello'\n    end\n    puts(/17/ =~ \"17\")\n    puts(/17/ =~ ) # error: missing arg to \"=~\" operator\n    if /17/ =~ # error: missing arg to \"=~\" operator\n    end\n    if /17/ =~ # error: missing arg to \"=~\" operator\n      puts 'hello'\n    end\n    puts(/18/ !~ \"eighteen\")\n    puts(/18/ !~ ) # error: missing arg to \"!~\" operator\n    if /18/ !~ # error: missing arg to \"!~\" operator\n    end\n    if /18/ !~ # error: missing arg to \"!~\" operator\n      puts 'hello'\n    end\n    puts(!t)\n    puts(!) # error: missing arg to \"!\" operator\n    if ! # error: missing arg to \"!\" operator\n    end\n    if !\n      puts 'hello'\n    end\n    puts(~19)\n    puts(~) # error: missing arg to \"~\" operator\n    if ~ # error: missing arg to \"~\" operator\n    end\n    if ~ # error: missing arg to \"~\" operator\n      puts 'hello'\n    end\n    puts(20 << 20)\n    puts(20 << ) # error: missing arg to \"<<\" operator\n    if 20 << # error: missing arg to \"<<\" operator\n    end\n    if 20 << # error: missing arg to \"<<\" operator\n      puts 'hello'\n    end\n    puts(21 >> 21)\n    puts(21 >> ) # error: missing arg to \">>\" operator\n    if 21 >> # error: missing arg to \">>\" operator\n    end\n    if 21 >> # error: missing arg to \">>\" operator\n      puts 'hello'\n    end\n    puts(t && t)\n    puts(t && ) # error: missing arg to \"&&\" operator\n    if t && # error: missing arg to \"&&\" operator\n    end\n    if t && # error: missing arg to \"&&\" operator\n      puts 'hello'\n    end\n    puts(f || f)\n    puts(f || ) # error: missing arg to \"||\" operator\n    if f || # error: missing arg to \"||\" operator\n    end\n    if f || # error: missing arg to \"||\" operator\n      puts 'hello'\n    end\n    puts(24 > 24)\n    puts(24 > ) # error: missing arg to \">\" operator\n    if 24 > # error: missing arg to \">\" operator\n    end\n    if 24 > # error: missing arg to \">\" operator\n      puts 'hello'\n    end\n    puts(25 < 25)\n    puts(25 < ) # error: missing arg to \"<\" operator\n    if 25 < # error: missing arg to \"<\" operator\n    end\n    if 25 < # error: missing arg to \"<\" operator\n      puts 'hello'\n    end\n    puts(26 >= 26)\n    puts(26 >= ) # error: missing arg to \">=\" operator\n    if 26 >= # error: missing arg to \">=\" operator\n    end\n    if 26 >= # error: missing arg to \">=\" operator\n      puts 'hello'\n    end\n    puts(27 <= 27)\n    puts(27 <= ) # error: missing arg to \"<=\" operator\n    if 27 <= # error: missing arg to \"<=\" operator\n    end\n    if 27 <= # error: missing arg to \"<=\" operator\n      puts 'hello'\n    end\n  end # error: unexpected token \"end\"\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/missing_operator.rb:13: unexpected token \"if\" https://srb.help/2001\n    13 |    if 0 .. # error: unexpected token \"if\"\n            ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:15: missing arg to \"..\" operator https://srb.help/2001\n    15 |    if 0 .. # error: Unsupported node type `IFlipflop`\n                 ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:21: unexpected token \"if\" https://srb.help/2001\n    21 |    if 1... # error: unexpected token \"if\"\n            ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:23: missing arg to \"...\" operator https://srb.help/2001\n    23 |    if 1... # error: Unsupported node type `EFlipflop`\n                ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:28: missing arg to \"+\" operator https://srb.help/2001\n    28 |    puts(2 + ) # error: missing arg to \"+\" operator\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:29: missing arg to \"+\" operator https://srb.help/2001\n    29 |    if 2 + # error: missing arg to \"+\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:31: missing arg to \"+\" operator https://srb.help/2001\n    31 |    if 2 + # error: missing arg to \"+\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:35: missing arg to \"-\" operator https://srb.help/2001\n    35 |    puts(3 - ) # error: missing arg to \"-\" operator\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:36: missing arg to \"-\" operator https://srb.help/2001\n    36 |    if 3 - # error: missing arg to \"-\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:38: missing arg to \"-\" operator https://srb.help/2001\n    38 |    if 3 - # error: missing arg to \"-\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:42: missing arg to \"*\" operator https://srb.help/2001\n    42 |    puts(4 * ) # error: missing arg to \"*\" operator\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:43: missing arg to \"*\" operator https://srb.help/2001\n    43 |    if 4 * # error: missing arg to \"*\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:45: missing arg to \"*\" operator https://srb.help/2001\n    45 |    if 4 * # error: missing arg to \"*\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:49: missing arg to \"/\" operator https://srb.help/2001\n    49 |    puts(5 / ) # error: missing arg to \"/\" operator\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:50: missing arg to \"/\" operator https://srb.help/2001\n    50 |    if 5 / # error: missing arg to \"/\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:52: missing arg to \"/\" operator https://srb.help/2001\n    52 |    if 5 / # error: missing arg to \"/\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:56: missing arg to \"%\" operator https://srb.help/2001\n    56 |    puts(6 % ) # error: missing arg to \"%\" operator\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:57: missing arg to \"%\" operator https://srb.help/2001\n    57 |    if 6 % # error: missing arg to \"%\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:59: missing arg to \"%\" operator https://srb.help/2001\n    59 |    if 6 % # error: missing arg to \"%\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:63: missing arg to \"**\" operator https://srb.help/2001\n    63 |    puts(7 ** ) # error: missing arg to \"**\" operator\n                   ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:64: missing arg to \"**\" operator https://srb.help/2001\n    64 |    if 7 ** # error: missing arg to \"**\" operator\n                 ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:66: missing arg to \"**\" operator https://srb.help/2001\n    66 |    if 7 ** # error: missing arg to \"**\" operator\n                 ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:70: missing arg to \"**\" operator https://srb.help/2001\n    70 |    puts(-8 ** ) # error: missing arg to \"**\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:71: missing arg to \"**\" operator https://srb.help/2001\n    71 |    if -8 ** # error: missing arg to \"**\" operator\n                  ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:73: missing arg to \"**\" operator https://srb.help/2001\n    73 |    if -8 ** # error: missing arg to \"**\" operator\n                  ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:77: missing arg to \"**\" operator https://srb.help/2001\n    77 |    puts(+9 ** ) # error: missing arg to \"**\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:78: missing arg to \"**\" operator https://srb.help/2001\n    78 |    if +9 ** # error: missing arg to \"**\" operator\n                  ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:80: missing arg to \"**\" operator https://srb.help/2001\n    80 |    if +9 ** # error: missing arg to \"**\" operator\n                  ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:84: missing arg to \"unary -\" operator https://srb.help/2001\n    84 |    puts(-) # error: missing arg to \"unary -\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:85: missing arg to \"unary -\" operator https://srb.help/2001\n    85 |    if - # error: missing arg to \"unary -\" operator\n               ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:87: missing arg to \"unary -\" operator https://srb.help/2001\n    87 |    if - # error: missing arg to \"unary -\" operator\n               ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:91: missing arg to \"unary +\" operator https://srb.help/2001\n    91 |    puts(+) # error: missing arg to \"unary +\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:92: missing arg to \"unary +\" operator https://srb.help/2001\n    92 |    if + # error: missing arg to \"unary +\" operator\n               ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:94: missing arg to \"unary +\" operator https://srb.help/2001\n    94 |    if + # error: missing arg to \"unary +\" operator\n               ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:98: missing arg to \"|\" operator https://srb.help/2001\n    98 |    puts(10 | ) # error: missing arg to \"|\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:99: missing arg to \"|\" operator https://srb.help/2001\n    99 |    if 10 | # error: missing arg to \"|\" operator\n                  ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:101: missing arg to \"|\" operator https://srb.help/2001\n     101 |    if 10 | # error: missing arg to \"|\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:105: missing arg to \"^\" operator https://srb.help/2001\n     105 |    puts(11 ^ ) # error: missing arg to \"^\" operator\n                      ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:106: missing arg to \"^\" operator https://srb.help/2001\n     106 |    if 11 ^ # error: missing arg to \"^\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:108: missing arg to \"^\" operator https://srb.help/2001\n     108 |    if 11 ^ # error: missing arg to \"^\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:112: missing arg to \"&\" operator https://srb.help/2001\n     112 |    puts(12 & ) # error: missing arg to \"&\" operator\n                      ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:113: missing arg to \"&\" operator https://srb.help/2001\n     113 |    if 12 & # error: missing arg to \"&\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:115: missing arg to \"&\" operator https://srb.help/2001\n     115 |    if 12 & # error: missing arg to \"&\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:119: missing arg to \"<=>\" operator https://srb.help/2001\n     119 |    puts(13 <=> ) # error: missing arg to \"<=>\" operator\n                      ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:120: missing arg to \"<=>\" operator https://srb.help/2001\n     120 |    if 13 <=> # error: missing arg to \"<=>\" operator\n                    ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:122: missing arg to \"<=>\" operator https://srb.help/2001\n     122 |    if 13 <=> # error: missing arg to \"<=>\" operator\n                    ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:126: missing arg to \"==\" operator https://srb.help/2001\n     126 |    puts(14 == ) # error: missing arg to \"==\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:127: missing arg to \"==\" operator https://srb.help/2001\n     127 |    if 14 == # error: missing arg to \"==\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:129: missing arg to \"==\" operator https://srb.help/2001\n     129 |    if 14 == # error: missing arg to \"==\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:133: missing arg to \"===\" operator https://srb.help/2001\n     133 |    puts(15 === ) # error: missing arg to \"===\" operator\n                      ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:134: missing arg to \"===\" operator https://srb.help/2001\n     134 |    if 15 === # error: missing arg to \"===\" operator\n                    ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:136: missing arg to \"===\" operator https://srb.help/2001\n     136 |    if 15 === # error: missing arg to \"===\" operator\n                    ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:140: missing arg to \"!=\" operator https://srb.help/2001\n     140 |    puts(16 != ) # error: missing arg to \"!=\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:141: missing arg to \"!=\" operator https://srb.help/2001\n     141 |    if 16 != # error: missing arg to \"!=\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:143: missing arg to \"!=\" operator https://srb.help/2001\n     143 |    if 16 != # error: missing arg to \"!=\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:147: missing arg to \"=~\" operator https://srb.help/2001\n     147 |    puts(/17/ =~ ) # error: missing arg to \"=~\" operator\n                        ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:148: missing arg to \"=~\" operator https://srb.help/2001\n     148 |    if /17/ =~ # error: missing arg to \"=~\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:150: missing arg to \"=~\" operator https://srb.help/2001\n     150 |    if /17/ =~ # error: missing arg to \"=~\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:154: missing arg to \"!~\" operator https://srb.help/2001\n     154 |    puts(/18/ !~ ) # error: missing arg to \"!~\" operator\n                        ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:155: missing arg to \"!~\" operator https://srb.help/2001\n     155 |    if /18/ !~ # error: missing arg to \"!~\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:157: missing arg to \"!~\" operator https://srb.help/2001\n     157 |    if /18/ !~ # error: missing arg to \"!~\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:161: missing arg to \"!\" operator https://srb.help/2001\n     161 |    puts(!) # error: missing arg to \"!\" operator\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:162: missing arg to \"!\" operator https://srb.help/2001\n     162 |    if ! # error: missing arg to \"!\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:168: missing arg to \"~\" operator https://srb.help/2001\n     168 |    puts(~) # error: missing arg to \"~\" operator\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:169: missing arg to \"~\" operator https://srb.help/2001\n     169 |    if ~ # error: missing arg to \"~\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:171: missing arg to \"~\" operator https://srb.help/2001\n     171 |    if ~ # error: missing arg to \"~\" operator\n                 ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:175: missing arg to \"<<\" operator https://srb.help/2001\n     175 |    puts(20 << ) # error: missing arg to \"<<\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:176: missing arg to \"<<\" operator https://srb.help/2001\n     176 |    if 20 << # error: missing arg to \"<<\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:178: missing arg to \"<<\" operator https://srb.help/2001\n     178 |    if 20 << # error: missing arg to \"<<\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:182: missing arg to \">>\" operator https://srb.help/2001\n     182 |    puts(21 >> ) # error: missing arg to \">>\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:183: missing arg to \">>\" operator https://srb.help/2001\n     183 |    if 21 >> # error: missing arg to \">>\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:185: missing arg to \">>\" operator https://srb.help/2001\n     185 |    if 21 >> # error: missing arg to \">>\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:189: missing arg to \"&&\" operator https://srb.help/2001\n     189 |    puts(t && ) # error: missing arg to \"&&\" operator\n                     ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:190: missing arg to \"&&\" operator https://srb.help/2001\n     190 |    if t && # error: missing arg to \"&&\" operator\n                   ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:192: missing arg to \"&&\" operator https://srb.help/2001\n     192 |    if t && # error: missing arg to \"&&\" operator\n                   ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:196: missing arg to \"||\" operator https://srb.help/2001\n     196 |    puts(f || ) # error: missing arg to \"||\" operator\n                     ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:197: missing arg to \"||\" operator https://srb.help/2001\n     197 |    if f || # error: missing arg to \"||\" operator\n                   ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:199: missing arg to \"||\" operator https://srb.help/2001\n     199 |    if f || # error: missing arg to \"||\" operator\n                   ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:203: missing arg to \">\" operator https://srb.help/2001\n     203 |    puts(24 > ) # error: missing arg to \">\" operator\n                      ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:204: missing arg to \">\" operator https://srb.help/2001\n     204 |    if 24 > # error: missing arg to \">\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:206: missing arg to \">\" operator https://srb.help/2001\n     206 |    if 24 > # error: missing arg to \">\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:210: missing arg to \"<\" operator https://srb.help/2001\n     210 |    puts(25 < ) # error: missing arg to \"<\" operator\n                      ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:211: missing arg to \"<\" operator https://srb.help/2001\n     211 |    if 25 < # error: missing arg to \"<\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:213: missing arg to \"<\" operator https://srb.help/2001\n     213 |    if 25 < # error: missing arg to \"<\" operator\n                    ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:217: missing arg to \">=\" operator https://srb.help/2001\n     217 |    puts(26 >= ) # error: missing arg to \">=\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:218: missing arg to \">=\" operator https://srb.help/2001\n     218 |    if 26 >= # error: missing arg to \">=\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:220: missing arg to \">=\" operator https://srb.help/2001\n     220 |    if 26 >= # error: missing arg to \">=\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:224: missing arg to \"<=\" operator https://srb.help/2001\n     224 |    puts(27 <= ) # error: missing arg to \"<=\" operator\n                      ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:225: missing arg to \"<=\" operator https://srb.help/2001\n     225 |    if 27 <= # error: missing arg to \"<=\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:227: missing arg to \"<=\" operator https://srb.help/2001\n     227 |    if 27 <= # error: missing arg to \"<=\" operator\n                    ^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:230: unexpected token \"end\" https://srb.help/2001\n     230 |  end # error: unexpected token \"end\"\n            ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:15: Unsupported node type `IFlipflop` https://srb.help/3003\n    15 |    if 0 .. # error: Unsupported node type `IFlipflop`\n    16 |      #  ^^ error: missing arg to \"..\" operator\n    17 |      puts 'hello'\n\ntest/testdata/parser/error_recovery/missing_operator.rb:23: Unsupported node type `EFlipflop` https://srb.help/3003\n    23 |    if 1... # error: Unsupported node type `EFlipflop`\n    24 |      # ^^^ error: missing arg to \"...\" operator\n    25 |      puts 'hello'\nErrors: 93",
    "original_error_count": 93,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/missing_operator.rb:14: expected `then` or `;` or '\\n' https://srb.help/2001\n    14 |    end\n            ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:17: expected `then` or `;` or '\\n' https://srb.help/2001\n    17 |      puts 'hello'\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:22: expected `then` or `;` or '\\n' https://srb.help/2001\n    22 |    end\n            ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:25: expected `then` or `;` or '\\n' https://srb.help/2001\n    25 |      puts 'hello'\n                   ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:28: unexpected ')'; expected an expression after the operator https://srb.help/2001\n    28 |    puts(2 + ) # error: missing arg to \"+\" operator\n                     ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:30: unexpected 'end'; expected an expression after the operator https://srb.help/2001\n    30 |    end\n            ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:30: expected `then` or `;` or '\\n' https://srb.help/2001\n    30 |    end\n            ^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:30: expected an `end` to close the `def` statement https://srb.help/2001\n    30 |    end\n               ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:30: expected an `end` to close the `class` statement https://srb.help/2001\n    30 |    end\n               ^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:13: Unsupported node type `IFlipflop` https://srb.help/3003\n    13 |    if 0 .. # error: unexpected token \"if\"\n               ^^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:15: Unsupported node type `IFlipflop` https://srb.help/3003\n    15 |    if 0 .. # error: Unsupported node type `IFlipflop`\n    16 |      #  ^^ error: missing arg to \"..\" operator\n    17 |      puts 'hello'\n\ntest/testdata/parser/error_recovery/missing_operator.rb:21: Unsupported node type `EFlipflop` https://srb.help/3003\n    21 |    if 1... # error: unexpected token \"if\"\n               ^^^^\n\ntest/testdata/parser/error_recovery/missing_operator.rb:23: Unsupported node type `EFlipflop` https://srb.help/3003\n    23 |    if 1... # error: Unsupported node type `EFlipflop`\n    24 |      # ^^^ error: missing arg to \"...\" operator\n    25 |      puts 'hello'\nErrors: 13",
    "prism_error_count": 13,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def g<<todo method>>(&<blk>)\n      begin\n        t = <emptyTree>::<C T>.let(true, <emptyTree>::<C T>::<C Boolean>)\n        f = <emptyTree>::<C T>.let(false, <emptyTree>::<C T>::<C Boolean>)\n        <self>.puts(::<Magic>.<build-range>(0, 0, false))\n        <self>.puts(::<Magic>.<build-range>(0, <emptyTree>, false))\n        if <emptyTree>::<C <ErrorNode>>\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    if <emptyTree>\n      <self>.puts(\"hello\")\n    else\n      <emptyTree>\n    end\n\n    <self>.puts(::<Magic>.<build-range>(1, 1, true))\n\n    <self>.puts(::<Magic>.<build-range>(1, <emptyTree>, true))\n\n    if <emptyTree>::<C <ErrorNode>>\n      <emptyTree>\n    else\n      <emptyTree>\n    end\n  end\n\n  if <emptyTree>\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(2.+(2))\n\n  <self>.puts(2.+(<emptyTree>::<C <ErrorNode>>))\n\n  if 2.+(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 2.+(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(3.-(3))\n\n  <self>.puts(3.-(<emptyTree>::<C <ErrorNode>>))\n\n  if 3.-(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 3.-(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(4.*(4))\n\n  <self>.puts(4.*(<emptyTree>::<C <ErrorNode>>))\n\n  if 4.*(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 4.*(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(5./(5))\n\n  <self>.puts(5./(<emptyTree>::<C <ErrorNode>>))\n\n  if 5./(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 5./(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(6.%(6))\n\n  <self>.puts(6.%(<emptyTree>::<C <ErrorNode>>))\n\n  if 6.%(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 6.%(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(7.**(7))\n\n  <self>.puts(7.**(<emptyTree>::<C <ErrorNode>>))\n\n  if 7.**(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 7.**(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(8.**(8).-@())\n\n  <self>.puts(8.**(<emptyTree>::<C <ErrorNode>>).-@())\n\n  if 8.**(<emptyTree>::<C <ErrorNode>>).-@()\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 8.**(<emptyTree>::<C <ErrorNode>>).-@()\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(9.**(9).+@())\n\n  <self>.puts(9.**(<emptyTree>::<C <ErrorNode>>).+@())\n\n  if 9.**(<emptyTree>::<C <ErrorNode>>).+@()\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 9.**(<emptyTree>::<C <ErrorNode>>).+@()\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(-10)\n\n  <self>.puts(<emptyTree>::<C <ErrorNode>>.-@())\n\n  if <emptyTree>::<C <ErrorNode>>.-@()\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if <emptyTree>::<C <ErrorNode>>.-@()\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(10)\n\n  <self>.puts(<emptyTree>::<C <ErrorNode>>.+@())\n\n  if <emptyTree>::<C <ErrorNode>>.+@()\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if <emptyTree>::<C <ErrorNode>>.+@()\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(10.|(10))\n\n  <self>.puts(10.|(<emptyTree>::<C <ErrorNode>>))\n\n  if 10.|(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 10.|(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(11.^(11))\n\n  <self>.puts(11.^(<emptyTree>::<C <ErrorNode>>))\n\n  if 11.^(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 11.^(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(12.&(12))\n\n  <self>.puts(12.&(<emptyTree>::<C <ErrorNode>>))\n\n  if 12.&(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 12.&(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(13.<=>(13))\n\n  <self>.puts(13.<=>(<emptyTree>::<C <ErrorNode>>))\n\n  if 13.<=>(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 13.<=>(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(14.==(14))\n\n  <self>.puts(14.==(<emptyTree>::<C <ErrorNode>>))\n\n  if 14.==(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 14.==(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(15.===(15))\n\n  <self>.puts(15.===(<emptyTree>::<C <ErrorNode>>))\n\n  if 15.===(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 15.===(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(16.!=(16))\n\n  <self>.puts(16.!=(<emptyTree>::<C <ErrorNode>>))\n\n  if 16.!=(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 16.!=(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(::Regexp.new(\"17\", 0).=~(\"17\"))\n\n  <self>.puts(::Regexp.new(\"17\", 0).=~(<emptyTree>::<C <ErrorNode>>))\n\n  if ::Regexp.new(\"17\", 0).=~(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if ::Regexp.new(\"17\", 0).=~(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(::Regexp.new(\"18\", 0).!~(\"eighteen\"))\n\n  <self>.puts(::Regexp.new(\"18\", 0).!~(<emptyTree>::<C <ErrorNode>>))\n\n  if ::Regexp.new(\"18\", 0).!~(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if ::Regexp.new(\"18\", 0).!~(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(<self>.t().!())\n\n  <self>.puts(<emptyTree>::<C <ErrorNode>>.!())\n\n  if <emptyTree>::<C <ErrorNode>>.!()\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if <self>.puts(\"hello\").!()\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(19.~())\n\n  <self>.puts(<emptyTree>::<C <ErrorNode>>.~())\n\n  if <emptyTree>::<C <ErrorNode>>.~()\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if <emptyTree>::<C <ErrorNode>>.~()\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(20.<<(20))\n\n  <self>.puts(20.<<(<emptyTree>::<C <ErrorNode>>))\n\n  if 20.<<(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 20.<<(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(21.>>(21))\n\n  <self>.puts(21.>>(<emptyTree>::<C <ErrorNode>>))\n\n  if 21.>>(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 21.>>(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(begin\n      &&$2 = <self>.t()\n      if &&$2\n        <self>.t()\n      else\n        &&$2\n      end\n    end)\n\n  <self>.puts(begin\n      &&$3 = <self>.t()\n      if &&$3\n        <emptyTree>::<C <ErrorNode>>\n      else\n        &&$3\n      end\n    end)\n\n  if begin\n      &&$4 = <self>.t()\n      if &&$4\n        <emptyTree>::<C <ErrorNode>>\n      else\n        &&$4\n      end\n    end\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if begin\n      &&$5 = <self>.t()\n      if &&$5\n        <emptyTree>::<C <ErrorNode>>\n      else\n        &&$5\n      end\n    end\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(begin\n      ||$6 = <self>.f()\n      if ||$6\n        ||$6\n      else\n        <self>.f()\n      end\n    end)\n\n  <self>.puts(begin\n      ||$7 = <self>.f()\n      if ||$7\n        ||$7\n      else\n        <emptyTree>::<C <ErrorNode>>\n      end\n    end)\n\n  if begin\n      ||$8 = <self>.f()\n      if ||$8\n        ||$8\n      else\n        <emptyTree>::<C <ErrorNode>>\n      end\n    end\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if begin\n      ||$9 = <self>.f()\n      if ||$9\n        ||$9\n      else\n        <emptyTree>::<C <ErrorNode>>\n      end\n    end\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(24.>(24))\n\n  <self>.puts(24.>(<emptyTree>::<C <ErrorNode>>))\n\n  if 24.>(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 24.>(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(25.<(25))\n\n  <self>.puts(25.<(<emptyTree>::<C <ErrorNode>>))\n\n  if 25.<(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 25.<(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(26.>=(26))\n\n  <self>.puts(26.>=(<emptyTree>::<C <ErrorNode>>))\n\n  if 26.>=(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 26.>=(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\n\n  <self>.puts(27.<=(27))\n\n  <self>.puts(27.<=(<emptyTree>::<C <ErrorNode>>))\n\n  if 27.<=(<emptyTree>::<C <ErrorNode>>)\n    <emptyTree>\n  else\n    <emptyTree>\n  end\n\n  if 27.<=(<emptyTree>::<C <ErrorNode>>)\n    <self>.puts(\"hello\")\n  else\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def g<<todo method>>(&<blk>)\n      begin\n        t = <emptyTree>::<C T>.let(true, <emptyTree>::<C T>::<C Boolean>)\n        f = <emptyTree>::<C T>.let(false, <emptyTree>::<C T>::<C Boolean>)\n        <self>.puts(::<Magic>.<build-range>(0, 0, false))\n        <self>.puts(::<Magic>.<build-range>(0, <emptyTree>, false))\n        if <emptyTree>\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n        if <emptyTree>\n          \"hello\"\n        else\n          <emptyTree>\n        end\n        <self>.puts(::<Magic>.<build-range>(1, 1, true))\n        <self>.puts(::<Magic>.<build-range>(1, <emptyTree>, true))\n        if <emptyTree>\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n        if <emptyTree>\n          \"hello\"\n        else\n          <emptyTree>\n        end\n        <self>.puts(2.+(2))\n        <self>.puts(2.+(<emptyTree>::<C <ErrorNode>>))\n        if 2.+(<emptyTree>::<C <ErrorNode>>)\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.07213428237543823,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -12,554 +12,36 @@\n         f = <emptyTree>::<C T>.let(false, <emptyTree>::<C T>::<C Boolean>)\n         <self>.puts(::<Magic>.<build-range>(0, 0, false))\n         <self>.puts(::<Magic>.<build-range>(0, <emptyTree>, false))\n-        if <emptyTree>::<C <ErrorNode>>\n+        if <emptyTree>\n           <emptyTree>\n         else\n           <emptyTree>\n         end\n-      end\n-    end\n-\n-    if <emptyTree>\n-      <self>.puts(\"hello\")\n-    else\n-      <emptyTree>\n-    end\n-\n-    <self>.puts(::<Magic>.<build-range>(1, 1, true))\n-\n-    <self>.puts(::<Magic>.<build-range>(1, <emptyTree>, true))\n-\n-    if <emptyTree>::<C <ErrorNode>>\n-      <emptyTree>\n-    else\n-      <emptyTree>\n-    end\n-  end\n-\n-  if <emptyTree>\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(2.+(2))\n-\n-  <self>.puts(2.+(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 2.+(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 2.+(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(3.-(3))\n-\n-  <self>.puts(3.-(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 3.-(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 3.-(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(4.*(4))\n-\n-  <self>.puts(4.*(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 4.*(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 4.*(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(5./(5))\n-\n-  <self>.puts(5./(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 5./(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 5./(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(6.%(6))\n-\n-  <self>.puts(6.%(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 6.%(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 6.%(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(7.**(7))\n-\n-  <self>.puts(7.**(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 7.**(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 7.**(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(8.**(8).-@())\n-\n-  <self>.puts(8.**(<emptyTree>::<C <ErrorNode>>).-@())\n-\n-  if 8.**(<emptyTree>::<C <ErrorNode>>).-@()\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 8.**(<emptyTree>::<C <ErrorNode>>).-@()\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(9.**(9).+@())\n-\n-  <self>.puts(9.**(<emptyTree>::<C <ErrorNode>>).+@())\n-\n-  if 9.**(<emptyTree>::<C <ErrorNode>>).+@()\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 9.**(<emptyTree>::<C <ErrorNode>>).+@()\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(-10)\n-\n-  <self>.puts(<emptyTree>::<C <ErrorNode>>.-@())\n-\n-  if <emptyTree>::<C <ErrorNode>>.-@()\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if <emptyTree>::<C <ErrorNode>>.-@()\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(10)\n-\n-  <self>.puts(<emptyTree>::<C <ErrorNode>>.+@())\n-\n-  if <emptyTree>::<C <ErrorNode>>.+@()\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if <emptyTree>::<C <ErrorNode>>.+@()\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(10.|(10))\n-\n-  <self>.puts(10.|(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 10.|(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 10.|(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(11.^(11))\n-\n-  <self>.puts(11.^(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 11.^(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 11.^(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(12.&(12))\n-\n-  <self>.puts(12.&(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 12.&(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 12.&(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(13.<=>(13))\n-\n-  <self>.puts(13.<=>(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 13.<=>(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 13.<=>(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(14.==(14))\n-\n-  <self>.puts(14.==(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 14.==(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 14.==(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(15.===(15))\n-\n-  <self>.puts(15.===(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 15.===(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 15.===(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(16.!=(16))\n-\n-  <self>.puts(16.!=(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 16.!=(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 16.!=(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(::Regexp.new(\"17\", 0).=~(\"17\"))\n-\n-  <self>.puts(::Regexp.new(\"17\", 0).=~(<emptyTree>::<C <ErrorNode>>))\n-\n-  if ::Regexp.new(\"17\", 0).=~(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if ::Regexp.new(\"17\", 0).=~(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(::Regexp.new(\"18\", 0).!~(\"eighteen\"))\n-\n-  <self>.puts(::Regexp.new(\"18\", 0).!~(<emptyTree>::<C <ErrorNode>>))\n-\n-  if ::Regexp.new(\"18\", 0).!~(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if ::Regexp.new(\"18\", 0).!~(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(<self>.t().!())\n-\n-  <self>.puts(<emptyTree>::<C <ErrorNode>>.!())\n-\n-  if <emptyTree>::<C <ErrorNode>>.!()\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if <self>.puts(\"hello\").!()\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(19.~())\n-\n-  <self>.puts(<emptyTree>::<C <ErrorNode>>.~())\n-\n-  if <emptyTree>::<C <ErrorNode>>.~()\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if <emptyTree>::<C <ErrorNode>>.~()\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(20.<<(20))\n-\n-  <self>.puts(20.<<(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 20.<<(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 20.<<(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(21.>>(21))\n-\n-  <self>.puts(21.>>(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 21.>>(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 21.>>(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(begin\n-      &&$2 = <self>.t()\n-      if &&$2\n-        <self>.t()\n-      else\n-        &&$2\n+        if <emptyTree>\n+          \"hello\"\n+        else\n+          <emptyTree>\n+        end\n+        <self>.puts(::<Magic>.<build-range>(1, 1, true))\n+        <self>.puts(::<Magic>.<build-range>(1, <emptyTree>, true))\n+        if <emptyTree>\n+          <emptyTree>\n+        else\n+          <emptyTree>\n+        end\n+        if <emptyTree>\n+          \"hello\"\n+        else\n+          <emptyTree>\n+        end\n+        <self>.puts(2.+(2))\n+        <self>.puts(2.+(<emptyTree>::<C <ErrorNode>>))\n+        if 2.+(<emptyTree>::<C <ErrorNode>>)\n+          <emptyTree>\n+        else\n+          <emptyTree>\n+        end\n       end\n-    end)\n-\n-  <self>.puts(begin\n-      &&$3 = <self>.t()\n-      if &&$3\n-        <emptyTree>::<C <ErrorNode>>\n-      else\n-        &&$3\n-      end\n-    end)\n-\n-  if begin\n-      &&$4 = <self>.t()\n-      if &&$4\n-        <emptyTree>::<C <ErrorNode>>\n-      else\n-        &&$4\n-      end\n     end\n-    <emptyTree>\n-  else\n-    <emptyTree>\n   end\n-\n-  if begin\n-      &&$5 = <self>.t()\n-      if &&$5\n-        <emptyTree>::<C <ErrorNode>>\n-      else\n-        &&$5\n-      end\n-    end\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(begin\n-      ||$6 = <self>.f()\n-      if ||$6\n-        ||$6\n-      else\n-        <self>.f()\n-      end\n-    end)\n-\n-  <self>.puts(begin\n-      ||$7 = <self>.f()\n-      if ||$7\n-        ||$7\n-      else\n-        <emptyTree>::<C <ErrorNode>>\n-      end\n-    end)\n-\n-  if begin\n-      ||$8 = <self>.f()\n-      if ||$8\n-        ||$8\n-      else\n-        <emptyTree>::<C <ErrorNode>>\n-      end\n-    end\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if begin\n-      ||$9 = <self>.f()\n-      if ||$9\n-        ||$9\n-      else\n-        <emptyTree>::<C <ErrorNode>>\n-      end\n-    end\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(24.>(24))\n-\n-  <self>.puts(24.>(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 24.>(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 24.>(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(25.<(25))\n-\n-  <self>.puts(25.<(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 25.<(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 25.<(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(26.>=(26))\n-\n-  <self>.puts(26.>=(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 26.>=(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 26.>=(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n-\n-  <self>.puts(27.<=(27))\n-\n-  <self>.puts(27.<=(<emptyTree>::<C <ErrorNode>>))\n-\n-  if 27.<=(<emptyTree>::<C <ErrorNode>>)\n-    <emptyTree>\n-  else\n-    <emptyTree>\n-  end\n-\n-  if 27.<=(<emptyTree>::<C <ErrorNode>>)\n-    <self>.puts(\"hello\")\n-  else\n-    <emptyTree>\n-  end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses 80+ operator errors that Original correctly catches, only reporting 13 errors versus Original's 93, failing to detect most missing operator arguments."
  },
  "module_indent_1.rb": {
    "filename": "module_indent_1.rb",
    "input_code": "# typed: false\nclass A\n  module Inner\n# ^^^^^^ error: Hint: this \"module\" token might not be properly closed\n\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/module_indent_1.rb:8: unexpected token \"end of file\" https://srb.help/2001\n     8 |end # error: unexpected token \"end of file\"\n     9 |\n\ntest/testdata/parser/error_recovery/module_indent_1.rb:3: Hint: this \"module\" token might not be properly closed https://srb.help/2003\n     3 |  module Inner\n          ^^^^^^\n    test/testdata/parser/error_recovery/module_indent_1.rb:8: Matching `end` found here but is not indented as far\n     8 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/module_indent_1.rb:9: expected an `end` to close the `class` statement https://srb.help/2001\n     9 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <emptyTree>\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.6091549295774648,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,11 +1,11 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n-      <emptyTree>\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游리",
    "error_assessment": "Prism correctly identifies the missing end but loses the helpful indentation hint that pinpoints the module/end mismatch, making it less diagnostic than Original."
  },
  "module_indent_2.rb": {
    "filename": "module_indent_2.rb",
    "input_code": "# typed: false\nclass B\n  module Inner\n# ^^^^^^ error: Hint: this \"module\" token might not be properly closed\n    puts 'hello'\n    puts 'hello'\n\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/module_indent_2.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/module_indent_2.rb:3: Hint: this \"module\" token might not be properly closed https://srb.help/2003\n     3 |  module Inner\n          ^^^^^^\n    test/testdata/parser/error_recovery/module_indent_2.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/module_indent_2.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <self>.puts(\"hello\")\n\n      <self>.puts(\"hello\")\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <self>.puts(\"hello\")\n\n      <self>.puts(\"hello\")\n\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.6882352941176471,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -4,10 +4,12 @@\n       <self>.puts(\"hello\")\n \n       <self>.puts(\"hello\")\n-    end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the indentation mismatch issue that Original correctly identifies, only reporting the missing end without the helpful hint about the improperly closed module token."
  },
  "module_indent_3.rb": {
    "filename": "module_indent_3.rb",
    "input_code": "# typed: false\nclass C\n  module Inner\n# ^^^^^^ error: Hint: this \"module\" token might not be properly closed\n\n  sig {void}\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/module_indent_3.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/module_indent_3.rb:3: Hint: this \"module\" token might not be properly closed https://srb.help/2003\n     3 |  module Inner\n          ^^^^^^\n    test/testdata/parser/error_recovery/module_indent_3.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/module_indent_3.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <emptyTree>\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <self>.sig() do ||\n        <self>.void()\n      end\n\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.5555555555555556,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,15 +1,15 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C C><<C <todo sym>>> < (::<todo sym>)\n     module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n-      <emptyTree>\n-    end\n+      <self>.sig() do ||\n+        <self>.void()\n+      end\n \n-    <self>.sig() do ||\n-      <self>.void()\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n-    end\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the indentation mismatch issue entirely and incorrectly diagnoses the problem as a missing class end rather than the improperly closed module."
  },
  "module_indent_4.rb": {
    "filename": "module_indent_4.rb",
    "input_code": "# typed: false\nclass D\n  module Inner\n# ^^^^^^ error: Hint: this \"module\" token might not be properly closed\n    puts 'hello'\n\n  sig {void}\n  def method2\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/module_indent_4.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/module_indent_4.rb:3: Hint: this \"module\" token might not be properly closed https://srb.help/2003\n     3 |  module Inner\n          ^^^^^^\n    test/testdata/parser/error_recovery/module_indent_4.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/module_indent_4.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <self>.puts(\"hello\")\n    end\n\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method2<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <self>.puts(\"hello\")\n\n      <self>.sig() do ||\n        <self>.void()\n      end\n\n      def method2<<todo method>>(&<blk>)\n        <emptyTree>\n      end\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.6621621621621622,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -2,14 +2,16 @@\n   class <emptyTree>::<C D><<C <todo sym>>> < (::<todo sym>)\n     module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n       <self>.puts(\"hello\")\n-    end\n \n-    <self>.sig() do ||\n-      <self>.void()\n-    end\n+      <self>.sig() do ||\n+        <self>.void()\n+      end\n \n-    def method2<<todo method>>(&<blk>)\n-      <emptyTree>\n+      def method2<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the indentation mismatch issue that Original correctly identifies, only reporting the missing end without the helpful hint about the improperly closed module token."
  },
  "module_indent_5.rb": {
    "filename": "module_indent_5.rb",
    "input_code": "# typed: false\nclass E\n  sig {void}\n  def method1\n  end\n\n  module Inner\n# ^^^^^^ error: Hint: this \"module\" token might not be properly closed\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/module_indent_5.rb:9: unexpected token \"end of file\" https://srb.help/2001\n     9 |end # error: unexpected token \"end of file\"\n    10 |\n\ntest/testdata/parser/error_recovery/module_indent_5.rb:7: Hint: this \"module\" token might not be properly closed https://srb.help/2003\n     7 |  module Inner\n          ^^^^^^\n    test/testdata/parser/error_recovery/module_indent_5.rb:9: Matching `end` found here but is not indented as far\n     9 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/module_indent_5.rb:10: expected an `end` to close the `class` statement https://srb.help/2001\n    10 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <emptyTree>\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C E><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <emptyTree>\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8825214899713467,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,5 +11,7 @@\n     module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n       <emptyTree>\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the indentation mismatch issue entirely and only reports a generic missing end error at EOF, while Original correctly identifies the module/end indentation problem at line 7-9."
  },
  "module_indent_6.rb": {
    "filename": "module_indent_6.rb",
    "input_code": "# typed: false\nclass F\n  sig {void}\n  def method1\n  end\n\n  module Inner\n# ^^^^^^ error: Hint: this \"module\" token might not be properly closed\n    puts 'hello'\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/module_indent_6.rb:10: unexpected token \"end of file\" https://srb.help/2001\n    10 |end # error: unexpected token \"end of file\"\n    11 |\n\ntest/testdata/parser/error_recovery/module_indent_6.rb:7: Hint: this \"module\" token might not be properly closed https://srb.help/2003\n     7 |  module Inner\n          ^^^^^^\n    test/testdata/parser/error_recovery/module_indent_6.rb:10: Matching `end` found here but is not indented as far\n    10 |end # error: unexpected token \"end of file\"\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/module_indent_6.rb:11: expected an `end` to close the `class` statement https://srb.help/2001\n    11 |\n        ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <self>.puts(\"hello\")\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C F><<C <todo sym>>> < (::<todo sym>)\n    <self>.sig() do ||\n      <self>.void()\n    end\n\n    def method1<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n\n    module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n      <self>.puts(\"hello\")\n    end\n\n    <emptyTree>::<C <ErrorNode>>\n  end\nend",
    "tree_similarity": 0.8854748603351955,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,5 +11,7 @@\n     module <emptyTree>::<C Inner><<C <todo sym>>> < ()\n       <self>.puts(\"hello\")\n     end\n+\n+    <emptyTree>::<C <ErrorNode>>\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses the indentation mismatch issue entirely and only reports a generic missing end error at EOF, while Original correctly identifies the improperly closed module with helpful indentation hints."
  },
  "multiple_stmts.rb": {
    "filename": "multiple_stmts.rb",
    "input_code": "# typed: false\n\ndef test_method_with_multiple_stmts\n  x = 1\n  x = ; # error: unexpected token\n  y = 1\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/multiple_stmts.rb:5: unexpected token \";\" https://srb.help/2001\n     5 |  x = ; # error: unexpected token\n              ^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/multiple_stmts.rb:5: expected an expression after `=` https://srb.help/2001\n     5 |  x = ; # error: unexpected token\n            ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def test_method_with_multiple_stmts<<todo method>>(&<blk>)\n    begin\n      x = 1\n      x = <emptyTree>::<C <ErrorNode>>\n      y = 1\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def test_method_with_multiple_stmts<<todo method>>(&<blk>)\n    begin\n      x = 1\n      x = <emptyTree>::<C <ErrorNode>>\n      y = 1\n    end\n  end\nend",
    "tree_similarity": 1.0,
    "tree_emoji": "游릭",
    "tree_diff": "Trees are identical",
    "error_emoji": "游릭",
    "error_assessment": "Prism provides a more precise error message that directly identifies the missing expression after the assignment operator, with accurate location pointing to the equals sign."
  },
  "numparams.rb": {
    "filename": "numparams.rb",
    "input_code": "# typed: true\n\n[1,2,3].map { |x| _1 }\n                # ^^ error: numbered parameters are not allowed when an ordinary parameter is defined\n\n# recover\nsuccessful_parse = 10\n\n[1,2,3].map { _1.times { _1 }}\n                       # ^^ error: numbered parameter is already used in an outer scope\n",
    "original_errors": "test/testdata/parser/error_recovery/numparams.rb:3: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     3 |[1,2,3].map { |x| _1 }\n                          ^^\n\ntest/testdata/parser/error_recovery/numparams.rb:9: numbered parameter is already used in an outer scope https://srb.help/2001\n     9 |[1,2,3].map { _1.times { _1 }}\n                                 ^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/numparams.rb:3: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     3 |[1,2,3].map { |x| _1 }\n                          ^^\n\ntest/testdata/parser/error_recovery/numparams.rb:9: numbered parameter is already used in outer block https://srb.help/2001\n     9 |[1,2,3].map { _1.times { _1 }}\n                                 ^^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].map() do |_1|\n    _1\n  end\n\n  successful_parse = 10\n\n  [1, 2, 3].map() do |_1|\n    _1.times() do |_1|\n      _1\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].map() do |x|\n    _1\n  end\n\n  successful_parse = 10\n\n  [1, 2, 3].map() do |_1|\n    _1.times() do ||\n      _1\n    end\n  end\nend",
    "tree_similarity": 0.46524064171123,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,12 +1,12 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  [1, 2, 3].map() do |_1|\n+  [1, 2, 3].map() do |x|\n     _1\n   end\n \n   successful_parse = 10\n \n   [1, 2, 3].map() do |_1|\n-    _1.times() do |_1|\n+    _1.times() do ||\n       _1\n     end\n   end",
    "error_emoji": "游릭",
    "error_assessment": "Prism errors are excellent with accurate locations and clear messages that match Original's quality, with only a minor wording difference that is equally understandable."
  },
  "numparams_crash_1.rb": {
    "filename": "numparams_crash_1.rb",
    "input_code": "# typed: false\n\n[1,2,3].map { |x| _1 }\n                # ^^ error: numbered parameters are not allowed when an ordinary parameter is defined\n\n_1\n",
    "original_errors": "test/testdata/parser/error_recovery/numparams_crash_1.rb:3: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     3 |[1,2,3].map { |x| _1 }\n                          ^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/numparams_crash_1.rb:3: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     3 |[1,2,3].map { |x| _1 }\n                          ^^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].map() do |_1|\n    _1\n  end\n\n  <self>._1()\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].map() do |x|\n    _1\n  end\n\n  <self>._1()\nend",
    "tree_similarity": 0.7211538461538461,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,5 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  [1, 2, 3].map() do |_1|\n+  [1, 2, 3].map() do |x|\n     _1\n   end\n ",
    "error_emoji": "游릭",
    "error_assessment": "Prism produces identical error output to Original with accurate location and clear message about the numbered parameter conflict."
  },
  "numparams_crash_2.rb": {
    "filename": "numparams_crash_2.rb",
    "input_code": "# typed: false\n\nf (1) { |x| _1 }\n          # ^^ error: numbered parameters are not allowed when an ordinary parameter is defined\n\n_1\n",
    "original_errors": "test/testdata/parser/error_recovery/numparams_crash_2.rb:3: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     3 |f (1) { |x| _1 }\n                    ^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/numparams_crash_2.rb:3: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     3 |f (1) { |x| _1 }\n                    ^^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <self>.f(1) do |_1|\n    _1\n  end\n\n  <self>._1()\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <self>.f(1) do |x|\n    _1\n  end\n\n  <self>._1()\nend",
    "tree_similarity": 0.71,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,5 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  <self>.f(1) do |_1|\n+  <self>.f(1) do |x|\n     _1\n   end\n ",
    "error_emoji": "游릭",
    "error_assessment": "Prism errors are identical to Original with accurate location and clear message about the numbered parameter conflict."
  },
  "numparams_crash_3.rb": {
    "filename": "numparams_crash_3.rb",
    "input_code": "# typed: false\n\nfoo {&:bar}\n  # ^^^^^^^ error: block pass should not be enclosed in curly braces\n\n_1\n",
    "original_errors": "test/testdata/parser/error_recovery/numparams_crash_3.rb:3: block pass should not be enclosed in curly braces https://srb.help/2001\n     3 |foo {&:bar}\n            ^^^^^^^\n  Autocorrect: Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/numparams_crash_3.rb:3: Replace with `(&:bar)`\n     3 |foo {&:bar}\n            ^^^^^^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 1,
    "prism_errors": "test/testdata/parser/error_recovery/numparams_crash_3.rb:3: unexpected '&', ignoring it https://srb.help/2001\n     3 |foo {&:bar}\n             ^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <self>.foo() do ||\n    :bar\n  end\n\n  <self>._1()\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <self>.foo() do ||\n    begin\n      <emptyTree>::<C <ErrorNode>>\n      :bar\n    end\n  end\n\n  <self>._1()\nend",
    "tree_similarity": 0.46794871794871795,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,6 +1,9 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   <self>.foo() do ||\n-    :bar\n+    begin\n+      <emptyTree>::<C <ErrorNode>>\n+      :bar\n+    end\n   end\n \n   <self>._1()",
    "error_emoji": "游댮",
    "error_assessment": "Prism reports a different and less accurate error about the ampersand being unexpected, missing the actual issue about block pass syntax in curly braces that Original correctly identifies."
  },
  "numparams_crash_4.rb": {
    "filename": "numparams_crash_4.rb",
    "input_code": "# typed: false\n\n-> { _1 }\n\n_1\n",
    "original_errors": "No errors! Great job.",
    "original_error_count": 0,
    "original_autocorrects": 0,
    "prism_errors": "No errors! Great job.",
    "prism_error_count": 0,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <emptyTree>::<C Kernel>.lambda() do |_1|\n    _1\n  end\n\n  <self>._1()\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <emptyTree>::<C Kernel>.lambda() do |_1|\n    _1\n  end\n\n  <self>._1()\nend",
    "tree_similarity": 1.0,
    "tree_emoji": "游릭",
    "tree_diff": "Trees are identical",
    "error_emoji": "游댮",
    "error_assessment": "Both parsers incorrectly accept invalid code where _1 is used outside a numbered parameter context, which should be a syntax error."
  },
  "numparams_crash_5.rb": {
    "filename": "numparams_crash_5.rb",
    "input_code": "# typed: false\n\n[1,2,3].map do |x|\n  _1 # error: numbered parameters are not allowed when an ordinary parameter is defined\nend\n\n_1\n",
    "original_errors": "test/testdata/parser/error_recovery/numparams_crash_5.rb:4: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     4 |  _1 # error: numbered parameters are not allowed when an ordinary parameter is defined\n          ^^\nErrors: 1",
    "original_error_count": 1,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/numparams_crash_5.rb:4: numbered parameters are not allowed when an ordinary parameter is defined https://srb.help/2001\n     4 |  _1 # error: numbered parameters are not allowed when an ordinary parameter is defined\n          ^^\nErrors: 1",
    "prism_error_count": 1,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].map() do |_1|\n    _1\n  end\n\n  <self>._1()\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  [1, 2, 3].map() do |x|\n    _1\n  end\n\n  <self>._1()\nend",
    "tree_similarity": 0.7211538461538461,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,5 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n-  [1, 2, 3].map() do |_1|\n+  [1, 2, 3].map() do |x|\n     _1\n   end\n ",
    "error_emoji": "游릭",
    "error_assessment": "Prism produces identical error output to Original, correctly identifying the numbered parameter error at the exact location with the same clear message."
  },
  "other_missing_end.rb": {
    "filename": "other_missing_end.rb",
    "input_code": "# typed: false\n\nclass A\n  def test1\n    puts 'before'\n    x do # error: Hint: this \"do\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test2\n    puts 'before'\n    x y do # error: Hint: this kDO_BLOCK token might not be properly closed\n    puts 'after'\n  end\n\n  def test3\n    puts 'before'\n    -> do # error: Hint: this kDO_LAMBDA token might not be properly closed\n    puts 'after'\n  end\n\n  def test4\n    puts 'before'\n    while x do # error: Hint: this \"while\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test5\n    puts 'before'\n    begin # error: Hint: this \"begin\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test6\n    puts 'before'\n    unless nil # error: Hint: this \"unless\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test7\n    puts 'before'\n    while nil # error: Hint: this \"while\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test8\n    puts 'before'\n    until nil # error: Hint: this \"until\" token might not be properly closed\n    puts 'after'\n  end\n\n  def test9\n    puts 'before'\n    unless # error: unexpected token \"unless\"\n  end\n\n  def test10\n    puts 'before'\n    while # error: unexpected token \"while\"\n  end\n\n  def test11\n    puts 'before'\n    until # error: unexpected token \"until\"\n  end\nend # error: unexpected token \"end of file\"\n",
    "original_errors": "test/testdata/parser/error_recovery/other_missing_end.rb:54: unexpected token \"unless\" https://srb.help/2001\n    54 |    unless # error: unexpected token \"unless\"\n            ^^^^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:59: unexpected token \"while\" https://srb.help/2001\n    59 |    while # error: unexpected token \"while\"\n            ^^^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:64: unexpected token \"until\" https://srb.help/2001\n    64 |    until # error: unexpected token \"until\"\n            ^^^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:66: unexpected token \"end of file\" https://srb.help/2001\n    66 |end # error: unexpected token \"end of file\"\n    67 |\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:6: Hint: this \"do\" token might not be properly closed https://srb.help/2003\n     6 |    x do # error: Hint: this \"do\" token might not be properly closed\n              ^^\n    test/testdata/parser/error_recovery/other_missing_end.rb:8: Matching `end` found here but is not indented as far\n     8 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:12: Hint: this kDO_BLOCK token might not be properly closed https://srb.help/2003\n    12 |    x y do # error: Hint: this kDO_BLOCK token might not be properly closed\n                ^^\n    test/testdata/parser/error_recovery/other_missing_end.rb:14: Matching `end` found here but is not indented as far\n    14 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:18: Hint: this kDO_LAMBDA token might not be properly closed https://srb.help/2003\n    18 |    -> do # error: Hint: this kDO_LAMBDA token might not be properly closed\n               ^^\n    test/testdata/parser/error_recovery/other_missing_end.rb:20: Matching `end` found here but is not indented as far\n    20 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:24: Hint: this \"while\" token might not be properly closed https://srb.help/2003\n    24 |    while x do # error: Hint: this \"while\" token might not be properly closed\n            ^^^^^\n    test/testdata/parser/error_recovery/other_missing_end.rb:26: Matching `end` found here but is not indented as far\n    26 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:30: Hint: this \"begin\" token might not be properly closed https://srb.help/2003\n    30 |    begin # error: Hint: this \"begin\" token might not be properly closed\n            ^^^^^\n    test/testdata/parser/error_recovery/other_missing_end.rb:32: Matching `end` found here but is not indented as far\n    32 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:36: Hint: this \"unless\" token might not be properly closed https://srb.help/2003\n    36 |    unless nil # error: Hint: this \"unless\" token might not be properly closed\n            ^^^^^^\n    test/testdata/parser/error_recovery/other_missing_end.rb:38: Matching `end` found here but is not indented as far\n    38 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:42: Hint: this \"while\" token might not be properly closed https://srb.help/2003\n    42 |    while nil # error: Hint: this \"while\" token might not be properly closed\n            ^^^^^\n    test/testdata/parser/error_recovery/other_missing_end.rb:44: Matching `end` found here but is not indented as far\n    44 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:48: Hint: this \"until\" token might not be properly closed https://srb.help/2003\n    48 |    until nil # error: Hint: this \"until\" token might not be properly closed\n            ^^^^^\n    test/testdata/parser/error_recovery/other_missing_end.rb:50: Matching `end` found here but is not indented as far\n    50 |  end\n          ^^^\nErrors: 12",
    "original_error_count": 12,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/other_missing_end.rb:54: expected a predicate expression for the `unless` statement https://srb.help/2001\n    54 |    unless # error: unexpected token \"unless\"\n            ^^^^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected `then` or `;` or '\\n' https://srb.help/2001\n    55 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `def` statement https://srb.help/2001\n    55 |  end\n             ^\n\ntest/testdata/parser/error_recovery/other_missing_end.rb:55: expected an `end` to close the `class` statement https://srb.help/2001\n    55 |  end\n             ^\nErrors: 12",
    "prism_error_count": 12,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.x() do ||\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test2<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.x(<self>.y()) do ||\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test3<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <emptyTree>::<C Kernel>.lambda() do ||\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test4<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        while <self>.x()\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test5<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.puts(\"after\")\n      end\n    end\n\n    def test6<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        if nil\n          <emptyTree>\n        else\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test7<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        while nil\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test8<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        while nil.!()\n          <self>.puts(\"after\")\n        end\n      end\n    end\n\n    def test9<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        if <emptyTree>::<C <ErrorNode>>\n          <emptyTree>\n        else\n          <emptyTree>\n        end\n      end\n    end\n\n    def test10<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        while <emptyTree>::<C <ErrorNode>>\n          <emptyTree>\n        end\n      end\n    end\n\n    def test11<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        while <emptyTree>::<C <ErrorNode>>.!()\n          <emptyTree>\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test1<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        <self>.x() do ||\n          <self>.puts(\"after\")\n        end\n        def test2<<todo method>>(&<blk>)\n          begin\n            <self>.puts(\"before\")\n            <self>.x(<self>.y()) do ||\n              <self>.puts(\"after\")\n            end\n            def test3<<todo method>>(&<blk>)\n              begin\n                <self>.puts(\"before\")\n                <emptyTree>::<C Kernel>.lambda() do ||\n                  <self>.puts(\"after\")\n                end\n                def test4<<todo method>>(&<blk>)\n                  begin\n                    <self>.puts(\"before\")\n                    while <self>.x()\n                      <self>.puts(\"after\")\n                    end\n                    def test5<<todo method>>(&<blk>)\n                      begin\n                        <self>.puts(\"before\")\n                        <self>.puts(\"after\")\n                        def test6<<todo method>>(&<blk>)\n                          begin\n                            <self>.puts(\"before\")\n                            if nil\n                              <emptyTree>\n                            else\n                              <self>.puts(\"after\")\n                            end\n                            def test7<<todo method>>(&<blk>)\n                              begin\n                                <self>.puts(\"before\")\n                                while nil\n                                  <self>.puts(\"after\")\n                                end\n                                def test8<<todo method>>(&<blk>)\n                                  begin\n                                    <self>.puts(\"before\")\n                                    while nil.!()\n                                      <self>.puts(\"after\")\n                                    end\n                                    def test9<<todo method>>(&<blk>)\n                                      begin\n                                        <self>.puts(\"before\")\n                                        if <emptyTree>::<C <ErrorNode>>\n                                          <emptyTree>\n                                        else\n                                          <emptyTree>\n                                        end\n                                      end\n                                    end\n                                  end\n                                end\n                              end\n                            end\n                          end\n                        end\n                      end\n                    end\n                  end\n                end\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.21955462769659012,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -6,99 +6,73 @@\n         <self>.x() do ||\n           <self>.puts(\"after\")\n         end\n-      end\n-    end\n-\n-    def test2<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        <self>.x(<self>.y()) do ||\n-          <self>.puts(\"after\")\n+        def test2<<todo method>>(&<blk>)\n+          begin\n+            <self>.puts(\"before\")\n+            <self>.x(<self>.y()) do ||\n+              <self>.puts(\"after\")\n+            end\n+            def test3<<todo method>>(&<blk>)\n+              begin\n+                <self>.puts(\"before\")\n+                <emptyTree>::<C Kernel>.lambda() do ||\n+                  <self>.puts(\"after\")\n+                end\n+                def test4<<todo method>>(&<blk>)\n+                  begin\n+                    <self>.puts(\"before\")\n+                    while <self>.x()\n+                      <self>.puts(\"after\")\n+                    end\n+                    def test5<<todo method>>(&<blk>)\n+                      begin\n+                        <self>.puts(\"before\")\n+                        <self>.puts(\"after\")\n+                        def test6<<todo method>>(&<blk>)\n+                          begin\n+                            <self>.puts(\"before\")\n+                            if nil\n+                              <emptyTree>\n+                            else\n+                              <self>.puts(\"after\")\n+                            end\n+                            def test7<<todo method>>(&<blk>)\n+                              begin\n+                                <self>.puts(\"before\")\n+                                while nil\n+                                  <self>.puts(\"after\")\n+                                end\n+                                def test8<<todo method>>(&<blk>)\n+                                  begin\n+                                    <self>.puts(\"before\")\n+                                    while nil.!()\n+                                      <self>.puts(\"after\")\n+                                    end\n+                                    def test9<<todo method>>(&<blk>)\n+                                      begin\n+                                        <self>.puts(\"before\")\n+                                        if <emptyTree>::<C <ErrorNode>>\n+                                          <emptyTree>\n+                                        else\n+                                          <emptyTree>\n+                                        end\n+                                      end\n+                                    end\n+                                  end\n+                                end\n+                              end\n+                            end\n+                          end\n+                        end\n+                      end\n+                    end\n+                  end\n+                end\n+              end\n+            end\n+          end\n         end\n       end\n     end\n-\n-    def test3<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        <emptyTree>::<C Kernel>.lambda() do ||\n-          <self>.puts(\"after\")\n-        end\n-      end\n-    end\n-\n-    def test4<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        while <self>.x()\n-          <self>.puts(\"after\")\n-        end\n-      end\n-    end\n-\n-    def test5<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        <self>.puts(\"after\")\n-      end\n-    end\n-\n-    def test6<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        if nil\n-          <emptyTree>\n-        else\n-          <self>.puts(\"after\")\n-        end\n-      end\n-    end\n-\n-    def test7<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        while nil\n-          <self>.puts(\"after\")\n-        end\n-      end\n-    end\n-\n-    def test8<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        while nil.!()\n-          <self>.puts(\"after\")\n-        end\n-      end\n-    end\n-\n-    def test9<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        if <emptyTree>::<C <ErrorNode>>\n-          <emptyTree>\n-        else\n-          <emptyTree>\n-        end\n-      end\n-    end\n-\n-    def test10<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        while <emptyTree>::<C <ErrorNode>>\n-          <emptyTree>\n-        end\n-      end\n-    end\n-\n-    def test11<<todo method>>(&<blk>)\n-      begin\n-        <self>.puts(\"before\")\n-        while <emptyTree>::<C <ErrorNode>>.!()\n-          <emptyTree>\n-        end\n-      end\n-    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism misses all the helpful indentation hints for unclosed blocks and produces 10 repetitive unhelpful errors at line 55 instead of identifying the actual missing end locations throughout the file."
  },
  "pos_after_kw_1.rb": {
    "filename": "pos_after_kw_1.rb",
    "input_code": "# typed: false\nsig do\n  params(\n    build_group: String,\n    type\n  # ^^^^ error: positional arg \"type\" after keyword arg\n  # ^^^^ error: Malformed type declaration. Unknown type syntax. Expected a ClassName or T.<func>\n  # ^^^^ error: Unknown parameter name `type`\n    filter: T.nilable(String),\n  )\n  .returns(T::Array[String])\nend\ndef call(build_group, filter:)\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/pos_after_kw_1.rb:5: positional arg \"type\" after keyword arg https://srb.help/2001\n     5 |    type\n            ^^^^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:5: Malformed type declaration. Unknown type syntax. Expected a ClassName or T.<func> https://srb.help/5004\n     5 |    type\n            ^^^^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:5: Unknown parameter name `type` https://srb.help/5003\n     5 |    type\n            ^^^^\n    test/testdata/parser/error_recovery/pos_after_kw_1.rb:13: Parameter not in method definition here\n    13 |def call(build_group, filter:)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nErrors: 3",
    "original_error_count": 3,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/pos_after_kw_1.rb:5: expected a `=>` between the hash key and value https://srb.help/2001\n     5 |    type\n                ^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:5: unexpected newline; expected a value in the hash literal https://srb.help/2001\n     5 |    type\n     6 |  # ^^^^ error: positional arg \"type\" after keyword arg\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:9: unexpected local variable or method; expected a `)` to close the arguments https://srb.help/2001\n     9 |    filter: T.nilable(String),\n            ^^^^^^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:9: unexpected local variable or method, expecting end-of-input https://srb.help/2001\n     9 |    filter: T.nilable(String),\n            ^^^^^^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:9: unexpected ':', expecting end-of-input https://srb.help/2001\n     9 |    filter: T.nilable(String),\n                  ^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:9: unexpected ':', ignoring it https://srb.help/2001\n     9 |    filter: T.nilable(String),\n                  ^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:9: unexpected ',', expecting end-of-input https://srb.help/2001\n     9 |    filter: T.nilable(String),\n                                     ^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:9: unexpected ',', ignoring it https://srb.help/2001\n     9 |    filter: T.nilable(String),\n                                     ^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:10: unexpected ')', ignoring it https://srb.help/2001\n    10 |  )\n          ^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:11: unexpected '.', ignoring it https://srb.help/2001\n    11 |  .returns(T::Array[String])\n          ^\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:2: Malformed `sig`: Signature blocks must contain a single statement https://srb.help/5069\n     2 |sig do\n     3 |  params(\n     4 |    build_group: String,\n     5 |    type\n     6 |  # ^^^^ error: positional arg \"type\" after keyword arg\n       |...\n     8 |  # ^^^^ error: Unknown parameter name `type`\n     9 |    filter: T.nilable(String),\n    10 |  )\n    11 |  .returns(T::Array[String])\n    12 |end\n\ntest/testdata/parser/error_recovery/pos_after_kw_1.rb:2: Malformed `sig`: No return type specified. Specify one with .returns() https://srb.help/5003\n     2 |sig do\n     3 |  params(\n     4 |    build_group: String,\n     5 |    type\n     6 |  # ^^^^ error: positional arg \"type\" after keyword arg\n       |...\n     8 |  # ^^^^ error: Unknown parameter name `type`\n     9 |    filter: T.nilable(String),\n    10 |  )\n    11 |  .returns(T::Array[String])\n    12 |end\nErrors: 12",
    "prism_error_count": 12,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <self>.sig() do ||\n    <self>.params(:build_group, <emptyTree>::<C String>, :type, <self>.type(), :filter, <emptyTree>::<C T>.nilable(<emptyTree>::<C String>)).returns(<emptyTree>::<C T>::<C Array>.[](<emptyTree>::<C String>))\n  end\n\n  def call<<todo method>>(build_group, filter:, &<blk>)\n    <emptyTree>\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  <self>.sig() do ||\n    begin\n      <self>.params({:build_group => <emptyTree>::<C String>, <self>.type() => <emptyTree>::<C <ErrorNode>>})\n      <self>.filter()\n      <emptyTree>::<C <ErrorNode>>\n      <emptyTree>::<C T>.nilable(<emptyTree>::<C String>)\n      <emptyTree>::<C <ErrorNode>>\n      <emptyTree>::<C <ErrorNode>>\n      <emptyTree>::<C <ErrorNode>>\n      <self>.returns(<emptyTree>::<C T>::<C Array>.[](<emptyTree>::<C String>))\n    end\n  end\n\n  def call<<todo method>>(build_group, filter:, &<blk>)\n    <emptyTree>\n  end\nend",
    "tree_similarity": 0.15924657534246575,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,6 +1,15 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   <self>.sig() do ||\n-    <self>.params(:build_group, <emptyTree>::<C String>, :type, <self>.type(), :filter, <emptyTree>::<C T>.nilable(<emptyTree>::<C String>)).returns(<emptyTree>::<C T>::<C Array>.[](<emptyTree>::<C String>))\n+    begin\n+      <self>.params({:build_group => <emptyTree>::<C String>, <self>.type() => <emptyTree>::<C <ErrorNode>>})\n+      <self>.filter()\n+      <emptyTree>::<C <ErrorNode>>\n+      <emptyTree>::<C T>.nilable(<emptyTree>::<C String>)\n+      <emptyTree>::<C <ErrorNode>>\n+      <emptyTree>::<C <ErrorNode>>\n+      <emptyTree>::<C <ErrorNode>>\n+      <self>.returns(<emptyTree>::<C T>::<C Array>.[](<emptyTree>::<C String>))\n+    end\n   end\n \n   def call<<todo method>>(build_group, filter:, &<blk>)",
    "error_emoji": "游댮",
    "error_assessment": "Prism completely misparses the sig block structure, generating 12 cascading syntax errors instead of the 3 accurate semantic errors about positional-after-keyword argument ordering that Original correctly identifies."
  },
  "send_after_end.rb": {
    "filename": "send_after_end.rb",
    "input_code": "# typed: false\n\n# We don't recover from this code well as we'd like: ideally, this should parse\n# the method call to `x.if` inside the `def foo`, but instead it puts the\n# method call outside the MethodDef node.\n#\n# This is part of a larger problem that a single mismatched `end` can really\n# screw over our ability to recover (see error_recovery_if_no_end.rb).\n#\n# This code is empirically rare (doesn't accur at all at Stripe), but it's\n# unclear how often code like this comes up when people are making edits.\n\ndef foo\n  x.end\n\n  x.\n    end # error: unexpected token\n\n  x.if\nend # error: unexpected token\n",
    "original_errors": "test/testdata/parser/error_recovery/send_after_end.rb:17: unexpected token \"end\" https://srb.help/2001\n    17 |    end # error: unexpected token\n            ^^^\n\ntest/testdata/parser/error_recovery/send_after_end.rb:20: unexpected token \"end\" https://srb.help/2001\n    20 |end # error: unexpected token\n        ^^^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "No errors! Great job.",
    "prism_error_count": 0,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(&<blk>)\n    begin\n      <self>.x().end()\n      <self>.x().<method-name-missing>()\n    end\n  end\n\n  <self>.x().if()\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def foo<<todo method>>(&<blk>)\n    begin\n      <self>.x().end()\n      <self>.x().end()\n      <self>.x().if()\n    end\n  end\nend",
    "tree_similarity": 0.6842105263157895,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -2,9 +2,8 @@\n   def foo<<todo method>>(&<blk>)\n     begin\n       <self>.x().end()\n-      <self>.x().<method-name-missing>()\n+      <self>.x().end()\n+      <self>.x().if()\n     end\n   end\n-\n-  <self>.x().if()\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism fails to detect syntax errors that Original correctly identifies, missing both the unexpected end token on line 17 and the mismatched end on line 20."
  },
  "singleton_method_literal.rb": {
    "filename": "singleton_method_literal.rb",
    "input_code": "# typed: true\n\ndef (10).test()\n   # ^^ error: cannot define a singleton method for a literal\n   # ^^ error: `def EXPRESSION.method` is only supported for `def self.method`\n  [1,2,3].each do |x|\n    x\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/singleton_method_literal.rb:3: cannot define a singleton method for a literal https://srb.help/2001\n     3 |def (10).test()\n             ^^\n\ntest/testdata/parser/error_recovery/singleton_method_literal.rb:3: `def EXPRESSION.method` is only supported for `def self.method` https://srb.help/3001\n     3 |def (10).test()\n             ^^\n  Note:\n    When it's imperative to define a singleton method on an object,\n    use `EXPRESSION.define_singleton_method(:method) { ... }` instead.\n    The method will NOT be visible to Sorbet.\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "Exception::raise() msg=\"parser/prism/Helpers.h:202 enforced condition anyNode == nullptr || (((enum pm_node_type) (anyNode)->type) == (PrismNodeTypeHelper<PrismNode>::TypeID)) has failed: Failed to cast a Prism AST Node. Expected PM_STATEMENTS_NODE (#140), but got PM_INTEGER_NODE (#PM_INTEGER_NODE).\"\n\nBacktrace:\npm_encoding_windows_874_table (in sorbet) + 4652\nstd::__1::piecewise_construct (in sorbet) + 92\ndescriptor_table_protodef_google_2fprotobuf_2fsource_5fcontext_2eproto (in sorbet) + 124\ncontext_terminators (in sorbet) + 872\ntypeinfo name for void sorbet::Parallel::iterate<sorbet::ast::ParsedFile, void sorbet::packager::(anonymous namespace)::packageRunCore<(sorbet::packager::(anonymous namespace)::PackagerMode)1>(sorbet::core::GlobalState&, sorbet::WorkerPool&, absl::lts_20240722::Span<sorbet::ast::ParsedFile>)::'lambda'(auto&)>(sorbet::WorkerPool&, std::__1::basic_string_view<char, std::__1::char_traits<char>>, absl::lts_20240722::Span<auto>, void sorbet::packager::(anonymous namespace)::packageRunCore<(sorbet::packager::(anonymous namespace)::PackagerMode)1>(sorbet::core::GlobalState&, sorbet::WorkerPool&, absl::lts_20240722::Span<sorbet::ast::ParsedFile>)::'lambda'(auto&))::'lambda'() (in sorbet) + 310\nstd::__1::piecewise_construct (in sorbet) + 732\nGCC_except_table9 (in sorbet) + 24\nsorbet::ast::RescueCase::toStringWithTabs(sorbet::core::GlobalState const&, int) const (in sorbet) + 1056\nsorbet::ast::If::toStringWithTabs(sorbet::core::GlobalState const&, int) const (in sorbet) + 256\nsorbet::ast::Cast::toStringWithTabs(sorbet::core::GlobalState const&, int) const (in sorbet) + 40\nstd::__1::__compressed_pair<std::__1::__state<char>**, std::__1::allocator<std::__1::__state<char>*>&>::__compressed_pair[abi:v160005]<std::nullptr_t, std::__1::allocator<std::__1::__state<char>*>&>(std::nullptr_t&&, std::__1::allocator<std::__1::__state<char>*>&) (in sorbet) + 44\nstd::__1::__tree_node_base<void*>*& std::__1::__tree<std::__1::pair<unsigned int, unsigned int>, std::__1::less<std::__1::pair<unsigned int, unsigned int>>, std::__1::allocator<std::__1::pair<unsigned int, unsigned int>>>::__find_equal<std::__1::pair<unsigned int, unsigned int>>(std::__1::__tree_end_node<std::__1::__tree_node_base<void*>*>*&, std::__1::pair<unsigned int, unsigned int> const&) (in sorbet) + 196\nstart (in dyld) + 7184\n\ntest/testdata/parser/error_recovery/singleton_method_literal.rb: Exception parsing file: `test/testdata/parser/error_recovery/singleton_method_literal.rb` (backtrace is above) https://srb.help/1001\n\ntest/testdata/parser/error_recovery/singleton_method_literal.rb:3: cannot define singleton method for literals https://srb.help/2001\n     3 |def (10).test()\n             ^^\nErrors: 2",
    "prism_error_count": 2,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  def self.test<<todo method>>(&<blk>)\n    [1, 2, 3].each() do |x|\n      x\n    end\n  end\nend",
    "prism_tree": "",
    "tree_similarity": 0.0,
    "tree_emoji": "游댮",
    "tree_diff": "One or both trees are empty",
    "error_emoji": "游댮",
    "error_assessment": "Prism crashes with an internal parser exception instead of gracefully handling the singleton method literal error like Original does."
  },
  "unmatched_block_args_1.rb": {
    "filename": "unmatched_block_args_1.rb",
    "input_code": "# typed: false\n\nmodule Opus::Log\n  def self.info; end\nend\n\nclass A\n  def test_no_args\n    1.times do | # error: unmatched \"|\" in block argument list\n    end\n    1.times do | # error: unmatched \"|\" in block argument list\n      puts 'hello'\n    end\n    1.times do | # error: unmatched \"|\" in block argument list\n      puts('hello')\n    end\n    1.times do | # error: unmatched \"|\" in block argument list\n      x = nil\n    end\n    1.times do | # error: unmatched \"|\" in block argument list\n      Opus::Log.info\n    end\n  end\n\n  def test_one_arg\n    1.times do |x # error: unmatched \"|\" in block argument list\n    end\n    1.times do |x # error: unmatched \"|\" in block argument list\n      puts 'hello'\n    end\n    1.times do |x # error: unmatched \"|\" in block argument list\n      puts('hello')\n    end\n    1.times do |x # error: unmatched \"|\" in block argument list\n      x = nil\n    end\n    1.times do |x # error: unmatched \"|\" in block argument list\n      Opus::Log.info\n    end\n  end\n\n  def test_one_arg_comma\n    1.times do |x, # error: unmatched \"|\" in block argument list\n    end\n    # 1.times do |x,\n    #   puts 'hello'\n    # end\n    1.times do |x, # error: unmatched \"|\" in block argument list\n      puts('hello') # error: unexpected token tNL\n    end\n    1.times do |x, # error: unmatched \"|\" in block argument list\n      x = nil\n    end\n    1.times do |x, # error: unmatched \"|\" in block argument list\n      Opus::Log.info # error: unexpected token tNL\n    end\n  end\n\n  def test_two_args\n    1.times do |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n    end\n    1.times do |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n      puts 'hello'\n    end\n    1.times do |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n      puts('hello')\n    end\n    1.times do |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n      x = nil\n    end\n    1.times do |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n      Opus::Log.info\n    end\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/unmatched_block_args_1.rb:9: unmatched \"|\" in block argument list https://srb.help/2001\n     9 |    1.times do | # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:11: unmatched \"|\" in block argument list https://srb.help/2001\n    11 |    1.times do | # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:14: unmatched \"|\" in block argument list https://srb.help/2001\n    14 |    1.times do | # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:17: unmatched \"|\" in block argument list https://srb.help/2001\n    17 |    1.times do | # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:20: unmatched \"|\" in block argument list https://srb.help/2001\n    20 |    1.times do | # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:26: unmatched \"|\" in block argument list https://srb.help/2001\n    26 |    1.times do |x # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:28: unmatched \"|\" in block argument list https://srb.help/2001\n    28 |    1.times do |x # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:31: unmatched \"|\" in block argument list https://srb.help/2001\n    31 |    1.times do |x # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:34: unmatched \"|\" in block argument list https://srb.help/2001\n    34 |    1.times do |x # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:37: unmatched \"|\" in block argument list https://srb.help/2001\n    37 |    1.times do |x # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:43: unmatched \"|\" in block argument list https://srb.help/2001\n    43 |    1.times do |x, # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:48: unmatched \"|\" in block argument list https://srb.help/2001\n    48 |    1.times do |x, # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:49: unexpected token tNL https://srb.help/2001\n    49 |      puts('hello') # error: unexpected token tNL\n    50 |    end\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:51: unmatched \"|\" in block argument list https://srb.help/2001\n    51 |    1.times do |x, # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:54: unmatched \"|\" in block argument list https://srb.help/2001\n    54 |    1.times do |x, # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:55: unexpected token tNL https://srb.help/2001\n    55 |      Opus::Log.info # error: unexpected token tNL\n    56 |    end\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:60: unmatched \"|\" in block argument list https://srb.help/2001\n    60 |    1.times do |x, y # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:61: unexpected token tNL https://srb.help/2001\n    61 |      # error: unexpected token tNL\n    62 |    end\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:63: unmatched \"|\" in block argument list https://srb.help/2001\n    63 |    1.times do |x, y # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:64: unexpected token tNL https://srb.help/2001\n    64 |      # error: unexpected token tNL\n    65 |      puts 'hello'\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:67: unmatched \"|\" in block argument list https://srb.help/2001\n    67 |    1.times do |x, y # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:68: unexpected token tNL https://srb.help/2001\n    68 |      # error: unexpected token tNL\n    69 |      puts('hello')\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:71: unmatched \"|\" in block argument list https://srb.help/2001\n    71 |    1.times do |x, y # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:72: unexpected token tNL https://srb.help/2001\n    72 |      # error: unexpected token tNL\n    73 |      x = nil\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:75: unmatched \"|\" in block argument list https://srb.help/2001\n    75 |    1.times do |x, y # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:76: unexpected token tNL https://srb.help/2001\n    76 |      # error: unexpected token tNL\n    77 |      Opus::Log.info\nErrors: 26",
    "original_error_count": 26,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/unmatched_block_args_1.rb:9: expected the block parameters to end with `|` https://srb.help/2001\n     9 |    1.times do | # error: unmatched \"|\" in block argument list\n                        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:12: expected the block parameters to end with `|` https://srb.help/2001\n    12 |      puts 'hello'\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:15: expected the block parameters to end with `|` https://srb.help/2001\n    15 |      puts('hello')\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:19: expected the block parameters to end with `|` https://srb.help/2001\n    19 |    end\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:21: invalid formal argument; formal argument cannot be a constant https://srb.help/2001\n    21 |      Opus::Log.info\n              ^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:21: expected the block parameters to end with `|` https://srb.help/2001\n    21 |      Opus::Log.info\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:21: unexpected '::', ignoring it https://srb.help/2001\n    21 |      Opus::Log.info\n                  ^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:27: expected the block parameters to end with `|` https://srb.help/2001\n    27 |    end\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:29: expected the block parameters to end with `|` https://srb.help/2001\n    29 |      puts 'hello'\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:32: expected the block parameters to end with `|` https://srb.help/2001\n    32 |      puts('hello')\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:35: expected the block parameters to end with `|` https://srb.help/2001\n    35 |      x = nil\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:38: expected the block parameters to end with `|` https://srb.help/2001\n    38 |      Opus::Log.info\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:43: expected the block parameters to end with `|` https://srb.help/2001\n    43 |    1.times do |x, # error: unmatched \"|\" in block argument list\n                          ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:49: expected the block parameters to end with `|` https://srb.help/2001\n    49 |      puts('hello') # error: unexpected token tNL\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:52: duplicated argument name https://srb.help/2001\n    52 |      x = nil\n              ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:53: expected the block parameters to end with `|` https://srb.help/2001\n    53 |    end\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:55: invalid formal argument; formal argument cannot be a constant https://srb.help/2001\n    55 |      Opus::Log.info # error: unexpected token tNL\n              ^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:55: expected the block parameters to end with `|` https://srb.help/2001\n    55 |      Opus::Log.info # error: unexpected token tNL\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:55: unexpected '::', ignoring it https://srb.help/2001\n    55 |      Opus::Log.info # error: unexpected token tNL\n                  ^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:61: expected the block parameters to end with `|` https://srb.help/2001\n    61 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:64: expected the block parameters to end with `|` https://srb.help/2001\n    64 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:68: expected the block parameters to end with `|` https://srb.help/2001\n    68 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:72: expected the block parameters to end with `|` https://srb.help/2001\n    72 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:76: expected the block parameters to end with `|` https://srb.help/2001\n    76 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:21: Unable to resolve constant `Log` https://srb.help/5002\n    21 |      Opus::Log.info\n                    ^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_1.rb:55: Unable to resolve constant `Log` https://srb.help/5002\n    55 |      Opus::Log.info # error: unexpected token tNL\n                    ^^^\nErrors: 26",
    "prism_error_count": 26,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test_no_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          x = nil\n        end\n        1.times() do ||\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n\n    def test_one_arg<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          x\n        end\n        1.times() do ||\n          begin\n            x\n            <self>.puts(\"hello\")\n          end\n        end\n        1.times() do ||\n          begin\n            x\n            <self>.puts(\"hello\")\n          end\n        end\n        1.times() do ||\n          begin\n            x\n            x = nil\n          end\n        end\n        1.times() do ||\n          begin\n            x\n            <emptyTree>::<C Opus>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_one_arg_comma<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          begin\n            <assignTemp>$2 = nil\n            <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 2, 0)\n            x = <assignTemp>$3.[](0)\n            x = <assignTemp>$3.[](1)\n            <assignTemp>$2\n          end\n        end\n        1.times() do ||\n          <emptyTree>\n        end\n      end\n    end\n\n    def test_two_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          x = nil\n        end\n        1.times() do ||\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test_no_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do |puts|\n          \"hello\"\n        end\n        1.times() do |puts|\n          \"hello\"\n        end\n        1.times() do |x = nil|\n          <emptyTree>\n        end\n        1.times() do |Opus|\n          begin\n            <emptyTree>::<C <ErrorNode>>\n            <emptyTree>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_one_arg<<todo method>>(&<blk>)\n      begin\n        1.times() do |x|\n          <emptyTree>\n        end\n        1.times() do |x|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x|\n          x = nil\n        end\n        1.times() do |x|\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n\n    def test_one_arg_comma<<todo method>>(&<blk>)\n      begin\n        1.times() do |x, *<restargs>|\n          <emptyTree>\n        end\n        1.times() do |x, puts|\n          \"hello\"\n        end\n        1.times() do |x, x = nil|\n          <emptyTree>\n        end\n        1.times() do |x, Opus|\n          begin\n            <emptyTree>::<C <ErrorNode>>\n            <emptyTree>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_two_args<<todo method>>(&<blk>)\n      begin\n        1.times() do |x, y|\n          <emptyTree>\n        end\n        1.times() do |x, y|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x, y|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x, y|\n          x = nil\n        end\n        1.times() do |x, y|\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.3403961308152925,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,91 +11,79 @@\n         1.times() do ||\n           <emptyTree>\n         end\n-        1.times() do ||\n-          <self>.puts(\"hello\")\n+        1.times() do |puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n-          <self>.puts(\"hello\")\n+        1.times() do |puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n-          x = nil\n+        1.times() do |x = nil|\n+          <emptyTree>\n         end\n-        1.times() do ||\n-          <emptyTree>::<C Opus>::<C Log>.info()\n+        1.times() do |Opus|\n+          begin\n+            <emptyTree>::<C <ErrorNode>>\n+            <emptyTree>::<C Log>.info()\n+          end\n         end\n       end\n     end\n \n     def test_one_arg<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n-          x\n+        1.times() do |x|\n+          <emptyTree>\n         end\n-        1.times() do ||\n-          begin\n-            x\n-            <self>.puts(\"hello\")\n-          end\n+        1.times() do |x|\n+          <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n-          begin\n-            x\n-            <self>.puts(\"hello\")\n-          end\n+        1.times() do |x|\n+          <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n-          begin\n-            x\n-            x = nil\n-          end\n+        1.times() do |x|\n+          x = nil\n         end\n-        1.times() do ||\n-          begin\n-            x\n-            <emptyTree>::<C Opus>::<C Log>.info()\n-          end\n+        1.times() do |x|\n+          <emptyTree>::<C Opus>::<C Log>.info()\n         end\n       end\n     end\n \n     def test_one_arg_comma<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n+        1.times() do |x, *<restargs>|\n           <emptyTree>\n         end\n-        1.times() do ||\n+        1.times() do |x, puts|\n+          \"hello\"\n+        end\n+        1.times() do |x, x = nil|\n           <emptyTree>\n         end\n-        1.times() do ||\n+        1.times() do |x, Opus|\n           begin\n-            <assignTemp>$2 = nil\n-            <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 2, 0)\n-            x = <assignTemp>$3.[](0)\n-            x = <assignTemp>$3.[](1)\n-            <assignTemp>$2\n+            <emptyTree>::<C <ErrorNode>>\n+            <emptyTree>::<C Log>.info()\n           end\n         end\n-        1.times() do ||\n-          <emptyTree>\n-        end\n       end\n     end\n \n     def test_two_args<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n+        1.times() do |x, y|\n           <emptyTree>\n         end\n-        1.times() do ||\n+        1.times() do |x, y|\n           <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n+        1.times() do |x, y|\n           <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n+        1.times() do |x, y|\n           x = nil\n         end\n-        1.times() do ||\n+        1.times() do |x, y|\n           <emptyTree>::<C Opus>::<C Log>.info()\n         end\n       end",
    "error_emoji": "游댮",
    "error_assessment": "Prism produces confusing errors with inaccurate locations pointing to wrong lines and generates spurious errors about constants and duplicate arguments that don't exist in the original parser."
  },
  "unmatched_block_args_2.rb": {
    "filename": "unmatched_block_args_2.rb",
    "input_code": "# typed: false\n\nmodule Opus::Log\n  def self.info; end\nend\n\nclass A\n  def test_no_args\n    1.times { | # error: unmatched \"|\" in block argument list\n    }\n    1.times { | # error: unmatched \"|\" in block argument list\n      puts 'hello'\n    }\n    1.times { | # error: unmatched \"|\" in block argument list\n      puts('hello')\n    }\n    1.times { | # error: unmatched \"|\" in block argument list\n      x = nil\n    }\n    1.times { | # error: unmatched \"|\" in block argument list\n      Opus::Log.info\n    }\n  end\n\n  def test_one_arg\n    1.times { |x # error: unmatched \"|\" in block argument list\n    }\n    1.times { |x # error: unmatched \"|\" in block argument list\n      puts 'hello'\n    }\n    1.times { |x # error: unmatched \"|\" in block argument list\n      puts('hello')\n    }\n    1.times { |x # error: unmatched \"|\" in block argument list\n      x = nil\n    }\n    1.times { |x # error: unmatched \"|\" in block argument list\n      Opus::Log.info\n    }\n  end\n\n  def test_one_arg_comma\n    1.times { |x, # error: unmatched \"|\" in block argument list\n    }\n    1.times { |x, # error: unmatched \"|\" in block argument list\n      puts 'hello' # error: unexpected token tSTRING\n    }\n    1.times { |x, # error: unmatched \"|\" in block argument list\n      puts('hello') # error: unexpected token tNL\n    }\n    1.times { |x, # error: unmatched \"|\" in block argument list\n      x = nil\n    }\n    1.times { |x, # error: unmatched \"|\" in block argument list\n      Opus::Log.info # error: unexpected token tNL\n    }\n  end\n\n  def test_two_args\n    1.times { |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n    }\n    1.times { |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n      puts 'hello'\n    }\n    1.times { |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n      puts('hello')\n    }\n    1.times { |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n      x = nil\n    }\n    1.times { |x, y # error: unmatched \"|\" in block argument list\n      # error: unexpected token tNL\n      Opus::Log.info\n    }\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/unmatched_block_args_2.rb:9: unmatched \"|\" in block argument list https://srb.help/2001\n     9 |    1.times { | # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:11: unmatched \"|\" in block argument list https://srb.help/2001\n    11 |    1.times { | # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:14: unmatched \"|\" in block argument list https://srb.help/2001\n    14 |    1.times { | # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:17: unmatched \"|\" in block argument list https://srb.help/2001\n    17 |    1.times { | # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:20: unmatched \"|\" in block argument list https://srb.help/2001\n    20 |    1.times { | # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:26: unmatched \"|\" in block argument list https://srb.help/2001\n    26 |    1.times { |x # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:28: unmatched \"|\" in block argument list https://srb.help/2001\n    28 |    1.times { |x # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:31: unmatched \"|\" in block argument list https://srb.help/2001\n    31 |    1.times { |x # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:34: unmatched \"|\" in block argument list https://srb.help/2001\n    34 |    1.times { |x # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:37: unmatched \"|\" in block argument list https://srb.help/2001\n    37 |    1.times { |x # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:43: unmatched \"|\" in block argument list https://srb.help/2001\n    43 |    1.times { |x, # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:45: unmatched \"|\" in block argument list https://srb.help/2001\n    45 |    1.times { |x, # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:46: unexpected token tSTRING https://srb.help/2001\n    46 |      puts 'hello' # error: unexpected token tSTRING\n                   ^^^^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:48: unmatched \"|\" in block argument list https://srb.help/2001\n    48 |    1.times { |x, # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:49: unexpected token tNL https://srb.help/2001\n    49 |      puts('hello') # error: unexpected token tNL\n    50 |    }\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:51: unmatched \"|\" in block argument list https://srb.help/2001\n    51 |    1.times { |x, # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:54: unmatched \"|\" in block argument list https://srb.help/2001\n    54 |    1.times { |x, # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:55: unexpected token tNL https://srb.help/2001\n    55 |      Opus::Log.info # error: unexpected token tNL\n    56 |    }\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:60: unmatched \"|\" in block argument list https://srb.help/2001\n    60 |    1.times { |x, y # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:61: unexpected token tNL https://srb.help/2001\n    61 |      # error: unexpected token tNL\n    62 |    }\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:63: unmatched \"|\" in block argument list https://srb.help/2001\n    63 |    1.times { |x, y # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:64: unexpected token tNL https://srb.help/2001\n    64 |      # error: unexpected token tNL\n    65 |      puts 'hello'\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:67: unmatched \"|\" in block argument list https://srb.help/2001\n    67 |    1.times { |x, y # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:68: unexpected token tNL https://srb.help/2001\n    68 |      # error: unexpected token tNL\n    69 |      puts('hello')\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:71: unmatched \"|\" in block argument list https://srb.help/2001\n    71 |    1.times { |x, y # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:72: unexpected token tNL https://srb.help/2001\n    72 |      # error: unexpected token tNL\n    73 |      x = nil\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:75: unmatched \"|\" in block argument list https://srb.help/2001\n    75 |    1.times { |x, y # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:76: unexpected token tNL https://srb.help/2001\n    76 |      # error: unexpected token tNL\n    77 |      Opus::Log.info\nErrors: 28",
    "original_error_count": 28,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/unmatched_block_args_2.rb:9: expected the block parameters to end with `|` https://srb.help/2001\n     9 |    1.times { | # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:12: expected the block parameters to end with `|` https://srb.help/2001\n    12 |      puts 'hello'\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:15: expected the block parameters to end with `|` https://srb.help/2001\n    15 |      puts('hello')\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:19: expected the block parameters to end with `|` https://srb.help/2001\n    19 |    }\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:21: invalid formal argument; formal argument cannot be a constant https://srb.help/2001\n    21 |      Opus::Log.info\n              ^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:21: expected the block parameters to end with `|` https://srb.help/2001\n    21 |      Opus::Log.info\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:21: unexpected '::', ignoring it https://srb.help/2001\n    21 |      Opus::Log.info\n                  ^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:27: expected the block parameters to end with `|` https://srb.help/2001\n    27 |    }\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:29: expected the block parameters to end with `|` https://srb.help/2001\n    29 |      puts 'hello'\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:32: expected the block parameters to end with `|` https://srb.help/2001\n    32 |      puts('hello')\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:35: expected the block parameters to end with `|` https://srb.help/2001\n    35 |      x = nil\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:38: expected the block parameters to end with `|` https://srb.help/2001\n    38 |      Opus::Log.info\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:43: expected the block parameters to end with `|` https://srb.help/2001\n    43 |    1.times { |x, # error: unmatched \"|\" in block argument list\n                         ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:46: expected the block parameters to end with `|` https://srb.help/2001\n    46 |      puts 'hello' # error: unexpected token tSTRING\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:49: expected the block parameters to end with `|` https://srb.help/2001\n    49 |      puts('hello') # error: unexpected token tNL\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:52: duplicated argument name https://srb.help/2001\n    52 |      x = nil\n              ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:53: expected the block parameters to end with `|` https://srb.help/2001\n    53 |    }\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:55: invalid formal argument; formal argument cannot be a constant https://srb.help/2001\n    55 |      Opus::Log.info # error: unexpected token tNL\n              ^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:55: expected the block parameters to end with `|` https://srb.help/2001\n    55 |      Opus::Log.info # error: unexpected token tNL\n                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:55: unexpected '::', ignoring it https://srb.help/2001\n    55 |      Opus::Log.info # error: unexpected token tNL\n                  ^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:61: expected the block parameters to end with `|` https://srb.help/2001\n    61 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:64: expected the block parameters to end with `|` https://srb.help/2001\n    64 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:68: expected the block parameters to end with `|` https://srb.help/2001\n    68 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:72: expected the block parameters to end with `|` https://srb.help/2001\n    72 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:76: expected the block parameters to end with `|` https://srb.help/2001\n    76 |      # error: unexpected token tNL\n        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:21: Unable to resolve constant `Log` https://srb.help/5002\n    21 |      Opus::Log.info\n                    ^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_2.rb:55: Unable to resolve constant `Log` https://srb.help/5002\n    55 |      Opus::Log.info # error: unexpected token tNL\n                    ^^^\nErrors: 27",
    "prism_error_count": 27,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test_no_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          x = nil\n        end\n        1.times() do ||\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n\n    def test_one_arg<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          x\n        end\n        1.times() do ||\n          begin\n            x\n            <self>.puts(\"hello\")\n          end\n        end\n        1.times() do ||\n          begin\n            x\n            <self>.puts(\"hello\")\n          end\n        end\n        1.times() do ||\n          begin\n            x\n            x = nil\n          end\n        end\n        1.times() do ||\n          begin\n            x\n            <emptyTree>::<C Opus>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_one_arg_comma<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          begin\n            <assignTemp>$2 = nil\n            <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 2, 0)\n            x = <assignTemp>$3.[](0)\n            x = <assignTemp>$3.[](1)\n            <assignTemp>$2\n          end\n        end\n        1.times() do ||\n          <emptyTree>\n        end\n      end\n    end\n\n    def test_two_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          x = nil\n        end\n        1.times() do ||\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test_no_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do |puts|\n          \"hello\"\n        end\n        1.times() do |puts|\n          \"hello\"\n        end\n        1.times() do |x = nil|\n          <emptyTree>\n        end\n        1.times() do |Opus|\n          begin\n            <emptyTree>::<C <ErrorNode>>\n            <emptyTree>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_one_arg<<todo method>>(&<blk>)\n      begin\n        1.times() do |x|\n          <emptyTree>\n        end\n        1.times() do |x|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x|\n          x = nil\n        end\n        1.times() do |x|\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n\n    def test_one_arg_comma<<todo method>>(&<blk>)\n      begin\n        1.times() do |x, *<restargs>|\n          <emptyTree>\n        end\n        1.times() do |x, puts|\n          \"hello\"\n        end\n        1.times() do |x, puts|\n          \"hello\"\n        end\n        1.times() do |x, x = nil|\n          <emptyTree>\n        end\n        1.times() do |x, Opus|\n          begin\n            <emptyTree>::<C <ErrorNode>>\n            <emptyTree>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_two_args<<todo method>>(&<blk>)\n      begin\n        1.times() do |x, y|\n          <emptyTree>\n        end\n        1.times() do |x, y|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x, y|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x, y|\n          x = nil\n        end\n        1.times() do |x, y|\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n  end\nend",
    "tree_similarity": 0.3303360151443445,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,88 +11,82 @@\n         1.times() do ||\n           <emptyTree>\n         end\n-        1.times() do ||\n-          <self>.puts(\"hello\")\n+        1.times() do |puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n-          <self>.puts(\"hello\")\n+        1.times() do |puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n-          x = nil\n+        1.times() do |x = nil|\n+          <emptyTree>\n         end\n-        1.times() do ||\n-          <emptyTree>::<C Opus>::<C Log>.info()\n+        1.times() do |Opus|\n+          begin\n+            <emptyTree>::<C <ErrorNode>>\n+            <emptyTree>::<C Log>.info()\n+          end\n         end\n       end\n     end\n \n     def test_one_arg<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n-          x\n+        1.times() do |x|\n+          <emptyTree>\n         end\n-        1.times() do ||\n-          begin\n-            x\n-            <self>.puts(\"hello\")\n-          end\n+        1.times() do |x|\n+          <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n-          begin\n-            x\n-            <self>.puts(\"hello\")\n-          end\n+        1.times() do |x|\n+          <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n-          begin\n-            x\n-            x = nil\n-          end\n+        1.times() do |x|\n+          x = nil\n         end\n-        1.times() do ||\n-          begin\n-            x\n-            <emptyTree>::<C Opus>::<C Log>.info()\n-          end\n+        1.times() do |x|\n+          <emptyTree>::<C Opus>::<C Log>.info()\n         end\n       end\n     end\n \n     def test_one_arg_comma<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n+        1.times() do |x, *<restargs>|\n           <emptyTree>\n         end\n-        1.times() do ||\n-          begin\n-            <assignTemp>$2 = nil\n-            <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 2, 0)\n-            x = <assignTemp>$3.[](0)\n-            x = <assignTemp>$3.[](1)\n-            <assignTemp>$2\n-          end\n+        1.times() do |x, puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n+        1.times() do |x, puts|\n+          \"hello\"\n+        end\n+        1.times() do |x, x = nil|\n           <emptyTree>\n         end\n+        1.times() do |x, Opus|\n+          begin\n+            <emptyTree>::<C <ErrorNode>>\n+            <emptyTree>::<C Log>.info()\n+          end\n+        end\n       end\n     end\n \n     def test_two_args<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n+        1.times() do |x, y|\n           <emptyTree>\n         end\n-        1.times() do ||\n+        1.times() do |x, y|\n           <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n+        1.times() do |x, y|\n           <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n+        1.times() do |x, y|\n           x = nil\n         end\n-        1.times() do ||\n+        1.times() do |x, y|\n           <emptyTree>::<C Opus>::<C Log>.info()\n         end\n       end",
    "error_emoji": "游댮",
    "error_assessment": "Prism produces spurious errors treating code elements as block parameters (e.g., Opus as constant argument, x as duplicate) and misses the simpler unmatched pipe errors that Original correctly identifies."
  },
  "unmatched_block_args_3.rb": {
    "filename": "unmatched_block_args_3.rb",
    "input_code": "# typed: false\n\nmodule Opus::Log\n  def self.info; end\nend\n\n# The commented out lines are the ones that don't parse at the time of writing\n# this test. If any of them is uncommented it makes the whole file appear to\n# fail to parse at all, but I didn't want to make one file for each of them in\n# isolation.\n\nclass A\n  def test_no_args\n    1.times do | end # error: unmatched \"|\" in block argument list\n    1.times do | puts 'hello' end # error: unmatched \"|\" in block argument list\n    1.times do | puts('hello') end # error: unmatched \"|\" in block argument list\n    1.times do | x = nil end # error: unmatched \"|\" in block argument list\n    1.times do | Opus::Log.info end # error: unmatched \"|\" in block argument list\n  end\n\n  def test_one_arg\n    1.times do |x end # error: unmatched \"|\" in block argument list\n    1.times do |x puts 'hello' end # error: unmatched \"|\" in block argument list\n    1.times do |x puts('hello') end # error: unmatched \"|\" in block argument list\n    1.times do |x x = nil end # error: unmatched \"|\" in block argument list\n    1.times do |x Opus::Log.info end # error: unmatched \"|\" in block argument list\n  end\n\n  def test_one_arg_comma\n    1.times do |x, end # error: unmatched \"|\" in block argument list\n    # 1.times do |x, puts 'hello' end\n    1.times do |x, puts('hello') end\n    #          ^ error: unmatched \"|\" in block argument list\n    #                            ^^^ error: unexpected token \"end\"\n    1.times do |x, x = nil end # error: unmatched \"|\" in block argument list\n    1.times do |x, Opus::Log.info end\n    #          ^ error: unmatched \"|\" in block argument list\n    #                             ^^^ error: unexpected token \"end\"\n  end\n\n  def test_two_args\n    1.times do |x, y end\n    #          ^ error: unmatched \"|\" in block argument list\n    #                ^^^ error: unexpected token \"end\"\n    # 1.times do |x, y puts 'hello' end\n    # 1.times do |x, y puts('hello') end\n    # 1.times do |x, y x = nil end\n    # 1.times do |x, y Opus::Log.info end\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/unmatched_block_args_3.rb:14: unmatched \"|\" in block argument list https://srb.help/2001\n    14 |    1.times do | end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:15: unmatched \"|\" in block argument list https://srb.help/2001\n    15 |    1.times do | puts 'hello' end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:16: unmatched \"|\" in block argument list https://srb.help/2001\n    16 |    1.times do | puts('hello') end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:17: unmatched \"|\" in block argument list https://srb.help/2001\n    17 |    1.times do | x = nil end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:18: unmatched \"|\" in block argument list https://srb.help/2001\n    18 |    1.times do | Opus::Log.info end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:22: unmatched \"|\" in block argument list https://srb.help/2001\n    22 |    1.times do |x end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:23: unmatched \"|\" in block argument list https://srb.help/2001\n    23 |    1.times do |x puts 'hello' end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:24: unmatched \"|\" in block argument list https://srb.help/2001\n    24 |    1.times do |x puts('hello') end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:25: unmatched \"|\" in block argument list https://srb.help/2001\n    25 |    1.times do |x x = nil end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:26: unmatched \"|\" in block argument list https://srb.help/2001\n    26 |    1.times do |x Opus::Log.info end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:30: unmatched \"|\" in block argument list https://srb.help/2001\n    30 |    1.times do |x, end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:32: unmatched \"|\" in block argument list https://srb.help/2001\n    32 |    1.times do |x, puts('hello') end\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:32: unexpected token \"end\" https://srb.help/2001\n    32 |    1.times do |x, puts('hello') end\n                                         ^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:35: unmatched \"|\" in block argument list https://srb.help/2001\n    35 |    1.times do |x, x = nil end # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:36: unmatched \"|\" in block argument list https://srb.help/2001\n    36 |    1.times do |x, Opus::Log.info end\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:36: unexpected token \"end\" https://srb.help/2001\n    36 |    1.times do |x, Opus::Log.info end\n                                          ^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:42: unmatched \"|\" in block argument list https://srb.help/2001\n    42 |    1.times do |x, y end\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:42: unexpected token \"end\" https://srb.help/2001\n    42 |    1.times do |x, y end\n                             ^^^\nErrors: 18",
    "original_error_count": 18,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/unmatched_block_args_3.rb:14: expected the block parameters to end with `|` https://srb.help/2001\n    14 |    1.times do | end # error: unmatched \"|\" in block argument list\n                        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:15: expected the block parameters to end with `|` https://srb.help/2001\n    15 |    1.times do | puts 'hello' end # error: unmatched \"|\" in block argument list\n                             ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:16: expected the block parameters to end with `|` https://srb.help/2001\n    16 |    1.times do | puts('hello') end # error: unmatched \"|\" in block argument list\n                             ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:17: expected the block parameters to end with `|` https://srb.help/2001\n    17 |    1.times do | x = nil end # error: unmatched \"|\" in block argument list\n                                ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:18: invalid formal argument; formal argument cannot be a constant https://srb.help/2001\n    18 |    1.times do | Opus::Log.info end # error: unmatched \"|\" in block argument list\n                         ^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:18: expected the block parameters to end with `|` https://srb.help/2001\n    18 |    1.times do | Opus::Log.info end # error: unmatched \"|\" in block argument list\n                             ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:18: unexpected '::', ignoring it https://srb.help/2001\n    18 |    1.times do | Opus::Log.info end # error: unmatched \"|\" in block argument list\n                             ^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:22: expected the block parameters to end with `|` https://srb.help/2001\n    22 |    1.times do |x end # error: unmatched \"|\" in block argument list\n                         ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:23: expected the block parameters to end with `|` https://srb.help/2001\n    23 |    1.times do |x puts 'hello' end # error: unmatched \"|\" in block argument list\n                         ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:24: expected the block parameters to end with `|` https://srb.help/2001\n    24 |    1.times do |x puts('hello') end # error: unmatched \"|\" in block argument list\n                         ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:25: expected the block parameters to end with `|` https://srb.help/2001\n    25 |    1.times do |x x = nil end # error: unmatched \"|\" in block argument list\n                         ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:26: expected the block parameters to end with `|` https://srb.help/2001\n    26 |    1.times do |x Opus::Log.info end # error: unmatched \"|\" in block argument list\n                         ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:30: expected the block parameters to end with `|` https://srb.help/2001\n    30 |    1.times do |x, end # error: unmatched \"|\" in block argument list\n                          ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:32: expected the block parameters to end with `|` https://srb.help/2001\n    32 |    1.times do |x, puts('hello') end\n                               ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:35: duplicated argument name https://srb.help/2001\n    35 |    1.times do |x, x = nil end # error: unmatched \"|\" in block argument list\n                           ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:35: expected the block parameters to end with `|` https://srb.help/2001\n    35 |    1.times do |x, x = nil end # error: unmatched \"|\" in block argument list\n                                  ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:36: invalid formal argument; formal argument cannot be a constant https://srb.help/2001\n    36 |    1.times do |x, Opus::Log.info end\n                           ^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:36: expected the block parameters to end with `|` https://srb.help/2001\n    36 |    1.times do |x, Opus::Log.info end\n                               ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:36: unexpected '::', ignoring it https://srb.help/2001\n    36 |    1.times do |x, Opus::Log.info end\n                               ^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:42: expected the block parameters to end with `|` https://srb.help/2001\n    42 |    1.times do |x, y end\n                            ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:18: Unable to resolve constant `Log` https://srb.help/5002\n    18 |    1.times do | Opus::Log.info end # error: unmatched \"|\" in block argument list\n                               ^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_3.rb:36: Unable to resolve constant `Log` https://srb.help/5002\n    36 |    1.times do |x, Opus::Log.info end\n                                 ^^^\nErrors: 22",
    "prism_error_count": 22,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test_no_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          x = nil\n        end\n        1.times() do ||\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n\n    def test_one_arg<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          x\n        end\n        1.times() do ||\n          <self>.x(<self>.puts(\"hello\"))\n        end\n        1.times() do ||\n          <self>.x(<self>.puts(\"hello\"))\n        end\n        1.times() do ||\n          <self>.x(x = nil)\n        end\n        1.times() do ||\n          <self>.x(<emptyTree>::<C Opus>::<C Log>.info())\n        end\n      end\n    end\n\n    def test_one_arg_comma<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          begin\n            <assignTemp>$2 = nil\n            <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 2, 0)\n            x = <assignTemp>$3.[](0)\n            x = <assignTemp>$3.[](1)\n            <assignTemp>$2\n          end\n        end\n        1.times() do ||\n          <emptyTree>\n        end\n      end\n    end\n\n    def test_two_args<<todo method>>(&<blk>)\n      1.times() do ||\n        <emptyTree>\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test_no_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do |puts|\n          \"hello\"\n        end\n        1.times() do |puts|\n          \"hello\"\n        end\n        1.times() do |x = nil|\n          <emptyTree>\n        end\n        1.times() do |Opus|\n          begin\n            <emptyTree>::<C <ErrorNode>>\n            <emptyTree>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_one_arg<<todo method>>(&<blk>)\n      begin\n        1.times() do |x|\n          <emptyTree>\n        end\n        1.times() do |x|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x|\n          x = nil\n        end\n        1.times() do |x|\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n\n    def test_one_arg_comma<<todo method>>(&<blk>)\n      begin\n        1.times() do |x, *<restargs>|\n          <emptyTree>\n        end\n        1.times() do |x, puts|\n          \"hello\"\n        end\n        1.times() do |x, x = nil|\n          <emptyTree>\n        end\n        1.times() do |x, Opus|\n          begin\n            <emptyTree>::<C <ErrorNode>>\n            <emptyTree>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_two_args<<todo method>>(&<blk>)\n      1.times() do |x, y|\n        <emptyTree>\n      end\n    end\n  end\nend",
    "tree_similarity": 0.3271569195136074,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,66 +11,66 @@\n         1.times() do ||\n           <emptyTree>\n         end\n-        1.times() do ||\n-          <self>.puts(\"hello\")\n+        1.times() do |puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n-          <self>.puts(\"hello\")\n+        1.times() do |puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n-          x = nil\n+        1.times() do |x = nil|\n+          <emptyTree>\n         end\n-        1.times() do ||\n-          <emptyTree>::<C Opus>::<C Log>.info()\n+        1.times() do |Opus|\n+          begin\n+            <emptyTree>::<C <ErrorNode>>\n+            <emptyTree>::<C Log>.info()\n+          end\n         end\n       end\n     end\n \n     def test_one_arg<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n-          x\n+        1.times() do |x|\n+          <emptyTree>\n         end\n-        1.times() do ||\n-          <self>.x(<self>.puts(\"hello\"))\n+        1.times() do |x|\n+          <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n-          <self>.x(<self>.puts(\"hello\"))\n+        1.times() do |x|\n+          <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n-          <self>.x(x = nil)\n+        1.times() do |x|\n+          x = nil\n         end\n-        1.times() do ||\n-          <self>.x(<emptyTree>::<C Opus>::<C Log>.info())\n+        1.times() do |x|\n+          <emptyTree>::<C Opus>::<C Log>.info()\n         end\n       end\n     end\n \n     def test_one_arg_comma<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n+        1.times() do |x, *<restargs>|\n           <emptyTree>\n         end\n-        1.times() do ||\n+        1.times() do |x, puts|\n+          \"hello\"\n+        end\n+        1.times() do |x, x = nil|\n           <emptyTree>\n         end\n-        1.times() do ||\n+        1.times() do |x, Opus|\n           begin\n-            <assignTemp>$2 = nil\n-            <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 2, 0)\n-            x = <assignTemp>$3.[](0)\n-            x = <assignTemp>$3.[](1)\n-            <assignTemp>$2\n+            <emptyTree>::<C <ErrorNode>>\n+            <emptyTree>::<C Log>.info()\n           end\n         end\n-        1.times() do ||\n-          <emptyTree>\n-        end\n       end\n     end\n \n     def test_two_args<<todo method>>(&<blk>)\n-      1.times() do ||\n+      1.times() do |x, y|\n         <emptyTree>\n       end\n     end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all the missing pipe errors with clearer messages but adds extra noise with spurious constant resolution errors and overly detailed parsing errors that don't add value."
  },
  "unmatched_block_args_4.rb": {
    "filename": "unmatched_block_args_4.rb",
    "input_code": "# typed: false\n\nmodule Opus::Log\n  def self.info; end\nend\n\n# The commented out lines are the ones that don't parse at the time of writing\n# this test. If any of them is uncommented it makes the whole file appear to\n# fail to parse at all, but I didn't want to make one file for each of them in\n# isolation.\n\nclass A\n  def test_no_args\n    1.times { | } # error: unmatched \"|\" in block argument list\n    1.times { | puts 'hello' } # error: unmatched \"|\" in block argument list\n    1.times { | puts('hello') } # error: unmatched \"|\" in block argument list\n    1.times { | x = nil } # error: unmatched \"|\" in block argument list\n    1.times { | Opus::Log.info } # error: unmatched \"|\" in block argument list\n  end\n\n  def test_one_arg\n    1.times { |x } # error: unmatched \"|\" in block argument list\n    1.times { |x puts 'hello' } # error: unmatched \"|\" in block argument list\n    1.times { |x puts('hello') } # error: unmatched \"|\" in block argument list\n    1.times { |x x = nil } # error: unmatched \"|\" in block argument list\n    1.times { |x Opus::Log.info } # error: unmatched \"|\" in block argument list\n  end\n\n  def test_one_arg_comma\n    1.times { |x, } # error: unmatched \"|\" in block argument list\n    # 1.times { |x, puts 'hello' }\n    1.times { |x, puts('hello') }\n    #         ^ error: unmatched \"|\" in block argument list\n    #                           ^ error: unexpected token tRCURLY\n    1.times { |x, x = nil } # error: unmatched \"|\" in block argument list\n    1.times { |x, Opus::Log.info }\n    #         ^ error: unmatched \"|\" in block argument list\n    #                            ^ error: unexpected token tRCURLY\n  end\n\n  def test_two_args\n    1.times { |x, y }\n    #         ^ error: unmatched \"|\" in block argument list\n    #               ^ error: unexpected token tRCURLY\n    # 1.times { |x, y puts 'hello' }\n    # 1.times { |x, y puts('hello') }\n    # 1.times { |x, y x = nil }\n    # 1.times { |x, y Opus::Log.info }\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/unmatched_block_args_4.rb:14: unmatched \"|\" in block argument list https://srb.help/2001\n    14 |    1.times { | } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:15: unmatched \"|\" in block argument list https://srb.help/2001\n    15 |    1.times { | puts 'hello' } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:16: unmatched \"|\" in block argument list https://srb.help/2001\n    16 |    1.times { | puts('hello') } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:17: unmatched \"|\" in block argument list https://srb.help/2001\n    17 |    1.times { | x = nil } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:18: unmatched \"|\" in block argument list https://srb.help/2001\n    18 |    1.times { | Opus::Log.info } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:22: unmatched \"|\" in block argument list https://srb.help/2001\n    22 |    1.times { |x } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:23: unmatched \"|\" in block argument list https://srb.help/2001\n    23 |    1.times { |x puts 'hello' } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:24: unmatched \"|\" in block argument list https://srb.help/2001\n    24 |    1.times { |x puts('hello') } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:25: unmatched \"|\" in block argument list https://srb.help/2001\n    25 |    1.times { |x x = nil } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:26: unmatched \"|\" in block argument list https://srb.help/2001\n    26 |    1.times { |x Opus::Log.info } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:30: unmatched \"|\" in block argument list https://srb.help/2001\n    30 |    1.times { |x, } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:32: unmatched \"|\" in block argument list https://srb.help/2001\n    32 |    1.times { |x, puts('hello') }\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:32: unexpected token tRCURLY https://srb.help/2001\n    32 |    1.times { |x, puts('hello') }\n                                        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:35: unmatched \"|\" in block argument list https://srb.help/2001\n    35 |    1.times { |x, x = nil } # error: unmatched \"|\" in block argument list\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:36: unmatched \"|\" in block argument list https://srb.help/2001\n    36 |    1.times { |x, Opus::Log.info }\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:36: unexpected token tRCURLY https://srb.help/2001\n    36 |    1.times { |x, Opus::Log.info }\n                                         ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:42: unmatched \"|\" in block argument list https://srb.help/2001\n    42 |    1.times { |x, y }\n                      ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:42: unexpected token tRCURLY https://srb.help/2001\n    42 |    1.times { |x, y }\n                            ^\nErrors: 18",
    "original_error_count": 18,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/unmatched_block_args_4.rb:14: expected the block parameters to end with `|` https://srb.help/2001\n    14 |    1.times { | } # error: unmatched \"|\" in block argument list\n                       ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:15: expected the block parameters to end with `|` https://srb.help/2001\n    15 |    1.times { | puts 'hello' } # error: unmatched \"|\" in block argument list\n                            ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:16: expected the block parameters to end with `|` https://srb.help/2001\n    16 |    1.times { | puts('hello') } # error: unmatched \"|\" in block argument list\n                            ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:17: expected the block parameters to end with `|` https://srb.help/2001\n    17 |    1.times { | x = nil } # error: unmatched \"|\" in block argument list\n                               ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:18: invalid formal argument; formal argument cannot be a constant https://srb.help/2001\n    18 |    1.times { | Opus::Log.info } # error: unmatched \"|\" in block argument list\n                        ^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:18: expected the block parameters to end with `|` https://srb.help/2001\n    18 |    1.times { | Opus::Log.info } # error: unmatched \"|\" in block argument list\n                            ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:18: unexpected '::', ignoring it https://srb.help/2001\n    18 |    1.times { | Opus::Log.info } # error: unmatched \"|\" in block argument list\n                            ^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:22: expected the block parameters to end with `|` https://srb.help/2001\n    22 |    1.times { |x } # error: unmatched \"|\" in block argument list\n                        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:23: expected the block parameters to end with `|` https://srb.help/2001\n    23 |    1.times { |x puts 'hello' } # error: unmatched \"|\" in block argument list\n                        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:24: expected the block parameters to end with `|` https://srb.help/2001\n    24 |    1.times { |x puts('hello') } # error: unmatched \"|\" in block argument list\n                        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:25: expected the block parameters to end with `|` https://srb.help/2001\n    25 |    1.times { |x x = nil } # error: unmatched \"|\" in block argument list\n                        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:26: expected the block parameters to end with `|` https://srb.help/2001\n    26 |    1.times { |x Opus::Log.info } # error: unmatched \"|\" in block argument list\n                        ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:30: expected the block parameters to end with `|` https://srb.help/2001\n    30 |    1.times { |x, } # error: unmatched \"|\" in block argument list\n                         ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:32: expected the block parameters to end with `|` https://srb.help/2001\n    32 |    1.times { |x, puts('hello') }\n                              ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:35: duplicated argument name https://srb.help/2001\n    35 |    1.times { |x, x = nil } # error: unmatched \"|\" in block argument list\n                          ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:35: expected the block parameters to end with `|` https://srb.help/2001\n    35 |    1.times { |x, x = nil } # error: unmatched \"|\" in block argument list\n                                 ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:36: invalid formal argument; formal argument cannot be a constant https://srb.help/2001\n    36 |    1.times { |x, Opus::Log.info }\n                          ^^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:36: expected the block parameters to end with `|` https://srb.help/2001\n    36 |    1.times { |x, Opus::Log.info }\n                              ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:36: unexpected '::', ignoring it https://srb.help/2001\n    36 |    1.times { |x, Opus::Log.info }\n                              ^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:42: expected the block parameters to end with `|` https://srb.help/2001\n    42 |    1.times { |x, y }\n                           ^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:18: Unable to resolve constant `Log` https://srb.help/5002\n    18 |    1.times { | Opus::Log.info } # error: unmatched \"|\" in block argument list\n                              ^^^\n\ntest/testdata/parser/error_recovery/unmatched_block_args_4.rb:36: Unable to resolve constant `Log` https://srb.help/5002\n    36 |    1.times { |x, Opus::Log.info }\n                                ^^^\nErrors: 22",
    "prism_error_count": 22,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test_no_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          <self>.puts(\"hello\")\n        end\n        1.times() do ||\n          x = nil\n        end\n        1.times() do ||\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n\n    def test_one_arg<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          x\n        end\n        1.times() do ||\n          <self>.x(<self>.puts(\"hello\"))\n        end\n        1.times() do ||\n          <self>.x(<self>.puts(\"hello\"))\n        end\n        1.times() do ||\n          <self>.x(x = nil)\n        end\n        1.times() do ||\n          <self>.x(<emptyTree>::<C Opus>::<C Log>.info())\n        end\n      end\n    end\n\n    def test_one_arg_comma<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do ||\n          begin\n            <assignTemp>$2 = nil\n            <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 2, 0)\n            x = <assignTemp>$3.[](0)\n            x = <assignTemp>$3.[](1)\n            <assignTemp>$2\n          end\n        end\n        1.times() do ||\n          <emptyTree>\n        end\n      end\n    end\n\n    def test_two_args<<todo method>>(&<blk>)\n      1.times() do ||\n        <emptyTree>\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  module <emptyTree>::<C Opus>::<C Log><<C <todo sym>>> < ()\n    def self.info<<todo method>>(&<blk>)\n      <emptyTree>\n    end\n  end\n\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def test_no_args<<todo method>>(&<blk>)\n      begin\n        1.times() do ||\n          <emptyTree>\n        end\n        1.times() do |puts|\n          \"hello\"\n        end\n        1.times() do |puts|\n          \"hello\"\n        end\n        1.times() do |x = nil|\n          <emptyTree>\n        end\n        1.times() do |Opus|\n          begin\n            <emptyTree>::<C <ErrorNode>>\n            <emptyTree>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_one_arg<<todo method>>(&<blk>)\n      begin\n        1.times() do |x|\n          <emptyTree>\n        end\n        1.times() do |x|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x|\n          <self>.puts(\"hello\")\n        end\n        1.times() do |x|\n          x = nil\n        end\n        1.times() do |x|\n          <emptyTree>::<C Opus>::<C Log>.info()\n        end\n      end\n    end\n\n    def test_one_arg_comma<<todo method>>(&<blk>)\n      begin\n        1.times() do |x, *<restargs>|\n          <emptyTree>\n        end\n        1.times() do |x, puts|\n          \"hello\"\n        end\n        1.times() do |x, x = nil|\n          <emptyTree>\n        end\n        1.times() do |x, Opus|\n          begin\n            <emptyTree>::<C <ErrorNode>>\n            <emptyTree>::<C Log>.info()\n          end\n        end\n      end\n    end\n\n    def test_two_args<<todo method>>(&<blk>)\n      1.times() do |x, y|\n        <emptyTree>\n      end\n    end\n  end\nend",
    "tree_similarity": 0.3271569195136074,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -11,66 +11,66 @@\n         1.times() do ||\n           <emptyTree>\n         end\n-        1.times() do ||\n-          <self>.puts(\"hello\")\n+        1.times() do |puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n-          <self>.puts(\"hello\")\n+        1.times() do |puts|\n+          \"hello\"\n         end\n-        1.times() do ||\n-          x = nil\n+        1.times() do |x = nil|\n+          <emptyTree>\n         end\n-        1.times() do ||\n-          <emptyTree>::<C Opus>::<C Log>.info()\n+        1.times() do |Opus|\n+          begin\n+            <emptyTree>::<C <ErrorNode>>\n+            <emptyTree>::<C Log>.info()\n+          end\n         end\n       end\n     end\n \n     def test_one_arg<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n-          x\n+        1.times() do |x|\n+          <emptyTree>\n         end\n-        1.times() do ||\n-          <self>.x(<self>.puts(\"hello\"))\n+        1.times() do |x|\n+          <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n-          <self>.x(<self>.puts(\"hello\"))\n+        1.times() do |x|\n+          <self>.puts(\"hello\")\n         end\n-        1.times() do ||\n-          <self>.x(x = nil)\n+        1.times() do |x|\n+          x = nil\n         end\n-        1.times() do ||\n-          <self>.x(<emptyTree>::<C Opus>::<C Log>.info())\n+        1.times() do |x|\n+          <emptyTree>::<C Opus>::<C Log>.info()\n         end\n       end\n     end\n \n     def test_one_arg_comma<<todo method>>(&<blk>)\n       begin\n-        1.times() do ||\n+        1.times() do |x, *<restargs>|\n           <emptyTree>\n         end\n-        1.times() do ||\n+        1.times() do |x, puts|\n+          \"hello\"\n+        end\n+        1.times() do |x, x = nil|\n           <emptyTree>\n         end\n-        1.times() do ||\n+        1.times() do |x, Opus|\n           begin\n-            <assignTemp>$2 = nil\n-            <assignTemp>$3 = ::<Magic>.<expand-splat>(<assignTemp>$2, 2, 0)\n-            x = <assignTemp>$3.[](0)\n-            x = <assignTemp>$3.[](1)\n-            <assignTemp>$2\n+            <emptyTree>::<C <ErrorNode>>\n+            <emptyTree>::<C Log>.info()\n           end\n         end\n-        1.times() do ||\n-          <emptyTree>\n-        end\n       end\n     end\n \n     def test_two_args<<todo method>>(&<blk>)\n-      1.times() do ||\n+      1.times() do |x, y|\n         <emptyTree>\n       end\n     end",
    "error_emoji": "游리",
    "error_assessment": "Prism catches all syntax errors with clearer messages about missing closing pipes, but adds noisy secondary errors about constants and duplicate names that are artifacts of the malformed syntax, plus two spurious constant resolution errors."
  },
  "unterminated_array.rb": {
    "filename": "unterminated_array.rb",
    "input_code": "# typed: true\n\nclass A\n  def f\n    [1,\n  #   ^ error: unexpected token \",\"\n  # ^ error: unterminated \"[\"\n    puts \"hi\"\n  end\n  def g\n    [\n  # ^ error: unterminated \"[\"\n  end\n  def h\n    puts \"ho\"\n  end\nend\n\nclass B\n  def q\n    puts \"ho\"\n    [\n  # ^ error: unterminated \"[\"\n  end\n  def r\n    puts \"hi\"\n  end\n  def s\n    puts ([] + [)\n             # ^ error: unterminated \"[\"\n  end\n  def t\n    puts \"hi\"\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/unterminated_array.rb:5: unexpected token \",\" https://srb.help/2001\n     5 |    [1,\n              ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:5: unterminated \"[\" https://srb.help/2001\n     5 |    [1,\n            ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:11: unterminated \"[\" https://srb.help/2001\n    11 |    [\n            ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:22: unterminated \"[\" https://srb.help/2001\n    22 |    [\n            ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:29: unterminated \"[\" https://srb.help/2001\n    29 |    puts ([] + [)\n                       ^\nErrors: 5",
    "original_error_count": 5,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/unterminated_array.rb:8: unexpected string literal; expected a `,` separator for the array elements https://srb.help/2001\n     8 |    puts \"hi\"\n                ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:9: unexpected 'end'; expected a `,` separator for the array elements https://srb.help/2001\n     9 |  end\n        ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:9: expected an expression for the array element https://srb.help/2001\n     9 |  end\n        ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:9: unexpected 'end'; expected a `]` to close the array https://srb.help/2001\n     9 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:11: expected an expression for the array element https://srb.help/2001\n    11 |    [\n            ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:13: unexpected 'end'; expected a `]` to close the array https://srb.help/2001\n    13 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:22: expected an expression for the array element https://srb.help/2001\n    22 |    [\n            ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:24: unexpected 'end'; expected a `]` to close the array https://srb.help/2001\n    24 |  end\n          ^^^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:29: expected an expression for the array element https://srb.help/2001\n    29 |    puts ([] + [)\n                       ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:29: unexpected ')'; expected a `]` to close the array https://srb.help/2001\n    29 |    puts ([] + [)\n                        ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:29: expected an `end` to close the `def` statement https://srb.help/2001\n    29 |    puts ([] + [)\n                         ^\n\ntest/testdata/parser/error_recovery/unterminated_array.rb:29: expected an `end` to close the `class` statement https://srb.help/2001\n    29 |    puts ([] + [)\n                         ^\nErrors: 12",
    "prism_error_count": 12,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def f<<todo method>>(&<blk>)\n      [<emptyTree>::<C <ErrorNode>>]\n    end\n\n    def g<<todo method>>(&<blk>)\n      []\n    end\n\n    def h<<todo method>>(&<blk>)\n      <self>.puts(\"ho\")\n    end\n  end\n\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    def q<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"ho\")\n        []\n      end\n    end\n\n    def r<<todo method>>(&<blk>)\n      <self>.puts(\"hi\")\n    end\n\n    def s<<todo method>>(&<blk>)\n      <self>.puts([].+([]))\n    end\n\n    def t<<todo method>>(&<blk>)\n      <self>.puts(\"hi\")\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def f<<todo method>>(&<blk>)\n      [1, <self>.puts(), \"hi\", <emptyTree>::<C <ErrorNode>>]\n    end\n\n    def g<<todo method>>(&<blk>)\n      [<emptyTree>::<C <ErrorNode>>]\n    end\n\n    def h<<todo method>>(&<blk>)\n      <self>.puts(\"ho\")\n    end\n  end\n\n  class <emptyTree>::<C B><<C <todo sym>>> < (::<todo sym>)\n    def q<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"ho\")\n        [<emptyTree>::<C <ErrorNode>>]\n      end\n    end\n\n    def r<<todo method>>(&<blk>)\n      <self>.puts(\"hi\")\n    end\n\n    def s<<todo method>>(&<blk>)\n      <self>.puts([].+([<emptyTree>::<C <ErrorNode>>]))\n    end\n  end\nend",
    "tree_similarity": 0.2451523545706371,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,11 +1,11 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n     def f<<todo method>>(&<blk>)\n-      [<emptyTree>::<C <ErrorNode>>]\n+      [1, <self>.puts(), \"hi\", <emptyTree>::<C <ErrorNode>>]\n     end\n \n     def g<<todo method>>(&<blk>)\n-      []\n+      [<emptyTree>::<C <ErrorNode>>]\n     end\n \n     def h<<todo method>>(&<blk>)\n@@ -17,7 +17,7 @@\n     def q<<todo method>>(&<blk>)\n       begin\n         <self>.puts(\"ho\")\n-        []\n+        [<emptyTree>::<C <ErrorNode>>]\n       end\n     end\n \n@@ -26,11 +26,7 @@\n     end\n \n     def s<<todo method>>(&<blk>)\n-      <self>.puts([].+([]))\n+      <self>.puts([].+([<emptyTree>::<C <ErrorNode>>]))\n     end\n-\n-    def t<<todo method>>(&<blk>)\n-      <self>.puts(\"hi\")\n-    end\n   end\n end",
    "error_emoji": "游댮",
    "error_assessment": "Prism produces 12 errors versus Original's 5, with overly verbose cascading errors and misses the simple unterminated bracket diagnostic that Original provides at the actual problem location."
  },
  "unterminated_array_bad_1.rb": {
    "filename": "unterminated_array_bad_1.rb",
    "input_code": "# typed: true\n\n# We'd like a better parse for this case than we currently are getting. Specifically it would be nice if it didn't drop\n# the 1 from the array, nor drop the sig + method def. If you can get closer to the desired behavior, please feel free\n# to update the .exp file for this test.\n\nclass A\n  X = [1,\n    # ^ error: unterminated \"[\"\n  sig {void}\n  def bar\n# ^^^ error: unexpected token \"def\"\n  end\nend # error: unexpected token \"end\"\n",
    "original_errors": "test/testdata/parser/error_recovery/unterminated_array_bad_1.rb:11: unexpected token \"def\" https://srb.help/2001\n    11 |  def bar\n          ^^^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_1.rb:8: unterminated \"[\" https://srb.help/2001\n     8 |  X = [1,\n              ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_1.rb:14: unexpected token \"end\" https://srb.help/2001\n    14 |end # error: unexpected token \"end\"\n        ^^^\nErrors: 3",
    "original_error_count": 3,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/unterminated_array_bad_1.rb:11: unexpected 'def'; expected a `,` separator for the array elements https://srb.help/2001\n    11 |  def bar\n        ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_1.rb:14: unexpected 'end'; expected a `,` separator for the array elements https://srb.help/2001\n    14 |end # error: unexpected token \"end\"\n        ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_1.rb:14: expected an expression for the array element https://srb.help/2001\n    14 |end # error: unexpected token \"end\"\n        ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_1.rb:14: unexpected 'end'; expected a `]` to close the array https://srb.help/2001\n    14 |end # error: unexpected token \"end\"\n        ^^^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_1.rb:10: Method `sig` does not exist on `T.class_of(A)` https://srb.help/7003\n    10 |  sig {void}\n          ^^^\n  Got `T.class_of(A)` originating from:\n    test/testdata/parser/error_recovery/unterminated_array_bad_1.rb:7:\n     7 |class A\n        ^\n  Autocorrect: Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/unterminated_array_bad_1.rb:8: Insert `extend T::Sig`\n     8 |  X = [1,\n        ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_1.rb:10: Method `void` does not exist on `T.class_of(A)` https://srb.help/7003\n    10 |  sig {void}\n               ^^^^\n  Got `T.class_of(A)` originating from:\n    test/testdata/parser/error_recovery/unterminated_array_bad_1.rb:7:\n     7 |class A\n        ^\n  Did you mean `load`? Use `-a` to autocorrect\n    test/testdata/parser/error_recovery/unterminated_array_bad_1.rb:10: Replace with `load`\n    10 |  sig {void}\n               ^^^^\n    https://github.com/sorbet/sorbet/tree/master/rbi/core/kernel.rbi#L1664: Defined here\n    1664 |  def load(filename, arg0=T.unsafe(nil)); end\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nErrors: 6",
    "prism_error_count": 6,
    "prism_autocorrects": 1,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <emptyTree>::<C X> = [<emptyTree>::<C <ErrorNode>>]\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    <emptyTree>::<C X> = [1, <self>.sig() do ||\n        <self>.void()\n      end, def bar<<todo method>>(&<blk>)\n        <emptyTree>\n      end, <emptyTree>::<C <ErrorNode>>]\n  end\nend",
    "tree_similarity": 0.4671280276816609,
    "tree_emoji": "游댮",
    "tree_diff": "--- Original\n+++ Prism\n@@ -1,5 +1,9 @@\n class <emptyTree><<C <root>>> < (::<todo sym>)\n   class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n-    <emptyTree>::<C X> = [<emptyTree>::<C <ErrorNode>>]\n+    <emptyTree>::<C X> = [1, <self>.sig() do ||\n+        <self>.void()\n+      end, def bar<<todo method>>(&<blk>)\n+        <emptyTree>\n+      end, <emptyTree>::<C <ErrorNode>>]\n   end\n end",
    "autocorrect_code_diff": "--- Original\n+++ Autocorrected\n@@ -5,9 +5,10 @@\n # to update the .exp file for this test.\n \n class A\n+  extend T::Sig\n   X = [1,\n     # ^ error: unterminated \"[\"\n-  sig {void}\n+  sig {load}\n   def bar\n # ^^^ error: unexpected token \"def\"\n   end",
    "error_emoji": "游댮",
    "error_assessment": "Prism fails to recognize the unterminated array and instead treats sig/def/end as array elements, missing the core parse error while generating spurious type-checking errors."
  },
  "unterminated_array_bad_2.rb": {
    "filename": "unterminated_array_bad_2.rb",
    "input_code": "# typed: true\n\n# We'd like a better parse for this case than we currently are getting. Specifically it would be nice if it didn't drop\n# the 1 from the array, nor drop the \"puts 'after'\". If you can get closer to the desired behavior, please feel free to\n# update the .exp file for this test.\n\nclass A\n  def bar\n    puts 'before'\n    x = [1,\n      # ^ error: unterminated \"[\"\n        # ^ error: unexpected token \",\"\n    puts 'after'\n  end\nend\n",
    "original_errors": "test/testdata/parser/error_recovery/unterminated_array_bad_2.rb:10: unexpected token \",\" https://srb.help/2001\n    10 |    x = [1,\n                  ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_2.rb:10: unterminated \"[\" https://srb.help/2001\n    10 |    x = [1,\n                ^\nErrors: 2",
    "original_error_count": 2,
    "original_autocorrects": 0,
    "prism_errors": "test/testdata/parser/error_recovery/unterminated_array_bad_2.rb:13: unexpected string literal; expected a `,` separator for the array elements https://srb.help/2001\n    13 |    puts 'after'\n                ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_2.rb:14: unexpected 'end'; expected a `,` separator for the array elements https://srb.help/2001\n    14 |  end\n        ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_2.rb:14: expected an expression for the array element https://srb.help/2001\n    14 |  end\n        ^\n\ntest/testdata/parser/error_recovery/unterminated_array_bad_2.rb:14: unexpected 'end'; expected a `]` to close the array https://srb.help/2001\n    14 |  end\n          ^^^\nErrors: 4",
    "prism_error_count": 4,
    "prism_autocorrects": 0,
    "original_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def bar<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        x = [<emptyTree>::<C <ErrorNode>>]\n      end\n    end\n  end\nend",
    "prism_tree": "class <emptyTree><<C <root>>> < (::<todo sym>)\n  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)\n    def bar<<todo method>>(&<blk>)\n      begin\n        <self>.puts(\"before\")\n        x = [1, <self>.puts(), \"after\", <emptyTree>::<C <ErrorNode>>]\n      end\n    end\n  end\nend",
    "tree_similarity": 0.708185053380783,
    "tree_emoji": "游리",
    "tree_diff": "--- Original\n+++ Prism\n@@ -3,7 +3,7 @@\n     def bar<<todo method>>(&<blk>)\n       begin\n         <self>.puts(\"before\")\n-        x = [<emptyTree>::<C <ErrorNode>>]\n+        x = [1, <self>.puts(), \"after\", <emptyTree>::<C <ErrorNode>>]\n       end\n     end\n   end",
    "error_emoji": "游리",
    "error_assessment": "Prism provides more detailed error messages and better recovery by attempting to parse subsequent code, but produces 4 errors instead of 2 and points to later lines rather than the actual problem location at line 10."
  }
}